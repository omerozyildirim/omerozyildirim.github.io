function onClickVectorClick(n) {
	var i, t = document.getElementById("Pano");
	if (clearTimeout(i), $.PanoramaAngle = n.angle ? n.angle : 0, t)
		if (t.openClosestLocation) {
			isClickedOnMap = !0;
			try {
				t.openClosestLocation(n.lat + "," + n.lon)
			} catch (r) {
				console.error(r)
			}
		} else i = setTimeout(onClickVectorClick, 60, n);
	else $.openPanaromkFlash(n.lat + "," + n.lon)
}

function onShareClicked(n) {
	var t = parseFloat(n.split(",")[0]),
		i = parseFloat(n.split(",")[1]);
	$.MapLastClickedLocation[1] = t;
	$.MapLastClickedLocation[0] = i;
	$.PopupMenuClose();
	$($.MapContainer + " .olLayerDiv div").popover("hide");
	$.NetworkSetLocation("info", $.MapLastClickedLocation[0], $.MapLastClickedLocation[1], {
		title: $.PopupLanguageList.current.PopupInfo,
		content: !0,
		showPopover: !0,
		panorama: {
			angle: Math.round($.PanoramaAngle)
		}
	})
}

function feedBack(n) {
	var t = parseFloat(n.split(",")[0]),
		i = parseFloat(n.split(",")[1]);
	$.MapLastClickedLocation[1] = t;
	$.MapLastClickedLocation[0] = i;
	$("#pmGrsOneri").click()
}

function isIE() {
	var t = ua.indexOf("MSIE "),
		r, i, n;
	return t > 0 ? parseInt(ua.substring(t + 5, ua.indexOf(".", t)), 10) : (r = ua.indexOf("Trident/"), r > 0) ? (i = ua.indexOf("rv:"), parseInt(ua.substring(i + 3, ua.indexOf(".", i)), 10)) : (n = ua.indexOf("Edge/"), n > 0) ? parseInt(ua.substring(n + 5, ua.indexOf(".", n)), 10) : !1
}

function SetRunnable() {
	var n = isIE(),
		t;
	if (n !== !1 && n < 8 && (isRunnable = !1, NotSupporttedHTMLContent()), n === !1) {
		t = new Slider("#nearbyContainer #distance", {
			min: 0,
			max: 500,
			step: 50,
			value: 150,
			tooltip: "hide",
			formatter: function(n) {
				return $("#nearbyContainer #distance").next().html(n + " m"), n
			}
		});
		t.on("change", function(n) {
			sliderLastPstn = n.newValue
		});
		t.on("slideStop", function() {
			$.NearbyLastLon !== "" && $.NearbyLastLat !== "" && $.NearbyProcess($.NearbyLastLon, $.NearbyLastLat, sliderLastPstn)
		})
	}
}

function NotSupporttedHTMLContent() {
	var n = "";
	n += '<div class="panel panel-primary">';
	n += '<div class="panel-heading"><b>TARAYICINIZ DESTEKLENMÝYOR<\/b><\/div>';
	n += '<div class="panel-body">';
	n += '<div class="alert alert-danger">';
	n += "<p>Tarayýnýz <b>güncel deðil<\/b> ! Lütfen güncelleme yapýnýz.<\/p>";
	n += "<p>Internet Explorer 8+, Google Chrome, Mozilla Firefox, v.b. tarayýcýlarýndan güncel bir sürüm kullanmanýzý öneririz.<\/p>";
	n += "<\/div>";
	n += "<\/div>";
	n = '<div class="container">' + n + "<\/div>";
	$("body").html(n);
	$("body").css("padding-top", "50px")
}

function MenuCloser(n) {
	$($.MapLegend + " div").addClass("hidden");
	$.PopupMenuClose();
	n ? (n != "layers" && $("#navbar #layers").hasClass("active") && $("#navbar #layers").click(), n != "menu" && $("#navbar #menu").hasClass("active") && $("#navbar #menu").click()) : ($("#navbar #layers").hasClass("active") && $("#navbar #layers").click(), $("#navbar #menu").hasClass("active") && $("#navbar #menu").click())
}

function SetPrintOut() {
	var n = $(window).width(),
		t = $(window).height(),
		i = n + "px",
		r = t + "px",
		u = " @media print { @page { size: " + i + " " + r + ";}}";
	MobileEvents(u);
	n = n - 1;
	t = t - 1;
	$("#mapdiv").css({
		width: n + "px",
		height: t + "px"
	})
}

function ClosePopover() {
	$("body > div.popover").remove()
}

function ToolbarClick(n) {
	if (MenuCloser(n), $("#" + n).hasClass("active")) {
		$("#" + n).removeClass("active");
		switch (n) {
			case "network":
			case "networkAnalysis":
				$($.NetworkContainer + " .networkResult").addClass("hidden");
				$.ProcessClose()
		}
	} else {
		$("#" + n).addClass("active");
		switch (n) {
			case "network":
			case "networkAnalysis":
				$.TumModulleriKapat();
				$($.NetworkContainer + " .networkResult").removeClass("hidden");
				$.ProcessClose();
				$.ProcessOpen("", $.NetworkContainer, function() {
					$.NetworkClose();
					$("#navbar > #network").removeClass("active");
					$($.NetworkContainer + " .networkResult").addClass("hidden")
				});
				break;
			case "detailedSearch":
				$.TumModulleriKapat();
				$.DetailedSearchProcess("Ilce");
				$($.DetailedSearchContainer + " .detailedSearchResult").removeClass("hidden");
				break;
			case "mobileLanguage":
				$("#mapLanguage").click();
				$("#" + n).removeClass("active")
		}
	}
}

function MobileEvents(n) {
	var i, t;
	isMobile() && (i = document.createElement("style"), i.setAttribute("type", "text/css"), t = ".hidden-mobile {display:none !important;} .visible-mobile {display:inherited !important;}", findBootstrapEnvironment() == "md" ? t += "#toolbar #navbar {width: 195px;}" : findBootstrapEnvironment() != "xs" && (t += "#toolbar #navbar {width: 194px;} #menuContainer {left: 421px;}"), i.innerHTML = n ? n + t : t, document.getElementsByTagName("head")[0].appendChild(i))
}

function findBootstrapEnvironment() {
	var i = ["xs", "sm", "md", "lg"],
		n, t;
	for ($el = $("<div>"), $el.appendTo($("body")), n = i.length - 1; n >= 0; n--)
		if (t = i[n], $el.addClass("hidden-" + t), $el.is(":hidden")) return $el.remove(), t
}

function SH3D() {
	$("#enabled3D").removeClass("hidden");
	$("#enabled3D").click(function() {
		$("#filter3D").removeClass("hidden");
		$("#enabled3D").addClass("hidden");
		Init3D();
		$("#filter3D span").click(function() {
			$("#filter3D span").addClass("hidden");
			$("#filter3D > div:first-child").removeClass("hidden");
			$("#filter3D select").addClass("hidden");
			var n = $("#filter3D select").val();
			IlceGoster(n)
		});
		$("#filter3D select").change(function() {
			var n = $("#filter3D select").val(),
				t = $("#filter3D option:selected").text() + " ÝLÇESÝ";
			n == -1 ? $.MapGoto(29.00034, 41.027746, 11) : $.SearchAutoComplete(t, function(n) {
				$.MapGoto(parseFloat(n[0].LON), parseFloat(n[0].LAT), 13)
			}, function() {
				$.ModalError($.LanguageTextlist.warningtitle, $.LanguageTextlist.warninginfo)
			})
		})
	})
}

function phi4z(n, t, i, r, u, f, e, o, s) {
	var l, c, h, a, p, w, b, v, y;
	for (s = f, y = 1; y <= 15; y++)
		if (l = Math.sin(s), tanphi = Math.tan(s), o = tanphi * Math.sqrt(1 - n * l * l), c = Math.sin(2 * s), h = t * s - i * c + r * Math.sin(4 * s) - u * Math.sin(6 * s), a = t - 2 * i * Math.cos(2 * s) + 4 * r * Math.cos(4 * s) - 6 * u * Math.cos(6 * s), p = 2 * h + o * (h * h + e) - 2 * f * (o * h + 1), w = n * c * (h * h + e - 2 * f * h) / (2 * o), b = 2 * (f - h) * (o * a - 2 / c) - 2 * a, v = p / (w + b), s += v, Math.abs(v) <= 1e-10) return s;
	return Proj4js.reportError("phi4z: No convergence"), null
}

function e4fn(n) {
	var t, i;
	return t = 1 + n, i = 1 - n, Math.sqrt(Math.pow(t, t) * Math.pow(i, i))
}
var ua, isRunnable, watchID, sliderLastPstn;
$.extend({
	SearchTextBox: "",
	SearchClear: "",
	SearchSubmit: "",
	SearchResult: "",
	SearchItem: "",
	SearchMouseOver: "",
	SearchLastClicked: "",
	SearchUserGuideState: !0,
	SearchLoaded: function() {},
	SearchMarkers: [],
	SearchInit: function(n, t, i, r, u, f) {
		$.SearchTextBox = n;
		$.SearchClear = t;
		$.SearchSubmit = i;
		$.SearchResult = r;
		$.SearchItem = u;
		$.SearchLoaded = f;
		$.SearchContainerControl();
		$.SearchUserGuide();
		$($.SearchTextBox).change(function() {
			$.SearchTextBoxOnChange()
		});
		$($.SearchClear).click(function(n) {
			n.stopPropagation();
			$.SearchClose()
		});
		$($.SearchSubmit).click(function(n) {
			var i, t, r;
			n.stopPropagation();
			i = $($.SearchTextBox).val();
			i.length > 0 && (t = $.SearchIsCoordinate(i), t.numeric ? ($.isITRF(t.lon) == 6 && (r = $.MapITRFtoWgs84(t.lon, t.lat), t.lon = r.x, t.lat = r.y), $.NetworkSetLocation("info", t.lon, t.lat, {
				title: $.PopupLanguageList.current.PopupInfo,
				content: !0,
				showPopover: !0
			}), $.MapGoto(t.lon, t.lat, 18)) : t.coordinate ? ($.SearchProcess(i, function(n) {
				var t = "",
					i, r;
				n.length === 0 || n[0].length === 0 ? ($($.SearchResult).css("height", "0px"), $.SearchClearMap(), $($.SearchResult).html(""), $($.SearchResult).addClass("hidden"), $($.SearchTextBox).popover({
					title: "",
					content: $.LanguageTextlist.resultnotfound,
					placement: "bottom",
					container: "body",
					html: !0,
					trigger: "manuel"
				}), $($.SearchTextBox).popover("show"), setTimeout(function() {
					$($.SearchTextBox).popover("hide");
					$($.SearchTextBox).popover("destroy")
				}, 1500)) : ($($.SearchResult).css("height", "0px"), $.SearchClearMap(), $.each(n, function(n, i) {
					var v = i.ID,
						u = i.ADI,
						s = i.ILCE_ADI,
						h = parseFloat(i.LON.replace(",", ".")),
						c = parseFloat(i.LAT.replace(",", ".")),
						f = i.YOL_ADI,
						e = i.KAPI_NO,
						l = i.MAHALLE_KOY_ADI,
						o = u + " ",
						r, a;
					o = o.replace(" CUMHURÝYETÝ ", " CUM. ").replace(" CUMHURÝYET ", " CUM. ").replace(" VERGÝ DAÝRESÝ ", " V. D. ").replace(" BAÞKANLIÐI ", " BÞK. ").replace(" BAÞKANLIK ", " BÞK. ").replace(" MÜDÜRLÜÐÜ ", " MÜD. ").replace(" MÜDÜRLÜK ", " MÜD. ").replace(" CADDESÝ ", " CAD. ").replace(" SOKAÐI ", " SOK. ").replace(" MAHALLESÝ ", " MAH. ").replace(" MAHALLE ", " MAH. ").replace(" MUHTARLIÐI ", " MUH. ").replace(" MUHTARLIK ", " MUH. ").replace(" KONSOLOSLUÐU ", " KONS. ").replace(" KONSOLOSLUK ", " KONS. ").trim();
					r = "";
					r = (f === " " || f === null) && (e === null || e === "") ? l + "/" + s : f + " " + e + " " + l + "/" + s;
					r = r.trim();
					r[0] === "/" && (r = r.replace("/", ""));
					t += $.SearchItem.format([v, u, o, r, h, c]);
					a = $.MapAddMarker(h, c, u, r, {
						toolbar: !0,
						click: function() {},
						image: "images/markers/searched.png"
					});
					$.SearchMarkers.push(a)
				}), t = "<ul>" + t + "<\/ul>", $($.SearchResult).html(t), $($.SearchResult).removeClass("hidden"), $("#searchbar #searchProcessContent").css("visibility", "visible"), $.SearchLoaded && $.SearchLoaded(), $($.SearchResult + " > ul > li ").click(function() {
					var n = $(this).attr("data-id"),
						t = $(this).attr("data-ad"),
						i = $(this).attr("data-adres"),
						r = parseFloat($(this).attr("data-lon")),
						u = parseFloat($(this).attr("data-lat"));
					$.SearchClick(n, t, i, r, u)
				}), $($.SearchResult + " > ul > li ").mouseover(function() {
					var n = $(this).attr("data-ad"),
						t = $(this).attr("data-adres"),
						i = parseFloat($(this).attr("data-lon")),
						r = parseFloat($(this).attr("data-lat"));
					$.SearchMouseOver = $.MapAddMarker(i, r, n, t, {
						image: "images/markers/hedef.png"
					});
					$.SearchMarkers.push($.SearchMouseOver)
				}).mouseout(function() {
					$.SearchClearMap($.SearchMouseOver)
				}), $($.SearchResult + " > ul > li .share").each(function() {
					var u = $(this).parent().parent()[0],
						n = parseFloat($(u).attr("data-lon")),
						t = parseFloat($(u).attr("data-lat")),
						i, r, f;
					$.MapGetCoordinateType() == "TUREF" && (i = $.MapWGS84ToITRF(n, t), n = i.x, t = i.y);
					r = "http://sehirharitasi.ibb.gov.tr/?lat=" + t + "&lon=" + n + "&zoom=18";
					f = '<div class="sosyalmedya" data-url="' + r + '" ><div class="icon-facebook1" onclick="$.PopoverFacebook(this);"> <\/div><div class="icon-twitter1" onclick="$.PopoverTwitter(this);"> <\/div><div class="icon-link" data-target="#urlpaylas" onclick="$.PopoverUrlShare(this);"> <\/div><\/div><div id="urlpaylas"  ><input class="collapse" type="text" value="' + r + '"><\/input><\/div>';
					$(this).popover({
						title: "",
						content: f,
						placement: "right",
						container: "body",
						html: !0,
						trigger: "manuel"
					})
				}), $($.SearchResult + " > ul > li .share").click(function(n) {
					if ($("body > div.popover").length > 0) {
						var i = $(this).attr("aria-describedby"),
							t = $("body > div.popover").attr("id");
						t != i && $("[aria-describedby=" + t + "]").popover("hide")
					}
					$(this).popover("show");
					n.stopPropagation()
				}), i = $("#searchContainer .searchResult"), r = $("#searchContainer .searchResult ul li:first-child"), i.animate({
					scrollTop: r.offset().top - i.offset().top + i.scrollTop()
				}), $(window).resize())
			}, function() {
				$.ModalError($.LanguageTextlist.warningtitle, $.LanguageTextlist.warninginfo)
			}), $("#searchProcessContent").css("visibility", "visible")) : $.SearchClose(!1))
		});
		$($.SearchTextBox).keyup(function(n) {
			$("#searchUserGuide").addClass("hidden");
			$($.SearchResult).addClass("hidden");
			$.SearchTextBoxOnChange();
			n.which == 13 && (n.preventDefault(), $($.SearchSubmit).click())
		});
		$($.SearchTextBox).autocomplete({
			minLength: 3,
			source: function(n, t) {
				var i = $.SearchIsCoordinate(n.term);
				!i.numeric && i.coordinate && $.SearchAutoComplete(encodeURIComponent(n.term), t)
			},
			focus: function() {
				return !1
			},
			select: function(n, t) {
				return $($.SearchTextBox).val(t.item.ADI), t.item.ADI.length > 2 && $.SearchProcess(t.item.ADI), $.SearchAutoCompleteGoTo(t), !1
			},
			delay: 250
		}).autocomplete("instance")._renderItem = function(n, t) {
			if (t.ADI) {
				var i = (t.MAHALLE_KOY_ADI.trim() === "" ? "" : t.MAHALLE_KOY_ADI.trim() + " / ") + t.ILCE_ADI,
					r = t.ADI + (i === "" ? "" : ", " + i),
					u = $($.SearchTextBox).val().turkishToUpper();
				return $("<li>").append("<div class='circle'><\/div><div>" + $.SearchAutoCompleteTextBolder(r, u) + "<\/div>").appendTo(n)
			}
			return $("")
		};
		$(window).resize(function() {
			if (!$($.SearchResult).hasClass("hidden")) {
				var n = innerHeight,
					t = parseInt($("#toolbar").css("height").replace("px", ""));
				n = n - (25 + t + 60);
				$($.SearchResult).animate({
					height: n + 10 + "px"
				}, 100)
			}
		})
	},
	SearchActivated: function() {
		return !$($.SearchResult).hasClass("hidden")
	},
	SearchIsCoordinate: function(n) {
		var u, t = {
				lon: 0,
				lat: 0,
				numeric: !1,
				coordinate: !0
			},
			i, r;
		if (n = n.replace(" ", ""), i = n.split(","), i.length == 2) {
			for (r = 0; r < i.length; r++)
				if (!$.isNumeric(i[r])) return t.coordinate = !1, t;
			t = {
				lon: parseFloat(i[0]),
				lat: parseFloat(i[1]),
				numeric: !0
			};
			t.lon > t.lat && (u = t.lon, t.lon = t.lat, t.lat = u)
		}
		return !t.numeric && n.length >= 7 && $.isNumeric(n) && (t.coordinate = !1), t
	},
	SearchUserGuide: function() {
		$.SearchUserGuideState;
		$.SearchUserGuideState = !1
	},
	SearchContainerControl: function() {
		$("#searchbar #searchProcessContent").click(function(n) {
			n.stopPropagation();
			$("#searchContainer .searchResult").attr("class") == "searchResult" ? $.SearchProcessHide() : $.SearchProcessShow()
		})
	},
	SearchProcessHide: function() {
		$("#searchContainer .searchResult").attr("class", "searchResult hidden");
		$("#searchProcessContent").attr("class", "icon-okasagi")
	},
	SearchProcessShow: function() {
		$("#searchContainer .searchResult").attr("class", "searchResult");
		$("#searchProcessContent").attr("class", "icon-okyukari")
	},
	SearchClose: function(n) {
		$.SearchClearMap();
		(arguments.length === 0 || n) && $($.SearchTextBox).val("");
		$(".ui-autocomplete").css("display", "none");
		$($.SearchResult).html("");
		$($.SearchResult).addClass("hidden");
		$.SearchTextBoxOnChange()
	},
	SearchTextBoxOnChange: function() {
		var n = $($.SearchTextBox).val();
		n === "" ? ($.SearchClearMap(), $($.SearchResult).html(""), $($.SearchResult).addClass("hidden"), $($.SearchClear).addClass("nonvisible"), $("#searchProcessContent").css("visibility", "hidden")) : $($.SearchClear).removeClass("nonvisible")
	},
	SearchAutoComplete: function(n, t, i) {
		$.ajax({
			type: "GET",
			url: "http://cbsproxy.ibb.gov.tr/?aramaws",
			crossDomain: !0,
			data: "srchtxt=" + n + "&rownum=10&ilce=&detayli=false",
			success: function(n) {
				var i = n.ArrayOfAramaResult !== null && n.ArrayOfAramaResult.AramaResult !== null ? n.ArrayOfAramaResult.AramaResult : [];
				i.length || (i = [i]);
				t && t(i)
			},
			error: function() {
				i && i()
			}
		})
	},
	SearchAutoCompleteGoTo: function(n) {
		var f = n.item.ID,
			t = n.item.ADI,
			e = n.item.ILCE_ADI,
			i = parseFloat(n.item.LON),
			o = n.item.KAPI_NO,
			r = parseFloat(n.item.LAT),
			s = n.item.YOL_ADI,
			h = n.item.MAHALLE_KOY_ADI,
			u;
		adres = s + " " + o + " " + h + "/" + e;
		adres = adres.trim();
		adres[0] == "/" && (adres = adres.replace("/", ""));
		u = $.MapAddMarker(i, r, t, adres, {
			toolbar: !0,
			click: function() {},
			image: "images/markers/searched.png"
		});
		$.SearchMarkers.push(u);
		$.SearchClick(f, t, adres, i, r)
	},
	SearchProcess: function(n, t, i) {
		$($.SearchTextBox).val(n);
		n = encodeURIComponent(n);
		$(".ui-autocomplete").css("display", "none");
		$.ajax({
			type: "GET",
			url: "http://cbsproxy.ibb.gov.tr/?aramaws",
			crossDomain: !0,
			data: "srchtxt=" + n + "&rownum=250&ilce=&detayli=false",
			success: function(n) {
				$(".ui-autocomplete").css("display", "none");
				var i = n.ArrayOfAramaResult !== null && n.ArrayOfAramaResult.AramaResult !== null ? n.ArrayOfAramaResult.AramaResult : [];
				i.length || (i = [i]);
				t && t(i)
			},
			error: function() {
				$(".ui-autocomplete").css("display", "none");
				i && i()
			}
		})
	},
	SearchClick: function(n, t, i, r, u) {
		$.SearchLastClicked !== "" && $.SearchClearMap($.SearchLastClicked);
		$.SearchRating(n);
		var f = $.MapAddMarker(r, u, t, i, {
			anchor: {
				x: "c",
				y: "b"
			},
			toolbar: !0,
			click: function() {}
		});
		$.SearchLastClicked = f;
		$.SearchMarkers.push(f);
		$.MapGoto(r, u, 18);
		isMobile() && $.SearchProcessHide()
	},
	SearchRating: function(n) {
		getCookie(n) === null && (setCookie(n, 1), $.ajax({
			type: "GET",
			url: "http://cbsproxy.ibb.gov.tr/?aramawsdegerlendir",
			crossDomain: !0,
			data: "id=" + n,
			success: function() {},
			error: function() {}
		}))
	},
	SearchClearMap: function(n) {
		var t;
		if (n)
			for (t = 0; t < $.SearchMarkers.length; t++) $.SearchMarkers[t] == n && $.MapClearMarkers($.SearchMarkers[t]);
		else {
			for (t = 0; t < $.SearchMarkers.length; t++) $.MapClearMarkers($.SearchMarkers[t]);
			$.SearchMarkers = []
		}
		$.MapRemovePopover()
	},
	SearchAutoCompleteTextBolder: function(n, t) {
		var t = (" " + t + " ").replace(" SK ", " SOKAK SOKAÐI SK ").replace(" CD ", " CADDESÝ CADDE CD ").replace(" CAD ", " CADDESÝ CADDE CAD ").replace(" MH ", " MAHALLESÝ MAHALLE MH ").replace(" MAH ", " MAHALLESÝ MAHALLE MAH "),
			i = n.split(" "),
			n = "",
			r, u, f;
		for (r in i) i[r] != "VE" ? (u = i[r][0], f = i[r].substr(1, i[r].length - 1).turkishToLower(), i[r] = u + f) : i[r] = "ve", n += i[r] + "&nbsp;";
		return n
	}
});
$.extend({
	DrawManager: function() {
		$("#drawManager").removeClass("hidden");
		$('input[name="radioCizim"]:radio').change(function() {
			var n = $('input[name="radioCizim"]:checked').val();
			n == "Clear" ? $.MapDrawClear() : n == "Choose" ? $.MapDrawSelect(function(n) {
				console.info(n)
			}) : n == "Modify" ? $.MapDrawModify(function(n) {
				console.info(n)
			}) : n == "Remove" ? $.MapDrawRemove() : $.MapDrawActive(n)
		})
	},
	DrawManagerToggle: function() {
		var n = document.getElementById("drawPanel").className;
		n.indexOf("hidden") == -1 && $("#drawPanel").addClass("hidden");
		n.indexOf("hidden") > -1 && $("#drawPanel").removeClass("hidden")
	}
});
$.extend({
	SearchResult: "",
	DetailedItem: "",
	DetailedMarkers: [],
	DetailedLastClickedMarker: "",
	DetailedSearchSubmit: "",
	DetailedSearchIlce: "",
	DetailedSearchMahalle: "",
	DetailedSearchYol: "",
	DetailedSearchKapi: "",
	DetailedMarkerHover: "",
	DetailedLanguageList: {},
	DetailedSearchInit: function(n, t, i, r, u, f) {
		$.DetailedSearchSubmit = n;
		$.DetailedSearchIlce = t;
		$.DetailedSearchMahalle = i;
		$.DetailedSearchYol = r;
		$.DetailedSearchKapi = u;
		$.DetailedItem = f;
		$($.DetailedSearchSubmit).click(function() {
			$($.DetailedSearchKapi).addClass("hidden");
			$($.DetailedSearchMahalle).addClass("hidden");
			$($.SearchResult).html("");
			$($.SearchResult).addClass("hidden");
			$.ProcessOpen($.DetailedLanguageList.current.detayliarama, "#searchContainer", function() {
				$($.SearchResult).html("");
				$($.SearchResult).addClass("hidden");
				$.DetailedClose();
				$($.DetailedSearchKapi + ">.icon-x ").click();
				$($.DetailedSearchYol + ">.icon-x ").click()
			});
			$($.SearchResult).html("");
			$($.SearchResult).addClass("hidden");
			$(".detailedSearchResult").removeClass("hidden")
		});
		$($.DetailedSearchYol + ">.icon-arama").click(function() {
			$.DetailedSearchProcess("Yol");
			$($.DetailedSearchKapi + " input").focus();
			$($.DetailedSearchYol + " input").val().trim().length > 0 && $($.DetailedSearchKapi).removeClass("hidden")
		});
		$($.DetailedSearchKapi + ">.icon-arama").click(function() {
			$.DetailedSearchProcess("Kapi")
		});
		$($.DetailedSearchIlce + " select").change(function() {
			$.DetailedIlceMahalleWktCiz("Ilce");
			$.DetailedSearchProcess("Mahalle");
			$($.DetailedSearchYol + " input").focus();
			JSON.parse($($.DetailedSearchIlce + " select").val()).id == -1 && ($($.DetailedSearchMahalle).addClass("hidden"), $($.SearchResult).css("top", "130px"), $($.DetailedSearchYol + " input").focus());
			$($.DetailedSearchYol + ">.icon-x ").click()
		});
		$($.DetailedSearchMahalle).change(function() {
			$.DetailedIlceMahalleWktCiz("Mahalle");
			$($.DetailedSearchYol + " input").focus();
			$($.DetailedSearchYol + ">.icon-x ").click()
		});
		$($.DetailedSearchYol).keyup(function(n) {
			$.DetailedTextBoxOnChange("yol");
			$($.DetailedSearchYol + " input").val().trim().length > 0 && $($.DetailedSearchKapi).removeClass("hidden");
			n.which == 13 && ($($.DetailedSearchYol + ">.icon-arama").click(), n.preventDefault())
		});
		$($.DetailedSearchKapi).keyup(function(n) {
			$.DetailedTextBoxOnChange("kapi");
			n.which == 13 && $($.DetailedSearchKapi + ">.icon-arama").click()
		});
		$($.DetailedSearchYol + ">.icon-x ").click(function() {
			$($.DetailedSearchYol + " input").val("");
			$.DetailedTextBoxOnChange("yol");
			$.DetailedSearchClearMap();
			$($.SearchResult).html("")
		});
		$($.DetailedSearchKapi + ">.icon-x ").click(function() {
			$($.DetailedSearchKapi + " input").val("");
			$.DetailedTextBoxOnChange("kapi");
			$.DetailedSearchClearMap();
			$($.SearchResult).html("")
		});
		$.DetailedLanguageList = {
			tr: {
				detayliarama: "Detaylý Adres Arama",
				ilce: "Tüm Ýlçeler",
				mahalle: "Tüm Mahalleler",
				detayyol: "Yol adýný giriniz",
				detaykapi: "Kapý no giriniz",
				kayityok: "Ýlgili kayýt bulunamadý. Lütfen arama parametrelerinizi gözden geçiriniz."
			},
			en: {
				detayliarama: "Detailed Adress Search",
				ilce: "All Towns",
				mahalle: "All Districts",
				detayyol: "Street Name",
				detaykapi: "Number",
				kayityok: "No records found. Please revise your search parameters."
			},
			current: {},
			change: function() {
				this.current = $.LanguageState == "tr" ? this.tr : this.en
			}
		};
		$.DetailedLanguage()
	},
	DetailedLanguage: function() {
		$.DetailedLanguageList.change();
		$.DetailedActivated() && ($($.DetailedSearchIlce + " select").html(function(n, t) {
			return t.replace(/Tüm Ýlçeler|All Towns/g, function(n) {
				return n == "Tüm Ýlçeler" ? "All Towns" : "Tüm Ýlçeler"
			})
		}), $($.DetailedSearchMahalle + " select").html(function(n, t) {
			return t.replace(/Tüm Mahalleler|All Districts/g, function(n) {
				return n == "Tüm Mahalleler" ? "All Districts" : "Tüm Mahalleler"
			})
		}), $($.SearchResult).html(function(n, t) {
			return t.replace(/Ýlgili kayýt bulunamadý. Lütfen arama parametrelerinizi gözden geçiriniz.|No records found. Please revise your search parameters./g, function(n) {
				return n == "Ýlgili kayýt bulunamadý. Lütfen arama parametrelerinizi gözden geçiriniz." ? "No records found. Please revise your search parameters." : "Ýlgili kayýt bulunamadý. Lütfen arama parametrelerinizi gözden geçiriniz."
			})
		}), $("#txtDtlSearchedYol").attr("placeholder", $.DetailedLanguageList.current.detayyol), $("#txtDtlSearchedKapi").attr("placeholder", $.DetailedLanguageList.current.detaykapi), $("#toolbar #processbar > div:first-child").html($.DetailedLanguageList.current.detayliarama))
	},
	DetailedActivated: function() {
		return !$("#detailedSearchContainer .detailedSearchResult ").hasClass("hidden")
	},
	DetailedIlceMahalleWktCiz: function(n) {
		n == "Ilce" && ($.MapClearVectorLayer(), JSON.parse($($.DetailedSearchIlce + " select").val()).id != -1 && $.MapGoto(parseFloat(JSON.parse($($.DetailedSearchIlce + " select").val()).lon), parseFloat(JSON.parse($($.DetailedSearchIlce + " select").val()).lat), 13), isMobile() || JSON.parse($($.DetailedSearchIlce + " select").val()).id == -1 || $.DetailedWKTFind("Ilce", JSON.parse($($.DetailedSearchIlce + " select").val()).id, function(n) {
			var t = JSON.parse(n[0].string["#text"]),
				i = t.WKT;
			$.MapDrawLineString(i, {
				strokeColor: "#006aae",
				fillColor: "#006aae",
				fillOpacity: .3
			})
		}));
		n == "Mahalle" && (JSON.parse($($.DetailedSearchMahalle + " select").val()).id != -1 && $.MapGoto(parseFloat(JSON.parse($($.DetailedSearchMahalle + " select").val()).lon), parseFloat(JSON.parse($($.DetailedSearchMahalle + " select").val()).lat), 14), isMobile() || (JSON.parse($($.DetailedSearchMahalle + " select").val()).id != -1 ? ($.MapClearVectorLayer(), $.DetailedWKTFind("Mahalle", JSON.parse($($.DetailedSearchMahalle + " select").val()).id, function(n) {
			var t = JSON.parse(n[0].string["#text"]),
				i = t.WKT;
			$.MapDrawLineString(i, {
				strokeColor: "#006aae",
				fillColor: "#006aae",
				fillOpacity: .3
			})
		})) : $.DetailedIlceMahalleWktCiz("Ilce")))
	},
	DetailedTextBoxOnChange: function(n) {
		var t = $($.DetailedSearchYol + " input").val(),
			i = $($.DetailedSearchKapi + " input").val();
		t === "" ? ($($.DetailedSearchYol + ">.icon-x ").addClass("nonvisible"), $($.DetailedSearchKapi + " input").val(""), $($.DetailedSearchKapi + ">.icon-x ").addClass("nonvisible"), $($.DetailedSearchKapi).addClass("hidden"), n == "yol" && $($.SearchResult).addClass("hidden")) : ($($.DetailedSearchYol + ">.icon-x ").removeClass("nonvisible"), $($.DetailedSearchKapi + ">.icon-x ").removeClass("nonvisible"), $($.DetailedSearchKapi).removeClass("hidden"));
		i === "" ? ($($.DetailedSearchKapi + ">.icon-x ").addClass("nonvisible"), n == "kapi" && $($.SearchResult).addClass("hidden")) : $($.DetailedSearchKapi + ">.icon-x ").removeClass("nonvisible")
	},
	DetailedSearchProcess: function(n) {
		$($.SearchResult).html("");
		var t = "";
		switch (n) {
			case "Ilce":
				t = "http://cbsproxy.ibb.gov.tr/?SehirHaritasiIlceListele151&";
				break;
			case "Yol":
				t = "http://cbsproxy.ibb.gov.tr/?SehirHaritasiYolListele151&";
				break;
			case "Mahalle":
				t = "http://cbsproxy.ibb.gov.tr/?SehirHaritasiMahalleListele151&";
				break;
			case "Kapi":
				if ($($.DetailedSearchYol + " input").val() === "") {
					$($.SearchResult).removeClass("hidden");
					$($.SearchResult).html("<ul><li>Sok/Cadde için yetersiz bilgi giriþi yaptýnýz...<\/li><\/ul>");
					return
				}
				t = "http://cbsproxy.ibb.gov.tr/?SehirHaritasiKapiListele151&"
		}
		$.DetailedSearchFind(n, t, function(t) {
			var r = "",
				i, e, u, o, f;
			t[0].AdresList.Adresler || n != "Yol" && n != "Kapi" ? (i = t[0].AdresList.Adresler.Adres, n == "Ilce" && ($($.DetailedSearchIlce + " select > option").remove(), $($.DetailedSearchIlce + " select").append($("<option/>").attr("value", '{"id":"-1"}').text($.DetailedLanguageList.current.ilce))), n == "Mahalle" && ($($.DetailedSearchMahalle + " select > option").remove(), $($.DetailedSearchMahalle + " select").append($("<option/>").attr("value", '{"id":"-1"}').text($.DetailedLanguageList.current.mahalle)), $($.DetailedSearchMahalle).removeClass("hidden")), $.DetailedSearchClearMap(), n != "Yol" && n != "Kapi" || i[0] || (e = i.ADI, u = "", i.KAPI && (e = i.ADI + " No:" + i.KAPI), i.YOL && (u = i.YOL), r += $.DetailedItem.format([e, i.LON, i.LAT, u + "<br>" + i.MAHALLE + "/" + i.ILCE]), o = $.MapAddMarker(parseFloat(i.LON), parseFloat(i.LAT), i.ADI, u + "<br>" + i.MAHALLE + "/" + i.ILCE, {
				toolbar: !0,
				click: function() {},
				image: "images/markers/searched.png",
				size: {
					w: 12,
					h: 12
				},
				center: !0
			}), $.DetailedMarkers.push(o)), $.each(i, function(t, u) {
				var f = u.ADI,
					h = u.ID,
					c = u.KAPI,
					e = u.LON,
					o = u.LAT,
					s = u.YOL,
					l = u.ILCE,
					a = u.MAHALLE,
					v;
				n == "Ilce" && $($.DetailedSearchIlce + " select").append($("<option/>").attr("value", '{"id":"' + h + '","lon":"' + e + '","lat":"' + o + '"}').text(f));
				n == "Mahalle" && $($.DetailedSearchMahalle + " select").append($("<option/>").attr("value", '{"id":"' + h + '","lon":"' + e + '","lat":"' + o + '"}').text(f));
				(n == "Yol" || n == "Kapi") && i[0] && (c && (f = f + " No:" + c), s || (s = ""), r += $.DetailedItem.format([f, e, o, s + "<br>" + a + "/" + l]), v = $.MapAddMarker(parseFloat(e), parseFloat(o), f, s + " " + a + "/" + l, {
					toolbar: !0,
					click: function() {},
					image: "images/markers/searched.png",
					size: {
						w: 12,
						h: 12
					},
					center: !0
				}), $.DetailedMarkers.push(v))
			})) : r += "<li>" + $.DetailedLanguageList.current.kayityok + "<\/li>";
			r = "<ul>" + r + "<\/ul>";
			$($.SearchResult).html(r);
			f = 125;
			$($.DetailedSearchMahalle).hasClass("hidden") || (f += 35);
			$($.DetailedSearchKapi).hasClass("hidden") || (f += 40);
			$($.SearchResult).css("top", f + "px");
			r != "<ul><\/ul>" && $($.SearchResult).removeClass("hidden");
			$(window).resize();
			$($.SearchResult + " > ul > li ").click(function() {
				var n = $(this).attr("data-ad"),
					t = parseFloat($(this).attr("data-lon")),
					i = parseFloat($(this).attr("data-lat"));
				$.DetailedItemClick(n, "", t, i);
				$($.DetailedSearchYol + " input").val(n);
				$($.DetailedSearchYol + " input").keyup()
			});
			$($.SearchResult + " > ul > li ").mouseover(function() {
				var n = $(this).attr("data-ad"),
					t = parseFloat($(this).attr("data-lon")),
					i = parseFloat($(this).attr("data-lat"));
				$.DetailedMarkerHover = $.MapAddMarker(t, i, n, "", {
					image: "images/markers/hedef.png",
					size: {
						w: 26,
						h: 26
					},
					center: !0
				});
				$.DetailedMarkers.push($.DetailedMarkerHover)
			}).mouseout(function() {
				$.DetailedSearchClearMap($.DetailedMarkerHover)
			});
			$($.SearchResult + " > ul > li .share").each(function() {
				var u = $(this).parent().parent()[0],
					n = parseFloat($(u).attr("data-lon")),
					t = parseFloat($(u).attr("data-lat")),
					i, r, f;
				$.MapGetCoordinateType() == "TUREF" && (i = $.MapWGS84ToITRF(n, t), n = i.x, t = i.y);
				r = "http://sehirharitasi.ibb.gov.tr/?lat=" + t + "&lon=" + n + "&zoom=18";
				f = '<div class="sosyalmedya" data-url="' + r + '" ><div class="icon-facebook1" onclick="$.PopoverFacebook(this);"> <\/div><div class="icon-twitter1" onclick="$.PopoverTwitter(this);"> <\/div><div class="icon-link" data-target="#urlpaylas" onclick="$.PopoverUrlShare(this);"> <\/div><\/div><div id="urlpaylas"  ><input class="collapse" type="text" value="' + r + '"><\/input><\/div>';
				$(this).popover({
					title: "",
					content: f,
					placement: "right",
					container: "body",
					html: !0,
					trigger: "manuel"
				})
			});
			$($.SearchResult + " > ul > li .share").click(function(n) {
				if ($("body > div.popover").length > 0) {
					var i = $(this).attr("aria-describedby"),
						t = $("body > div.popover").attr("id");
					t != i && $("[aria-describedby=" + t + "]").popover("hide")
				}
				$(this).popover("show");
				n.stopPropagation()
			})
		}, function() {
			$.ModalError($.BilgiLanguageList.current.modalerrortitle, $.BilgiLanguageList.current.modalerrorsubject)
		})
	},
	DetailedItemClick: function(n, t, i, r) {
		$.DetailedLastClickedMarker !== "" && $.DetailedSearchClearMap($.DetailedLastClickedMarker);
		$.DetailedLastClickedMarker = $.MapAddMarker(i, r, n, t, {
			toolbar: !0,
			click: function() {}
		});
		$.DetailedMarkers.push($.DetailedLastClickedMarker);
		$.MapGoto(i, r, 18)
	},
	DetailedSearchFind: function(n, t, i) {
		var r = "";
		n == "Ilce" && (r = "");
		n == "Mahalle" && (r = "ID=" + JSON.parse($($.DetailedSearchIlce + " select").val()).id);
		n == "Yol" && (r = "ilceID=" + JSON.parse($($.DetailedSearchIlce + " select").val()).id + "&mahalleID=" + JSON.parse($($.DetailedSearchMahalle + " select").val()).id + "&yolAdi=" + $($.DetailedSearchYol + " input").val());
		n == "Kapi" && (r = "ilceID=" + JSON.parse($($.DetailedSearchIlce + " select").val()).id + "&mahalleID=" + JSON.parse($($.DetailedSearchMahalle + " select").val()).id + "&yolAdi=" + $($.DetailedSearchYol + " input").val() + "&kapiNo=" + $($.DetailedSearchKapi + " input").val());
		$.ajax({
			type: "GET",
			crossDomain: !0,
			url: t,
			data: r,
			success: function(n) {
				var t = n.hasOwnProperty("d") ? n.d : n;
				t.length || (t = [t]);
				i && i(t)
			},
			error: function(n, t, i) {
				console.error("error");
				console.info(n);
				console.info(t);
				console.info(i)
			}
		})
	},
	DetailedWKTFind: function(n, t, i) {
		var r = "";
		n == "Ilce" && (r = "tur=ilce&ID=" + t);
		n == "Mahalle" && (r = "tur=mahalle&ID=" + t);
		url = "http://cbsproxy.ibb.gov.tr/?GetWKTByID&";
		$.ajax({
			type: "GET",
			crossDomain: !0,
			url: url,
			data: r,
			dataType: "json",
			success: function(n) {
				var t = n.hasOwnProperty("d") ? n.d : n;
				t.length || (t = [t]);
				i && i(t)
			},
			error: function(n, t, i) {
				console.error("error");
				console.info(n);
				console.info(t);
				console.info(i)
			}
		})
	},
	DetailedClose: function() {
		var n, t;
		$.MapClearVectorLayer();
		$(".detailedSearchResult").addClass("hidden");
		$($.SearchResult).html("");
		$($.SearchResult).css("top", "52px");
		$($.SearchResult).addClass("hidden");
		$.DetailedSearchClearMap();
		$($.DetailedSearchIlce + " select").value = '{"id":"-1"}';
		n = document.getElementById("dtlSearchedIlce");
		n.value = '{"id":"-1"}';
		t = document.getElementById("dtlSearchedMahalle");
		t.value = '{"id":"-1"}';
		$($.DetailedSearchMahalle + " select").value = '{"id":"-1"}'
	},
	DetailedSearchClearMap: function(n) {
		var t;
		if (n)
			for (t = 0; t < $.DetailedMarkers.length; t++) $.DetailedMarkers[t] == n && $.MapClearMarkers($.DetailedMarkers[t]);
		else {
			for (t = 0; t < $.DetailedMarkers.length; t++) $.MapClearMarkers($.DetailedMarkers[t]);
			$.DetailedMarkers = [];
			$.DetailedLastClickedMarker = ""
		}
		$.MapRemovePopover()
	}
});
$.extend({
	PopupContainer: {},
	PopupShowTimer: undefined,
	PopupHideTimer: undefined,
	PopupAnimSpeed: 200,
	PopupShowHideDelay: [150, 2500],
	PopupPosition: {},
	PopupLanguageList: {},
	PopupMarkers: [],
	PopupMarkerIDList: [],
	PopoverID: "",
	PopupMapMarkState: !1,
	PopupMenuInit: function(n) {
		$.PopupContainer = n;
		$.PopupMenuEventRegister();
		$.PopupLanguageList = {
			tr: {
				PopupSettingCoordinate: "<option>WGS84<\/option><option>TUREF<\/option>",
				PopMapMenuInfo: "Burasý Neresi",
				PopMapMenuYakinimdaAra: "Yakýnýmda Ara",
				PopMapMenuPanorama: "Panorama Göster",
				PopMapMenuA: "Buradan Yol Tarifi",
				PopMapMenuAraNokta: "Buradan Geç",
				PopMapMenuB: "Buraya Yol Tarifi",
				PopMapMenuGrsOneri: "Hata Bildirimi ve Önerileriniz",
				PopupInfo: "Bilgi Al"
			},
			en: {
				PopMapMenuInfo: "Where is Here",
				PopMapMenuYakinimdaAra: "Nearby Me",
				PopMapMenuPanorama: "Panorama View",
				PopMapMenuA: "Direction From Here",
				PopMapMenuAraNokta: "Pass From Here",
				PopMapMenuB: "Direction to Here",
				PopMapMenuGrsOneri: "Feedback and Suggestions",
				PopupInfo: "Get Information"
			},
			current: {},
			change: function() {
				this.current = $.LanguageGet() == "tr" ? this.tr : this.en
			}
		};
		$.PopupMenuLanguage();
		$("#pmA").click(function(n) {
			n.stopPropagation();
			$.PopupMenuClose();
			$("#network").hasClass("active") || $("#network").click();
			$.NetworkSetLocation("baslangic", $.MapLastClickedLocation[0], $.MapLastClickedLocation[1])
		});
		$("#pmAraNokta").click(function(n) {
			n.stopPropagation();
			$.PopupMenuClose();
			$("#network").hasClass("active") && $.NetworkSetLocation("aranokta", $.MapLastClickedLocation[0], $.MapLastClickedLocation[1])
		});
		$("#pmB").click(function(n) {
			n.stopPropagation();
			$.PopupMenuClose();
			$("#network").hasClass("active") || $("#network").click();
			$.NetworkSetLocation("bitis", $.MapLastClickedLocation[0], $.MapLastClickedLocation[1])
		});
		$("#pmInfo").click(function() {
			$.PopupMenuClose();
			$($.MapContainer + " .olLayerDiv div").popover("hide");
			$.BilgiAlSetLocation($.MapLastClickedLocation[0], $.MapLastClickedLocation[1], {
				title: $.PopupLanguageList.current.PopupInfo,
				content: !0
			})
		});
		$("#pmYakinimdaAra").click(function() {
			$.TumModulleriKapat();
			$.PopupMenuClose();
			$($.MapContainer + " .olLayerDiv div").popover("hide");
			$("#nearbyCheck").css("display") == "none" && $("#nearbyCheck").css("display", "block");
			var n = $.NearbyActivated();
			$.SearchActivated() && $.SearchClose();
			$.ProcessClose();
			n || ($.ProcessOpen($.LanguageTextlist.nearby, $.NearbyContainer, function() {
				$.NearbyClose()
			}), $.NearbyOpen(function() {
				$($.NearbyContainer).off("shown.bs.collapse");
				$.NearbyMapClicked($.MapLastClickedLocation[0], $.MapLastClickedLocation[1])
			}))
		});
		$("#pmGrsOneri").click(function() {
			$.TumModulleriKapat();
			$.PopupMenuClose();
			$.SearchActivated() && $.SearchClose();
			$.ProcessClose();
			$.ProcessOpen($.FeedbackLangaugelist.current.feedbackheader, $.FeedbackContainer, function() {
				$($.FeedbackContainer).collapse("hide")
			});
			$($.FeedbackContainer + " #lon").val($.MapLastClickedLocation[0]);
			$($.FeedbackContainer + " #lat").val($.MapLastClickedLocation[1]);
			$($.FeedbackStarPanel).show();
			$($.FeedbackHataTuruPanel).show();
			$($.FeedbackKoordinatPanel).show();
			$($.FeedbackContainer).collapse("show")
		});
		$("#pmPanorama").click(function() {
			$.PopupMenuClose();
			var n = $(this).parent().parent()[0];
			$("#panorama").hasClass("active") || ($("#panorama").click(), onClickVectorClick({
				lon: $.MapLastClickedLocation[0],
				lat: $.MapLastClickedLocation[1]
			}), $("div.content", n).click())
		})
	},
	PopupShowbox: function(n) {
		clearTimeout($.PopupHideTimer);
		n && n[0] ? $.PopupPosition = n : n = $.PopupPosition;
		$.PopupMenuSetPosition();
		$.MapLastClickedLocation = $.MapLonLatFromPixel(n);
		$.PopupShowTimer = setTimeout(function() {
			$($.PopupContainer).collapse("show")
		}, $.PopupShowHideDelay[0])
	},
	PopupMenuClose: function() {
		$($.PopupContainer).hasClass("in") && $($.PopupContainer).collapse("hide")
	},
	PopupMenuSetPosition: function() {
		$($.PopupContainer).css({
			left: $.PopupPosition[0],
			top: $.PopupPosition[1]
		})
	},
	PopupMenuEventRegister: function() {
		$($.PopupContainer).bind("mouseenter", function() {
			clearTimeout($.PopupHideTimer)
		});
		$("li", $.PopupContainer).bind("mouseenter", function() {
			clearTimeout($.PopupHideTimer)
		});
		$("li", $.PopupContainer).bind("mouseleave", function() {
			$.PopupHideTimer = setTimeout(function() {
				$.PopupMenuClose()
			}, $.PopupShowHideDelay[1])
		})
	},
	PopupMenuChanger: function(n, t) {
		n == "start" ? ($("#pmYakinimdaAra").hide(), $("#pmPanorama").hide(), $("#pmGrsOneri").hide(), $("#pmA").hide()) : ($("#pmYakinimdaAra").hide(), $("#pmPanorama").hide(), $("#pmGrsOneri").hide(), $("#pmB").hide());
		n == "aranokta" && (t ? $("#pmAraNokta").show() : $("#pmAraNokta").hide());
		setTimeout(function() {
			$($.NetworkStart).val() === "" && $($.NetworkFinish).val() === "" && $.PopupMenuDefault()
		}, 100)
	},
	PopupMenuDefault: function() {
		$("#pmYakinimdaAra").show();
		$("#pmPanorama").show();
		$("#pmGrsOneri").show();
		$("#pmB").show();
		$("#pmA").show()
	},
	PopupClearMap: function() {
		for (var n = 0; n < $.PopupMarkers.length; n++) $.MapClearMarkers($.PopupMarkers[n].markerID);
		$.PopupMarkers = [];
		$.MapRemovePopover();
		$(window).resize();
		for (n in $.PopupMarkerIDList) $.MapClearMarkers($.PopupMarkerIDList[n]);
		$.PopupMarkerIDList = []
	},
	PopupMenuLanguage: function() {
		$.PopupLanguageList.change();
		var n = $($.MapContainer + " .popover h3").text().indexOf("Bilgi Al") > -1,
			t = $($.MapContainer + " .popover h3").text().indexOf("Get Information") > -1;
		(t || n) && ($.LanguageGet() == "tr" ? ($($.MapContainer + " .popover h3").text("Bilgi Al"), $($.MapContainer + " .popover h3").append('<span onclick="$.Popupremove(this);" class="glyphicon glyphicon-remove pointer"><\/span>')) : ($($.MapContainer + " .popover h3").text("Get Information"), $($.MapContainer + " .popover h3").append('<span onclick="$.Popupremove(this);" class="glyphicon glyphicon-remove pointer"><\/span>')));
		$("#coordinateSelection #selectCoordinateType").html($.PopupLanguageList.current.PopupSettingCoordinate);
		$("#pmInfo").text($.PopupLanguageList.current.PopMapMenuInfo);
		$("#pmYakinimdaAra").text($.PopupLanguageList.current.PopMapMenuYakinimdaAra);
		$("#pmPanorama").text($.PopupLanguageList.current.PopMapMenuPanorama);
		$("#pmA").text($.PopupLanguageList.current.PopMapMenuA);
		$("#pmAraNokta").text($.PopupLanguageList.current.PopMapMenuAraNokta);
		$("#pmB").text($.PopupLanguageList.current.PopMapMenuB);
		$("#pmGrsOneri").text($.PopupLanguageList.current.PopMapMenuGrsOneri)
	},
	PopoverIsaretle: function(n) {
		var i = $(n).parent()[0],
			t = $(i).attr("data-featureid");
		$(n).hasClass("icon-yildiz-onay") ? ($(n).addClass("icon-yildiz"), $(n).removeClass("icon-yildiz-onay"), $.MapFeatureSetStyle(t, {
			anchor: {
				x: "c",
				y: "b"
			},
			image: "images/markers/location.png"
		}), delete $.PopupMarkerIDList[t], $.BilgiAlMarkers.push({
			markerID: t
		})) : ($(n).addClass("icon-yildiz-onay"), $(n).removeClass("icon-yildiz"), $.MapFeatureSetStyle(t, {
			anchor: {
				x: "c",
				y: "b"
			},
			image: "images/markers/imleme.png"
		}), $.PopupMarkerIDList[t] = t, $.BilgiAlMarkers.splice($.inArray(t, $.BilgiAlMarkers), 1), $.SearchMarkers.splice($.inArray(t, $.SearchMarkers), 1), $.BilgiMarkers.splice($.inArray(t, $.BilgiMarkers), 1))
	},
	PopoverShare: function(n) {
		var t = $(n).parent()[0],
			i, u, f;
		$(t).attr("data-lon") || (t = $(n).parent().parent()[0]);
		var e = $(t).attr("data-lon"),
			o = $(t).attr("data-lat"),
			r = $(t).attr("data-title");
		r || (r = $(t).attr("data-ad"));
		i = $(t).attr("data-angle");
		i = i ? "&angle=" + i : "";
		u = "http://sehirharitasi.ibb.gov.tr/?lat=" + o + "&lon=" + e + "&zoom=18&title=" + r + i;
		f = '<div class="sosyalmedya" data-url="' + u + '" ><div class="icon-facebook1" onclick="$.PopoverFacebook(this);"> <\/div><div class="icon-twitter1" onclick="$.PopoverTwitter(this);"> <\/div><div class="icon-link" data-target="#urlpaylas" onclick="$.PopoverUrlShare(this);"> <\/div><\/div><div id="urlpaylas"  ><input class="collapse" type="text" value="' + u + '"><\/input><\/div>';
		$(n).data("bs.popover") ? $(n).data("bs.popover").options.content = f : $(n).popover({
			placement: "right",
			html: !0,
			container: "body",
			content: f,
			title: r,
			trigger: "manuel"
		});
		$(n).popover("show")
	},
	PopoverFacebook: function(n) {
		var t = $(n).parent()[0],
			i = $(t).attr("data-url");
		$.URLShortener(i, function(n) {
			$.URLShare(n, "facebook")
		})
	},
	PopoverTwitter: function(n) {
		var t = $(n).parent()[0],
			i = $(t).attr("data-url");
		$.URLShortener(i, function(n) {
			$.URLShare(n, "twitter")
		})
	},
	Popupremove: function(n) {
		var t = $(n).parent().parent(),
			i = t.attr("id");
		$("[aria-describedby=" + i + "]").popover("hide");
		$(".share", t).popover("hide")
	},
	PopoverUrlShare: function() {
		$("#urlpaylas").collapse("toggle");
		$("#urlpaylas").on("shown.bs.collapse", function() {
			$("#urlpaylas input").show();
			$("#urlpaylas input").focus();
			$("#urlpaylas input").select()
		});
		$("#urlpaylas").on("hidden.bs.collapse", function() {
			$("#urlpaylas input").hide()
		})
	},
	PopoverPanorama: function(n) {
		var t = $(n).parent()[0],
			r;
		$(t).attr("data-lon") || (t = $(n).parent().parent()[0]);
		var u = $(t).attr("data-lon"),
			f = $(t).attr("data-lat"),
			i = $(t).attr("data-angle");
		$("#panorama").hasClass("active") || ($("#panorama").click(), onClickVectorClick({
			lon: u,
			lat: f
		}), i || (i = 0), i !== 0 && (r = $("#Pano")[0], r.lookAt && r.lookAt(i)))
	},
	PopoverArac: function(n) {
		MenuCloser();
		$.SearchActivated() && $.SearchClose();
		$.ProcessClose();
		$.NetworkChangeState("normal");
		$("#navbar #network").click();
		var t = $(n).parent().parent()[0],
			i = $(t).attr("data-lon"),
			r = $(t).attr("data-lat");
		i || (t = $(n).parent()[0], i = $(t).attr("data-lon"), r = $(t).attr("data-lat"));
		i = parseFloat(i);
		r = parseFloat(r);
		$.NetworkSetLocation("bitis", i, r)
	},
	PopoverTUBS: function(n) {
		MenuCloser();
		$.SearchActivated() && $.SearchClose();
		$.ProcessClose();
		$("#navbar #network").click();
		$.NetworkChangeState("tubs");
		var t = $(n).parent().parent()[0],
			i = $(t).attr("data-lon"),
			r = $(t).attr("data-lat");
		i || (t = $(n).parent()[0], i = $(t).attr("data-lon"), r = $(t).attr("data-lat"));
		i = parseFloat(i);
		r = parseFloat(r);
		$.NetworkSetLocation("bitis", i, r)
	}
});
$.extend({
		PanoramaSubmit: "",
		PanoramaResult: "",
		PanoramaWaiting: !1,
		PanoramaActivated: !1,
		PanoramaAngle: 0,
		PanoramaLonLat: {
			lon: undefined,
			lat: undefined
		},
		PanoramaInit: function(n, t) {
			$.PanoramaSubmit = n;
			$.PanoramaResult = t;
			$($.PanoramaResult).draggable({
				cursor: "move",
				containment: "window",
				scroll: !1,
				cancel: $.PanoramaResult + " .close, " + $.PanoramaResult + " .panorama-body"
			}).resizable();
			$($.PanoramaSubmit).click(function() {
				$.PanoramaAcKapa()
			});
			$($.PanoramaResult + " .close").click(function() {
				$.PanoramaAcKapa()
			})
		},
		openPanaromkFlash: function(n) {
			var r = function() {
					function y() {
						var i, r, n;
						if (!l) {
							try {
								i = t.getElementsByTagName("body")[0].appendChild(c("span"));
								i.parentNode.removeChild(i)
							} catch (u) {
								return
							}
							for (l = !0, r = b.length, n = 0; n < r; n++) b[n]()
						}
					}

					function pt(n) {
						l ? n() : b[b.length] = n
					}

					function wt(n) {
						if (typeof u.addEventListener != i) u.addEventListener("load", n, !1);
						else if (typeof t.addEventListener != i) t.addEventListener("load", n, !1);
						else if (typeof u.attachEvent != i) fi(u, "onload", n);
						else if (typeof u.onload == "function") {
							var r = u.onload;
							u.onload = function() {
								r();
								n()
							}
						} else u.onload = n
					}

					function ni() {
						at ? ti() : rt()
					}

					function ti() {
						var o = t.getElementsByTagName("body")[0],
							u = c(e),
							r, f;
						u.setAttribute("type", w);
						r = o.appendChild(u);
						r ? (f = 0, function() {
							if (typeof r.GetVariable != i) {
								var t = r.GetVariable("$version");
								t && (t = t.split(" ")[1].split(","), n.pv = [parseInt(t[0], 10), parseInt(t[1], 10), parseInt(t[2], 10)])
							} else if (f < 10) {
								f++;
								setTimeout(arguments.callee, 10);
								return
							}
							o.removeChild(u);
							r = null;
							rt()
						}()) : rt()
					}

					function rt() {
						var y = h.length,
							r, t, s, c, v;
						if (y > 0)
							for (r = 0; r < y; r++) {
								var u = h[r].id,
									e = h[r].callbackFn,
									o = {
										success: !1,
										id: u
									};
								if (n.pv[0] > 0) {
									if (t = f(u), t)
										if (!nt(h[r].swfVersion) || n.wk && n.wk < 312)
											if (h[r].expressInstall && ft()) {
												s = {};
												s.data = h[r].expressInstall;
												s.width = t.getAttribute("width") || "0";
												s.height = t.getAttribute("height") || "0";
												t.getAttribute("class") && (s.styleclass = t.getAttribute("class"));
												t.getAttribute("align") && (s.align = t.getAttribute("align"));
												var p = {},
													l = t.getElementsByTagName("param"),
													w = l.length;
												for (c = 0; c < w; c++) l[c].getAttribute("name").toLowerCase() != "movie" && (p[l[c].getAttribute("name")] = l[c].getAttribute("value"));
												et(s, p, u, e)
											} else ii(t), e && e(o);
									else a(u, !0), e && (o.success = !0, o.ref = ut(u), e(o))
								} else a(u, !0), e && (v = ut(u), v && typeof v.SetVariable != i && (o.success = !0, o.ref = v), e(o))
							}
					}

					function ut(n) {
						var r = null,
							t = f(n),
							u;
						return t && t.nodeName == "OBJECT" && (typeof t.SetVariable != i ? r = t : (u = t.getElementsByTagName(e)[0], u && (r = u))), r
					}

					function ft() {
						return !g && nt("6.0.65") && (n.win || n.mac) && !(n.wk && n.wk < 312)
					}

					function et(r, u, e, o) {
						var s, a, h, l;
						g = !0;
						tt = o || null;
						vt = {
							success: !1,
							id: e
						};
						s = f(e);
						s && (s.nodeName == "OBJECT" ? (p = ot(s), d = null) : (p = s, d = e), r.id = ct, (typeof r.width == i || !/%$/.test(r.width) && parseInt(r.width, 10) < 310) && (r.width = "310"), (typeof r.height == i || !/%$/.test(r.height) && parseInt(r.height, 10) < 137) && (r.height = "137"), t.title = t.title.slice(0, 47) + " - Flash Player Installation", a = n.ie && n.win ? "ActiveX" : "PlugIn", h = "MMredirectURL=" + encodeURI(window.location).toString().replace(/&/g, "%26") + "&MMplayerType=" + a + "&MMdoctitle=" + t.title, typeof u.flashvars != i ? u.flashvars += "&" + h : u.flashvars = h, n.ie && n.win && s.readyState != 4 && (l = c("div"), e += "SWFObjectNew", l.setAttribute("id", e), s.parentNode.insertBefore(l, s), s.style.display = "none", function() {
							s.readyState == 4 ? s.parentNode.removeChild(s) : setTimeout(arguments.callee, 10)
						}()), st(r, u, e))
					}

					function ii(t) {
						if (n.ie && n.win && t.readyState != 4) {
							var i = c("div");
							t.parentNode.insertBefore(i, t);
							i.parentNode.replaceChild(ot(t), i);
							t.style.display = "none",
								function() {
									t.readyState == 4 ? t.parentNode.removeChild(t) : setTimeout(arguments.callee, 10)
								}()
						} else t.parentNode.replaceChild(ot(t), t)
					}

					function ot(t) {
						var u = c("div"),
							f, i, o, r;
						if (n.win && n.ie) u.innerHTML = t.innerHTML;
						else if (f = t.getElementsByTagName(e)[0], f && (i = f.childNodes, i))
							for (o = i.length, r = 0; r < o; r++) i[r].nodeType == 1 && i[r].nodeName == "PARAM" || i[r].nodeType == 8 || u.appendChild(i[r].cloneNode(!0));
						return u
					}

					function st(t, r, u) {
						var v, y = f(u),
							p, o, b, a, h, s, l;
						if (n.wk && n.wk < 312) return v;
						if (y)
							if (typeof t.id == i && (t.id = u), n.ie && n.win) {
								p = "";
								for (o in t) t[o] != Object.prototype[o] && (o.toLowerCase() == "data" ? r.movie = t[o] : o.toLowerCase() == "styleclass" ? p += ' class="' + t[o] + '"' : o.toLowerCase() != "classid" && (p += " " + o + '="' + t[o] + '"'));
								b = "";
								for (a in r) r[a] != Object.prototype[a] && (b += '<param name="' + a + '" value="' + r[a] + '" />');
								y.outerHTML = '<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"' + p + ">" + b + "<\/object>";
								k[k.length] = t.id;
								v = f(t.id)
							} else {
								h = c(e);
								h.setAttribute("type", w);
								for (s in t) t[s] != Object.prototype[s] && (s.toLowerCase() == "styleclass" ? h.setAttribute("class", t[s]) : s.toLowerCase() != "classid" && h.setAttribute(s, t[s]));
								for (l in r) r[l] != Object.prototype[l] && l.toLowerCase() != "movie" && ri(h, l, r[l]);
								y.parentNode.replaceChild(h, y);
								v = h
							}
						return v
					}

					function ri(n, t, i) {
						var r = c("param");
						r.setAttribute("name", t);
						r.setAttribute("value", i);
						n.appendChild(r)
					}

					function bt(t) {
						var i = f(t);
						i && i.nodeName == "OBJECT" && (n.ie && n.win ? (i.style.display = "none", function() {
							i.readyState == 4 ? ui(t) : setTimeout(arguments.callee, 10)
						}()) : i.parentNode.removeChild(i))
					}

					function ui(n) {
						var t = f(n),
							i;
						if (t) {
							for (i in t) typeof t[i] == "function" && (t[i] = null);
							t.parentNode.removeChild(t)
						}
					}

					function f(n) {
						var i = null;
						try {
							i = t.getElementById(n)
						} catch (r) {}
						return i
					}

					function c(n) {
						return t.createElement(n)
					}

					function fi(n, t, i) {
						n.attachEvent(t, i);
						v[v.length] = [n, t, i]
					}

					function nt(t) {
						var r = n.pv,
							i = t.split(".");
						return i[0] = parseInt(i[0], 10), i[1] = parseInt(i[1], 10) || 0, i[2] = parseInt(i[2], 10) || 0, r[0] > i[0] || r[0] == i[0] && r[1] > i[1] || r[0] == i[0] && r[1] == i[1] && r[2] >= i[2] ? !0 : !1
					}

					function kt(r, u, f, s) {
						var a, h, l;
						n.ie && n.mac || (a = t.getElementsByTagName("head")[0], a) && (h = f && typeof f == "string" ? f : "screen", s && (o = null, it = null), o && it == h || (l = c("style"), l.setAttribute("type", "text/css"), l.setAttribute("media", h), o = a.appendChild(l), n.ie && n.win && typeof t.styleSheets != i && t.styleSheets.length > 0 && (o = t.styleSheets[t.styleSheets.length - 1]), it = h), n.ie && n.win ? o && typeof o.addRule == e && o.addRule(r, u) : o && typeof t.createTextNode != i && o.appendChild(t.createTextNode(r + " {" + u + "}")))
					}

					function a(n, t) {
						if (yt) {
							var i = t ? "visible" : "hidden";
							l && f(n) ? f(n).style.visibility = i : kt("#" + n, "visibility:" + i)
						}
					}

					function dt(n) {
						var t = /[\\\"<>\.;]/.exec(n) !== null;
						return t && typeof encodeURIComponent != i ? encodeURIComponent(n) : n
					}
					var i = "undefined",
						e = "object",
						ht = "Shockwave Flash",
						gt = "ShockwaveFlash.ShockwaveFlash",
						w = "application/x-shockwave-flash",
						ct = "SWFObjectExprInst",
						lt = "onreadystatechange",
						u = window,
						t = document,
						s = navigator,
						at = !1,
						b = [ni],
						h = [],
						k = [],
						v = [],
						p, d, tt, vt, l = !1,
						g = !1,
						o, it, yt = !0,
						n = function() {
							var l = typeof t.getElementById != i && typeof t.getElementsByTagName != i && typeof t.createElement != i,
								f = s.userAgent.toLowerCase(),
								o = s.platform.toLowerCase(),
								a = o ? /win/.test(o) : /win/.test(f),
								v = o ? /mac/.test(o) : /mac/.test(f),
								y = /webkit/.test(f) ? parseFloat(f.replace(/^.*webkit\/(\d+(\.\d+)?).*$/, "$1")) : !1,
								h = !+"\v1",
								r = [0, 0, 0],
								n = null,
								c;
							if (typeof s.plugins != i && typeof s.plugins[ht] == e) n = s.plugins[ht].description, !n || typeof s.mimeTypes != i && s.mimeTypes[w] && !s.mimeTypes[w].enabledPlugin || (at = !0, h = !1, n = n.replace(/^.*\s+(\S+\s+\S+$)/, "$1"), r[0] = parseInt(n.replace(/^(.*)\..*$/, "$1"), 10), r[1] = parseInt(n.replace(/^.*\.(.*)\s.*$/, "$1"), 10), r[2] = /[a-zA-Z]/.test(n) ? parseInt(n.replace(/^.*[a-zA-Z]+(.*)$/, "$1"), 10) : 0);
							else if (typeof u.ActiveXObject != i) try {
								c = new ActiveXObject(gt);
								c && (n = c.GetVariable("$version"), n && (h = !0, n = n.split(" ")[1].split(","), r = [parseInt(n[0], 10), parseInt(n[1], 10), parseInt(n[2], 10)]))
							} catch (p) {}
							return {
								w3: l,
								pv: r,
								wk: y,
								ie: h,
								win: a,
								mac: v
							}
						}(),
						ei = function() {
							n.w3 && ((typeof t.readyState != i && t.readyState == "complete" || typeof t.readyState == i && (t.getElementsByTagName("body")[0] || t.body)) && y(), l || (typeof t.addEventListener != i && t.addEventListener("DOMContentLoaded", y, !1), n.ie && n.win && (t.attachEvent(lt, function() {
								t.readyState == "complete" && (t.detachEvent(lt, arguments.callee), y())
							}), u == top && function() {
								if (!l) {
									try {
										t.documentElement.doScroll("left")
									} catch (n) {
										setTimeout(arguments.callee, 0);
										return
									}
									y()
								}
							}()), n.wk && function() {
								if (!l) {
									if (!/loaded|complete/.test(t.readyState)) {
										setTimeout(arguments.callee, 0);
										return
									}
									y()
								}
							}(), wt(y)))
						}(),
						oi = function() {
							n.ie && n.win && window.attachEvent("onunload", function() {
								for (var u, i, f, e, o = v.length, t = 0; t < o; t++) v[t][0].detachEvent(v[t][1], v[t][2]);
								for (u = k.length, i = 0; i < u; i++) bt(k[i]);
								for (f in n) n[f] = null;
								n = null;
								for (e in r) r[e] = null;
								r = null
							})
						}();
					return {
						registerObject: function(t, i, r, u) {
							if (n.w3 && t && i) {
								var f = {};
								f.id = t;
								f.swfVersion = i;
								f.expressInstall = r;
								f.callbackFn = u;
								h[h.length] = f;
								a(t, !1)
							} else u && u({
								success: !1,
								id: t
							})
						},
						getObjectById: function(t) {
							if (n.w3) return ut(t)
						},
						embedSWF: function(t, r, u, f, o, s, h, c, l, v) {
							var y = {
								success: !1,
								id: r
							};
							n.w3 && !(n.wk && n.wk < 312) && t && r && u && f && o ? (a(r, !1), pt(function() {
								var n, b, p, k, w, d;
								if (u += "", f += "", n = {}, l && typeof l === e)
									for (b in l) n[b] = l[b];
								if (n.data = t, n.width = u, n.height = f, p = {}, c && typeof c === e)
									for (k in c) p[k] = c[k];
								if (h && typeof h === e)
									for (w in h) typeof p.flashvars != i ? p.flashvars += "&" + w + "=" + h[w] : p.flashvars = w + "=" + h[w];
								if (nt(o)) d = st(n, p, r), n.id == r && a(r, !0), y.success = !0, y.ref = d;
								else {
									if (s && ft()) {
										n.data = s;
										et(n, p, r, v);
										return
									}
									a(r, !0)
								}
								v && v(y)
							})) : v && v(y)
						},
						switchOffAutoHideShow: function() {
							yt = !1
						},
						ua: n,
						getFlashPlayerVersion: function() {
							return {
								major: n.pv[0],
								minor: n.pv[1],
								release: n.pv[2]
							}
						},
						hasFlashPlayerVersion: nt,
						createSWF: function(t, i, r) {
							return n.w3 ? st(t, i, r) : undefined
						},
						showExpressInstall: function(t, i, r, u) {
							n.w3 && ft() && et(t, i, r, u)
						},
						removeSWF: function(t) {
							n.w3 && bt(t)
						},
						createCSS: function(t, i, r, u) {
							n.w3 && kt(t, i, r, u)
						},
						addDomLoadEvent: pt,
						addLoadEvent: wt,
						getQueryParamValue: function(n) {
							var r = t.location.search || t.location.hash,
								u, i;
							if (r) {
								if (/\?/.test(r) && (r = r.split("?")[1]), n === null) return dt(r);
								for (u = r.split("&"), i = 0; i < u.length; i++)
									if (u[i].substring(0, u[i].indexOf("=")) == n) return dt(u[i].substring(u[i].indexOf("=") + 1))
							}
							return ""
						},
						expressInstallCallback: function() {
							if (g) {
								var t = f(ct);
								t && p && (t.parentNode.replaceChild(p, t), d && (a(d, !0), n.ie && n.win && (p.style.display = "block")), tt && tt(vt));
								g = !1
							}
						}
					}
				}(),
				u, f, i;
			$.InfoBoxClose();
			$($.PanoramaResult + " > .panorama-body").removeClass("hidden");
			$.PanoramaWaiting = !1;
			$.PanoramaActivated = !0;
			$($.PanoramaResult).collapse("show");
			u = n.split(",")[0];
			f = n.split(",")[1];
			$.PanoramaLonLat = {
				lon: f,
				lat: u
			};
			var e = {
					debug: "0",
					latlon: n
				},
				t = {};
			t.quality = "high";
			t.bgcolor = "0";
			t.allowscriptaccess = "always";
			t.allowfullscreen = "true";
			t.wmode = "direct";
			i = {};
			i.id = "Pano";
			i.name = "Pano";
			i.align = "middle";
			r.embedSWF("loader.swf?path=MainYK.swf?" + Math.random() * 999 + "&initAngle=" + $.PanoramaAngle, "flashContent", "100%", "100%", "11.1", "", e, t, i)
		},
		PanoramaAcKapa: function() {
			$.PanoramaActivated ? ($($.PanoramaSubmit).removeClass("active"), $.PanoramaWaiting = !1, $($.PanoramaResult + " > .panorama-body > .div360").html('<div id="flashContent" style="width: 100%; height: 100%;"><\/div>'), $.PanoramaActivated = !1, $($.PanoramaResult).collapse("hide"), $("#mapFullScreen").show(), MapMarker.destroy(), $.InfoBoxClose()) : $.PanoramaWaiting ? ($($.PanoramaSubmit).removeClass("active"), $.PanoramaWaiting = !1, MapMarker.destroy(), $.InfoBoxClose()) : ($.PanoramaWaiting = !0, MapMarker.init(), $.InfoBox($.LanguageTextlist.panaromawarningtitle, $.LanguageTextlist.panaromawarningsubject))
		},
		PanoramaAciAyarla: function(n) {
			var t = document.getElementById("Pano");
			t && t.lookAt && (t.lookAt(n), n == 360 && (n = 0), $.PanoramaAngle = n)
		}
	}),
	function() {
		function n() {}

		function e(n) {
			var t = ol.proj.transform(n.coordinate, "EPSG:3857", "EPSG:4326"),
				i = {
					lon: t[0],
					lat: t[1]
				};
			onClickVectorClick(i)
		}

		function s(n, t) {
			i = n;
			r = t;
			$.PanoramaLonLat = {
				lon: t,
				lat: n
			};
			o(lastManDirection)
		}

		function o(n) {
			var u, e, o;
			n = Math.round(n);
			n < 0 && (n += 360);
			u = (n + 180) % 360;
			n = u;
			lastManDirection = u = n - 180;
			$.PanoramaAngle = (360 + n - 45) % 360;
			e = Math.PI / 180;
			o = u * e;
			t && ($.MapClearMarkers(t), $.MapClearMarkers(f));
			t = $.MapAddMarker(r, i, "", "", {
				image: h,
				opacity: .85,
				rotation: o,
				center: !0
			});
			f = $.MapAddMarker(r, i, "", "", {
				image: c,
				center: !0
			})
		}
		var u, i, r, v;
		n.getPanoLayer = function() {
			return $.MapLayers[9]
		};
		n.isLayerOpened = !1;
		n.init = function() {
			navigator.appVersion.indexOf("MSIE") !== -1 && (parseInt($.browser.version, 10) <= 8 && (dojo.require("dojox.html.ext-dojo.style"), dojo.require("dijit.form.HorizontalSlider"), a = !0), l = "Pano");
			$.MapEventRegister("click", e);
			u = $.MapGetLayerIndex("Panorama");
			$.MapClass.getLayers().item(u).setVisible(!0);
			n.isLayerOpened = !0
		};
		n.destroy = function() {
			t && ($.MapClearMarkers(t), $.MapClearMarkers(f));
			$.MapEventUnregister("click", e);
			$.MapClass.getLayers().item(u).setVisible(!1);
			n.isLayerOpened = !1
		};
		lastManDirection = -138.5;
		i = null;
		r = null;
		var h = "images/markers/roi-big.png",
			c = "images/markers/searched.png",
			t, f, l = "Pano",
			a = !1;
		v = !1;
		window.setManOnMapDirection = o;
		window.MapMarker = n;
		window.setManOnMapPosition = s
	}(window);
$.extend({
	MapContainer: "",
	MapTargetElement: {},
	MapCursorPosition: "",
	MapLegend: "",
	MapLayerState: "Harita",
	MapLastClickedLocation: [],
	MapClass: {},
	MapMenu: [],
	MapLoader: [],
	MapVectorLayer: {},
	MapMeasureSource: {},
	MapMeasureLayer: {},
	MapMeasureDraw: {},
	MapDrawSource: {},
	MapDrawLayer: {},
	MapDrawFeatureID: "",
	MapDrawSelectedFeatureID: null,
	MapDraw: {},
	MapDrawStyle: {},
	MapDrawSelected: null,
	MapDrawModified: null,
	MapDrawCoordinate: "",
	MapMeasureClass: {
		mode: "",
		listener: {},
		sketch: null,
		helpTooltipElement: null,
		helpTooltip: null,
		measureTooltipElement: null,
		measureTooltip: null,
		continuePolygonMsg: "Click to continue drawing the polygon",
		continueLineMsg: "Click to continue drawing the line"
	},
	MapCoordinateType: "WGS84",
	MapControls: {},
	MapMarkers: {},
	MapExtent: [311e4, 4975e3, 334e4, 51e5],
	MapLayers: [],
	MapLoadLayer: function() {
		var c = [256, 256],
			e = ["http://cbsproxy.ibb.gov.tr/?CACHEMAP/ISTANBUL_SOLAR_DIRECT_R/Layers/_alllayers/L{z}/R{y}/C{x}.jpg"],
			o = ["http://cbsproxy.ibb.gov.tr/?CACHEMAP/ISTANBUL_SOLAR_DIRECT_SB/Layers/_alllayers/L{z}/R{y}/C{x}.jpg"],
			n = [],
			t, u, f, i, r;
		n.push({
			name: "Harita",
			urls: ["http://cbsproxy.ibb.gov.tr/?CACHEMAP/SEHIRREHBERI_YOLISMI/Layers/_alllayers/L{z}/R{y}/C{x}.png"],
			zIndex: 0
		});
		n.push({
			name: "2014",
			urls: ["http://cbsproxy.ibb.gov.tr/?CACHEMAP/UYDU_2014_WM/Layers/_alllayers/L{z}/R{y}/C{x}.jpg"],
			zIndex: 1
		});
		n.push({
			name: "2013",
			urls: ["http://cbsproxy.ibb.gov.tr/?CACHEMAP/ORTOFOTO_2013_WM/Layers/_alllayers/L{z}/R{y}/C{x}.jpg"],
			zIndex: 2
		});
		n.push({
			name: "2011",
			urls: ["http://cbsproxy.ibb.gov.tr/?CACHEMAP/uydu_2011_web_mercator/Layers/_alllayers/L{z}/R{y}/C{x}.jpg"],
			zIndex: 3
		});
		n.push({
			name: "2006",
			urls: ["http://cbsproxy.ibb.gov.tr/?CACHEMAP/Ortofoto/Layers/_alllayers/L{z}/R{y}/C{x}.jpg"],
			zIndex: 4
		});
		n.push({
			name: "1982",
			urls: ["http://cbsproxy.ibb.gov.tr/?CACHEMAP/hava_foto1982/Layers/_alllayers/L{z}/R{y}/C{x}.jpg"],
			zIndex: 5
		});
		n.push({
			name: "1970",
			urls: ["http://cbsproxy.ibb.gov.tr/?CACHEMAP/TKGM_OROTOFOTO_WM/Layers/_alllayers/L{z}/R{y}/C{x}.jpg"],
			zIndex: 6
		});
		n.push({
			name: "1966",
			urls: ["http://cbsproxy.ibb.gov.tr/?CACHEMAP/hava_foto1966/Layers/_alllayers/L{z}/R{y}/C{x}.jpg"],
			zIndex: 7
		});
		n.push({
			name: "1946",
			urls: ["http://cbsproxy.ibb.gov.tr/?CACHEMAP/hava_foto1946/Layers/_alllayers/L{z}/R{y}/C{x}.jpg"],
			zIndex: 8
		});
		n.push({
			name: "Solar Harita (Renkli)",
			urls: e,
			zIndex: 9,
			legend: {
				tr: "img2.png",
				en: "Lejant Solar Radyasyon.png",
				url: "document/Solar_Radyasyon_Haritasi.pdf"
			}
		});
		n.push({
			name: "Solar Harita (SB)",
			urls: o,
			zIndex: 10,
			legend: {
				tr: "img3.png",
				en: "Lejant Solar Radyasyon.png",
				url: "document/Solar_Radyasyon_Haritasi.pdf"
			}
		});
		n.push({
			name: "Solar Map (Colored)",
			urls: e,
			zIndex: 9,
			layerSwitcher: !1,
			legend: {
				tr: "img2.png",
				en: "Lejant Solar Radyasyon.png"
			}
		});
		n.push({
			name: "Solar Map (BW)",
			urls: o,
			zIndex: 10,
			layerSwitcher: !1,
			legend: {
				tr: "img3.png",
				en: "Lejant Solar Radyasyon.png"
			}
		});
		n.push({
			name: "Havza Sýnýrlarý",
			urls: ["http://cbsproxy.ibb.gov.tr/?CACHEMAP/HAVZAKUSAGI_WM/Layers/_alllayers/L{z}/R{y}/C{x}.png"],
			zIndex: 12,
			layerSwitcher: !0,
			isBaseLayer: !1,
			opacity: .5,
			legend: {
				tr: "Lejant Havza Sýnýrlarý.png",
				en: "Lejant Havza Sýnýrlarý EN.png"
			}
		});
		n.push({
			name: "Raylý Sistem Hattý",
			urls: ["http://cbsproxy.ibb.gov.tr/?CACHEMAP/RayliSistemler/Layers/_alllayers/L{z}/R{y}/C{x}.png"],
			zIndex: 13,
			layerSwitcher: !0,
			isBaseLayer: !1,
			opacity: .7,
			legend: {
				tr: "Lejant Raylý Sistem Hattý.png",
				en: "Lejant Raylý Sistem Hattý EN.png"
			}
		});
		n.push({
			name: "Hybrid",
			urls: ["http://cbsproxy.ibb.gov.tr/?CACHEMAP/hybrid/Layers/_alllayers/L{z}/R{y}/C{x}.png"],
			zIndex: 1e3,
			isBaseLayer: !1
		});
		n.push({
			name: "Panorama",
			urls: ["http://cbsproxy.ibb.gov.tr/?CACHEMAP/PANORAMA_YK/Layers/_alllayers/L{z}/R{y}/C{x}.png"],
			zIndex: 1001,
			layerSwitcher: !1,
			isBaseLayer: !1
		});
		for (t in n) {
			var l = n[t].name,
				s = n[t].urls,
				a = n[t].zIndex,
				h = !0;
			n[t].layerSwitcher !== undefined && (h = n[t].layerSwitcher);
			u = !0;
			n[t].isBaseLayer !== undefined && (u = n[t].isBaseLayer);
			f = 1;
			n[t].opacity && (f = n[t].opacity);
			i = n[t].legend;
			i = i ? {
				tr: XSSDefender(i.tr),
				en: XSSDefender(i.en),
				url: i.url
			} : {
				tr: undefined,
				en: undefined,
				url: undefined
			};
			r = new ol.layer.Tile({
				source: new ol.source.XYZ({
					tileSize: c,
					urls: s,
					tileLoadFunction: function(n, t) {
						n.getImage().src = $.MapOL3_TileLoadFunction(t)
					}
				}),
				zIndex: a,
				opacity: f,
				visible: !1
			});
			r.set("name", l);
			r.set("layerSwitcher", h);
			r.set("isBaseLayer", u);
			r.set("legend-tr", i.tr);
			r.set("legend-en", i.en);
			r.set("legend-url", i.url);
			$.MapLayers.push({
				layer: r,
				urls: s
			})
		}
	},
	MapInit: function(n, t, i, r, u) {
		var o, f, e, s;
		$.MapContainer = n;
		$.MapCursorPosition = t;
		$.MapLegend = i;
		$.MapControls = u;
		$.MapLoadLayer();
		o = new ol.View({
			projection: "EPSG:3857",
			center: ol.proj.transform([29.00152421875, 41.013806515957], "EPSG:4326", "EPSG:3857"),
			zoom: 12,
			minZoom: 10,
			maxZoom: 20,
			extent: $.MapExtent
		});
		window.app = {};
		f = window.app;
		f.Drag = function() {
			ol.interaction.Pointer.call(this, {
				handleDownEvent: f.Drag.prototype.handleDownEvent,
				handleDragEvent: f.Drag.prototype.handleDragEvent,
				handleMoveEvent: f.Drag.prototype.handleMoveEvent,
				handleUpEvent: f.Drag.prototype.handleUpEvent
			});
			this.coordinate_ = null;
			this.cursor_ = "pointer";
			this.feature_ = null;
			this.previousCursor_ = undefined;
			this.dragStarted = !1;
			this.tag = undefined
		};
		ol.inherits(f.Drag, ol.interaction.Pointer);
		f.Drag.prototype.handleDownEvent = function(n) {
			var t = $.MapClass.forEachFeatureAtPixel(n.pixel, function(n) {
				return n
			});
			if (t)
				if (t.get("draggable")) this.coordinate_ = n.coordinate, this.feature_ = t, this.dragStarted = !0, this.tag = t.get("tag");
				else return !1;
			return !!t
		};
		f.Drag.prototype.handleDragEvent = function(n) {
			var t = $.MapClass.forEachFeatureAtPixel(n.pixel, function(n) {
					return n
				}),
				i;
			if ((t || this.feature_) && this.dragStarted) {
				t = this.feature_;
				i = ol.proj.transform(n.coordinate, "EPSG:3857", "EPSG:4326");
				t.get("draggableControl") && t.get("draggableControl")(this.feature_.getId(), i[0], i[1]);
				var r = n.coordinate[0] - this.coordinate_[0],
					u = n.coordinate[1] - this.coordinate_[1],
					f = this.feature_.getGeometry();
				f.translate(r, u);
				this.coordinate_[0] = n.coordinate[0];
				this.coordinate_[1] = n.coordinate[1]
			}
		};
		f.Drag.prototype.handleMoveEvent = function(n) {
			if (this.cursor_) {
				var t = $.MapClass.forEachFeatureAtPixel(n.pixel, function(n) {
					return n
				});
				t ? this.dragStarted && $.MapTargetElement.css("cursor") != this.cursor_ && (this.previousCursor_ = $.MapTargetElement.css("cursor"), $.MapTargetElement.css("cursor", this.cursor_)) : this.previousCursor_ !== undefined && ($.MapTargetElement.css("cursor", this.previousCursor_), this.previousCursor_ = undefined)
			}
		};
		f.Drag.prototype.handleUpEvent = function(n) {
			if (this.feature_) {
				var t = ol.proj.transform(n.coordinate, "EPSG:3857", "EPSG:4326");
				this.feature_.get("draggableCompleted") && this.feature_.get("draggableCompleted")(this.feature_.getId(), t[0], t[1], "completed");
				this.feature_.get("draggable") && this.feature_.get("draggable")(this.feature_.getId(), t[0], t[1], this.tag)
			}
			return this.coordinate_ = null, this.feature_ = null, this.dragStarted = !1, this.tag = undefined, !1
		};
		$.MapLayers[0].layer.setVisible(!0);
		e = [];
		for (s in $.MapLayers) e.push($.MapLayers[s].layer);
		if (e = e.reverse(), $.MapClass = new ol.Map({
				target: $.MapContainer.replace("#", ""),
				layers: e,
				loadTilesWhileAnimating: !0,
				controls: ol.control.defaults().extend([]),
				interactions: ol.interaction.defaults().extend([new f.Drag, new ol.interaction.DragRotateAndZoom]),
				view: o,
				logo: !1
			}), u) {
			if (u.layers && $(u.layers.button).click(function() {
					u.layers.func && u.layers.func(this)
				}), u.overlaymaps && $(u.overlaymaps.button).click(function() {
					u.overlaymaps.func && u.overlaymaps.func(this)
				}), u.switch && $(u.switch.button).click(function() {
					u.switch.func && u.switch.func(this)
				}), u.legend && $(u.legend.button).click(function() {
					$($.MapLegend + " div").hasClass("hidden") ? $($.MapLegend + " div").removeClass("hidden") : $($.MapLegend + " div").addClass("hidden");
					u.legend.func && u.legend.func(this)
				}), u.clear && $(u.clear.button).click(function() {
					u.clear.func && u.clear.func(this)
				}), u.lineMeasurement && $(u.lineMeasurement.button).click(function() {
					var n = $.MapMeasureClass.mode;
					$.MapMeasurementPassive();
					n != "line" && $.MapMeasurementActive("line");
					u.lineMeasurement.func && u.lineMeasurement.func(this)
				}), u.areaMeasurement && $(u.areaMeasurement.button).click(function() {
					var n = $.MapMeasureClass.mode;
					$.MapMeasurementPassive();
					n != "area" && $.MapMeasurementActive("area");
					u.areaMeasurement.func && u.areaMeasurement.func(this)
				}), u.ruler && $(u.ruler.button).click(function() {
					u.ruler.func && u.ruler.func(this)
				}), u.print && $(u.print.button).click(function() {
					u.print.func && u.print.func(this)
				}), u.location && $(u.location.button).click(function() {
					u.location.func && u.location.func(this)
				}), u.zoomin && $(u.zoomin.button).click(function() {
					u.zoomin.func && u.zoomin.func(this)
				}), u.zoomout && $(u.zoomout.button).click(function() {
					u.zoomout.func && u.zoomout.func(this)
				}), u.keyup) $(document).on("keyup", u.keyup);
			u.contextmenu && $.MapClass.getViewport().addEventListener("contextmenu", function(n) {
				$($.MapLegend + " div").addClass("hidden");
				$.MapLastClickedLocation = $.MapLonLatFromPixel([n.x, n.y]);
				n.preventDefault();
				u.contextmenu(n)
			})
		}
		$.MapVectorLayer = new ol.layer.Vector({
			source: new ol.source.Vector({
				features: []
			}),
			name: "Vector",
			zIndex: 99999,
			layerSwitcher: !1
		});
		$.MapClass.addLayer($.MapVectorLayer);
		$.MapMeasureSource = new ol.source.Vector;
		$.MapMeasureLayer = new ol.layer.Vector({
			source: $.MapMeasureSource,
			style: new ol.style.Style({
				fill: new ol.style.Fill({
					color: "rgba(42, 171, 227, 0.2)"
				}),
				stroke: new ol.style.Stroke({
					color: "#2aabe3",
					width: 5
				}),
				image: new ol.style.Circle({
					radius: 7,
					fill: new ol.style.Fill({
						color: "#2aabe3"
					})
				})
			}),
			name: "Measure",
			zIndex: 999999,
			layerSwitcher: !1
		});
		$.MapClass.addLayer($.MapMeasureLayer);
		$.MapDrawSource = new ol.source.Vector;
		$.MapDrawLayer = new ol.layer.Vector({
			source: $.MapDrawSource,
			style: new ol.style.Style({
				fill: new ol.style.Fill({
					color: "rgba(42, 171, 227, 0.2)"
				}),
				stroke: new ol.style.Stroke({
					color: "#2aabe3",
					width: 5
				}),
				image: new ol.style.Circle({
					radius: 7,
					fill: new ol.style.Fill({
						color: "#2aabe3"
					})
				})
			}),
			name: "Draw",
			zIndex: 999999,
			layerSwitcher: !1
		});
		$.MapClass.addLayer($.MapDrawLayer);
		$.MapTargetElement = $($.MapClass.getTargetElement());
		$.MapEventRegister("pointermove", function(n) {
			var i, r, t, u;
			$.MapClass.hasFeatureAtPixel(n.pixel) ? (i = $.MapClass.forEachFeatureAtPixel(n.pixel, function(n) {
				return n
			}), i && i.get("draggable") && $.MapTargetElement.css("cursor", "pointer")) : $.MapTargetElement.css("cursor", "");
			t = ol.proj.transform(n.coordinate, "EPSG:3857", "EPSG:4326");
			$.PopupPosition = n.pixel;
			$.MapCoordinateType == "TUREF" ? (u = $.MapWGS84ToITRF(t[0], t[1]), r = u.x.toFixed(3) + " , " + u.y.toFixed(3)) : $.MapCoordinateType && (r = t[1].toFixed(8) + " , " + t[0].toFixed(8));
			$($.MapCursorPosition).html(r);
			n.dragging && ($($.MapContainer + " .olLayerDiv div").popover("hide"), $($.MapContainer + " div.popover").remove(), $("body> div.popover").remove())
		});
		$.MapClass.getView().on("propertychange", function(n) {
			switch (n.key) {
				case "center":
				case "resolution":
					$($.MapContainer + " .olLayerDiv div").popover("hide");
					$($.MapContainer + " div.popover").remove();
					$("body> div.popover").remove();
					$.MapMenuRun()
			}
		});
		$.MapEventRegister("singleclick", function(n) {
			var t, i;
			$.MapLastClickedLocation = ol.proj.transform(n.coordinate, "EPSG:3857", "EPSG:4326");
			$.MapMenuRun();
			t = $.MapClass.forEachFeatureAtPixel(n.pixel, function(n) {
				return n
			});
			t && (i = t.get("clickable"), i && $.MapFeatureClick(t))
		});
		$(document).resize(function() {
			var n = $(window).width(),
				t = $(window).height();
			$("body").append("<style>@media print { @page { size: " + n + "px " + t + "px;}<\/style>")
		});
		r && r()
	},
	MapGetSize: function() {
		return $.MapClass.getSize()
	},
	MapGetExtent: function() {
		var n = $.MapClass.getView().calculateExtent($.MapClass.getSize()),
			t = [n[0], n[1]],
			i = [n[2], n[3]];
		return t = ol.proj.transform(t, "EPSG:3857", "EPSG:4326"), i = ol.proj.transform(i, "EPSG:3857", "EPSG:4326"), [t[0], t[1], i[0], i[1]]
	},
	MapMenuRun: function() {
		for (var n = 0; n < $.MapMenu.length; n++) $.MapMenu[n] && ($.MapMenu[n].element ? $.MapMenu[n].cssClass ? $($.MapMenu[n].element).addClass($.MapMenu[n].cssClass) : $.MapMenu[n].cssStyle ? $(MapMenu[n].element).css($.MapMenu[n].cssStyle) : $.MapMenu[n].func ? $.MapMenu[n].func($.MapMenu[n].element) : $($.MapMenu[n].element).hide() : $.MapMenu[n].func && $.MapMenu[n].func())
	},
	MapMeasurementActive: function(n) {
		$.MapMeasureClass.mode = n;
		n = n == "area" ? "Polygon" : "LineString";
		$.MapMeasureDraw = new ol.interaction.Draw({
			source: $.MapMeasureSource,
			type: n,
			style: new ol.style.Style({
				fill: new ol.style.Fill({
					color: "rgba(255, 255, 255, 0.2)"
				}),
				stroke: new ol.style.Stroke({
					color: "rgba(0, 0, 0, 0.5)",
					lineDash: [10, 10],
					width: 3
				}),
				image: new ol.style.Circle({
					radius: 5,
					stroke: new ol.style.Stroke({
						color: "rgba(0, 0, 0, 0.7)",
						width: 2
					}),
					fill: new ol.style.Fill({
						color: "rgba(255, 255, 255, 0.2)"
					})
				})
			})
		});
		$.MapClass.addInteraction($.MapMeasureDraw);
		$.MapMeasureTooltip();
		$.MapMeasureDraw.on("drawstart", function(n) {
			$.MapMeasureClass.sketch = n.feature;
			var t = n.coordinate;
			$.MapMeasureClass.listener = $.MapMeasureClass.sketch.getGeometry().on("change", function(n) {
				var i = n.target,
					r;
				i instanceof ol.geom.Polygon ? (r = $.MapMeasurePolygonFormatLength(i), t = i.getInteriorPoint().getCoordinates()) : i instanceof ol.geom.LineString && (r = $.MapMeasureLineStringFormatLength(i), t = i.getLastCoordinate());
				$.MapMeasureClass.measureTooltipElement.innerHTML = r;
				$.MapMeasureClass.measureTooltip.setPosition(t)
			})
		}, this);
		$.MapMeasureDraw.on("drawend", function() {
			$.MapMeasureClass.measureTooltipElement.className = "mmtooltip mmtooltip-static";
			$.MapMeasureClass.measureTooltip.setOffset([0, -7]);
			$.MapMeasureClass.sketch = null;
			$.MapMeasureClass.measureTooltipElement = null;
			$.MapMeasureTooltip();
			ol.Observable.unByKey($.MapMeasureClass.listener)
		}, this)
	},
	MapMeasurementPassive: function() {
		$.MapMeasureClass.mode = "";
		$.MapClass.removeInteraction($.MapMeasureDraw)
	},
	MapMeasurementClear: function() {
		$.MapClass.getOverlays().clear();
		$.MapMeasureLayer.getSource().clear()
	},
	MapMeasureLineStringFormatLength: function(n) {
		var t, r, u, i, f;
		if (1)
			for (r = n.getCoordinates(), t = 0, u = $.MapClass.getView().getProjection(), i = 0, f = r.length - 1; i < f; ++i) {
				var e = ol.proj.transform(r[i], u, "EPSG:4326"),
					o = ol.proj.transform(r[i + 1], u, "EPSG:4326"),
					s = new ol.Sphere(6378137);
				t += s.haversineDistance(e, o)
			} else t = Math.round(n.getLength() * 100) / 100, console.info(t), console.info(n), console.info(n.getLength());
		return t > 1e3 ? Math.round(t / 10) / 100 + " km" : Math.round(t * 100) / 100 + " m"
	},
	MapMeasurePolygonFormatLength: function(n) {
		var t;
		if (1) {
			var i = $.MapClass.getView().getProjection(),
				r = n.clone().transform(i, "EPSG:4326"),
				u = r.getLinearRing(0).getCoordinates(),
				f = new ol.Sphere(6378137);
			t = Math.abs(f.geodesicArea(u))
		} else t = n.getArea();
		return t > 1e4 ? Math.round(t / 1e4) / 100 + " km<sup>2<\/sup>" : Math.round(t * 100) / 100 + " m<sup>2<\/sup>"
	},
	MapMeasureTooltip: function() {
		$.MapMeasureClass.measureTooltipElement && $.MapMeasureClass.measureTooltipElement.parentNode.removeChild($.MapMeasureClass.measureTooltipElement);
		$.MapMeasureClass.measureTooltipElement = document.createElement("div");
		$.MapMeasureClass.measureTooltipElement.className = "mmtooltip mmtooltip-measure";
		$.MapMeasureClass.measureTooltip = new ol.Overlay({
			element: $.MapMeasureClass.measureTooltipElement,
			offset: [0, -15],
			positioning: "bottom-center"
		});
		$.MapClass.addOverlay($.MapMeasureClass.measureTooltip)
	},
	MapEventRegister: function(n, t) {
		$.MapClass.on(n, t)
	},
	MapEventUnregister: function(n, t) {
		$.MapClass.un(n, t)
	},
	MapPixelFromLonLat: function(n) {
		return $.MapClass.getPixelFromCoordinate(n)
	},
	MapLonLatFromPixel: function(n) {
		return $.MapToWGS84($.MapClass.getCoordinateFromPixel(n))
	},
	MapWGS84ToITRF: function(n, t) {
		Proj4js.defs.WGS84 = "+proj=longlat +ellps=WGS84 +datum=WGS84 +no_defs";
		Proj4js.defs["EPSG:5254"] = "+proj=tmerc +lat_0=0 +lon_0=30 +k=1 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs";
		var i = new Proj4js.Proj("WGS84"),
			r = new Proj4js.Proj("EPSG:5254"),
			u = new Proj4js.Point(n, t);
		return Proj4js.transform(i, r, u)
	},
	MapITRFtoWgs84: function(n, t) {
		Proj4js.defs["EPSG:4326"] = "+proj=longlat +ellps=WGS84 +datum=WGS84 +no_defs";
		Proj4js.defs["EPSG:5254"] = "+proj=tmerc +lat_0=0 +lon_0=30 +k=1 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs";
		var i = new Proj4js.Proj("EPSG:4326"),
			r = new Proj4js.Proj("EPSG:5254"),
			u = new Proj4js.Point(n, t);
		return Proj4js.transform(r, i, u)
	},
	isITRF: function(n) {
		return n = String(n), n.indexOf(".")
	},
	MapCoordinateTypeDefault: function() {
		$.MapGetCoordinateType() == "TUREF" ? ($.SetCookie("coordinateType", "TUREF"), $.MapCoordinateType = "TUREF", $("#CoordinateConvertBtn").html("ITRF (TUREF)")) : ($.SetCookie("coordinateType", "WGS84"), $.MapCoordinateType = "WGS84", $("#CoordinateConvertBtn").html("WGS84"));
		$.MapSetCoordinateType($.MapCoordinateType)
	},
	MapGetCoordinateType: function() {
		return $.GetCookie("coordinateType")
	},
	MapSetCoordinateType: function(n) {
		$.SetCookie("coordinateType", n)
	},
	MapCoordinateChange: function() {
		$.MapGetCoordinateType() == "TUREF" ? ($.MapSetCoordinateType("WGS84"), $.MapCoordinateType = "WGS84") : ($.MapSetCoordinateType("TUREF"), $.MapCoordinateType = "TUREF")
	},
	MapAddMarker: function(n, t, i, r, u) {
		var o, c, l, e, d, s, g;
		$.MapCoordinateType == "TUREF" ? (o = $.MapWGS84ToITRF(n, t), c = o.x.toFixed(3), l = o.y.toFixed(3)) : (c = n.toFixed(8), l = t.toFixed(8));
		e = "M_" + $.MapGUIDGenerator();
		i === "" && (i = "Nokta");
		r === "" && (r = "...");
		var h = "images/markers/location.png",
			f = [.5, .5],
			a = 0,
			v = .8,
			y = !1,
			p = "Paylaþ",
			w = "Ýþaretle",
			b = "Buraya araç ile",
			k = "Buraya toplu ulaþým ile";
		if ($.LanguageGet() == "en-US" && (p = "Share", w = "Mark", b = "With vehicle", k = "With public trasport"), u) {
			if (u.click && (y = !0), u.clear && $.MapClearMarkers(), u.image && (h = u.image), u.toolbar && (d = u && u.panorama ? u.panorama.angle : 0, r += '<div class="markertoolbar pull-right" data-featureid="' + e + '" data-lon="' + n + '" data-lat="' + t + '" data-title="' + i + '" data-angle="' + d + '"><p id="popupCoordinate">' + c + " , " + l + '<\/p><div class="panorama icon-360 hidden-mobile" title="Panorama" onclick="$.PopoverPanorama(this);"><\/div><div class="isaretle icon-yildiz" title="' + w + '" onclick="$.PopoverIsaretle(this);"><\/div><div class="share icon-sosyalaglar"  onclick="$.PopoverShare(this);" title="' + p + '"><\/div><div class="icon-otomobil" onclick="$.PopoverArac(this);" title="' + b + '"><\/div><div class="icon-otobus" onclick="$.PopoverTUBS(this);" title="' + k + '"><\/div><\/div>'), u.anchor) {
				switch (u.anchor.x) {
					case "l":
						f[0] = 0;
						break;
					case "c":
						f[0] = .5;
						break;
					case "r":
						f[0] = 1
				}
				switch (u.anchor.y) {
					case "t":
						f[1] = 0;
						break;
					case "c":
						f[1] = .5;
						break;
					case "b":
						f[1] = 1
				}
			}
			u.rotation && (a = u.rotation);
			u.opacity && (v = u.opacity)
		}
		return o = ol.proj.transform([n, t], "EPSG:4326", "EPSG:3857"), s = new ol.Feature({
			geometry: new ol.geom.Point(o),
			content: r,
			title: i,
			type: "marker",
			clickable: y,
			click: u.click,
			lonlat: n + "," + t,
			draggable: u.draggable,
			draggableControl: u.draggableControl,
			draggableCompleted: u.draggableControl,
			tag: u.tag
		}), g = new ol.style.Style({
			image: new ol.style.Icon({
				anchor: f,
				rotation: a,
				opacity: v,
				src: h
			})
		}), s.setId(e), s.setStyle(g), $.MapVectorLayer.getSource().addFeature(s), u && u.showPopover && setTimeout(function() {
			$.MapFeatureClick(s)
		}, 100), u && u.size ? $("<img/>").attr("anchor", f).attr("id", e).attr("src", h).load(function() {
			var t = $(this).attr("id"),
				i = $(this).attr("anchor"),
				r = this.width,
				f = this.height,
				n = 1;
			u.size.w && (n = u.size.w / this.width);
			u.size.h && (n = u.size.h / this.height);
			$.MapGetFeature(t).getStyle().getImage().setScale(n);
			$.MapMarkers[t] = {
				width: r,
				height: f,
				anchor: i
			}
		}) : $("<img/>").attr("anchor", f).attr("id", e).attr("src", h).load(function() {
			var n = $(this).attr("id"),
				t = $(this).attr("anchor"),
				i = this.width,
				r = this.height;
			$.MapMarkers[n] = {
				width: i,
				height: r,
				anchor: t
			}
		}), e
	},
	MapGetFeature: function(n) {
		return $.MapVectorLayer.getSource().getFeatureById(n)
	},
	MapFeatureClick: function(n) {
		var t = n.getId(),
			u, e, s, c, r, f;
		if ($.MapMarkers[t]) {
			$("#mapPopover > #" + t).length === 0 && $("#mapPopover").append("<div id=" + t + "><\/div>");
			u = new ol.Overlay({
				element: document.getElementById(t)
			});
			$.MapClass.addOverlay(u);
			e = n.getGeometry().getExtent();
			s = [e[0], e[1]];
			u.setPosition(s);
			var i = u.getElement(),
				o = parseInt($(i).parent().css("top").replace("px", "")),
				h = $.MapMarkers[t].anchor.split(",");
			h[1] == .5 ? o -= $.MapMarkers[t].height / 2 : h[1] == 1 && (o -= $.MapMarkers[t].height);
			$(i).parent().css("top", o);
			c = n.get("title");
			r = n.get("content");
			$.PopupMarkerIDList[t] && (r = r.replace("isaretle icon-yildiz", "isaretle icon-yildiz-onay"));
			$(i).data("bs.popover") ? $(i).data("bs.popover").options.content = r : $(i).popover({
				placement: "auto",
				html: !0,
				container: "body " + $.MapContainer,
				content: r,
				title: c
			});
			$(i).popover("show");
			f = "#" + $(i).attr("aria-describedby");
			$.PopoverID = f;
			$(f + " h3 span").length === 0 && $(f + " h3").append('<span onclick="$.Popupremove(this);" class="glyphicon glyphicon-remove pointer"><\/span>')
		}
		n.get("click")(t, n.get("tag"))
	},
	MapFeatureSetStyle: function(n, t) {
		var r = "images/markers/location.png",
			i = [.5, .5],
			u = 0,
			f = .8,
			e, o;
		if (t) {
			if (t.image && (r = t.image), t.anchor) {
				switch (t.anchor.x) {
					case "l":
						i[0] = 0;
						break;
					case "c":
						i[0] = .5;
						break;
					case "r":
						i[0] = 1
				}
				switch (t.anchor.y) {
					case "t":
						i[1] = 0;
						break;
					case "c":
						i[1] = .5;
						break;
					case "b":
						i[1] = 1
				}
			}
			t.rotation && (u = t.rotation);
			t.opacity && (f = t.opacity)
		}
		e = new ol.style.Style({
			image: new ol.style.Icon({
				anchor: i,
				rotation: u,
				opacity: f,
				src: r
			})
		});
		o = $.MapGetFeature(n);
		o.setStyle(e);
		t && t.size ? $("<img/>").attr("anchor", i).attr("id", n).attr("src", r).load(function() {
			var i = $(this).attr("id"),
				r = $(this).attr("anchor"),
				u = this.width,
				f = this.height,
				n = 1;
			t.size.w && (n = t.size.w / this.width);
			t.size.h && (n = t.size.h / this.height);
			$.MapGetFeature(i).getStyle().getImage().setScale(n);
			$.MapMarkers[i] = {
				width: u,
				height: f,
				anchor: r
			}
		}) : $("<img/>").attr("anchor", i).attr("id", n).attr("src", r).load(function() {
			var n = $(this).attr("id"),
				t = $(this).attr("anchor"),
				i = this.width,
				r = this.height;
			$.MapMarkers[n] = {
				width: i,
				height: r,
				anchor: t
			}
		})
	},
	MapFeatureRotation: function(n, t) {
		var i = $.MapGetFeature(n);
		i && i.getStyle().getImage().setRotation(t)
	},
	MapRemovePopover: function() {
		$($.MapContainer + " div.popover").remove()
	},
	MapClearMarkers: function(n) {
		var r, i, t;
		if (n) r = $.MapVectorLayer.getSource().getFeatureById(n), r && ($.MapVectorLayer.getSource().removeFeature(r), delete $.MapMarkers[n]);
		else
			for (i = $.MapVectorLayer.getSource().getFeatures().length - 1; i >= 0; i--) t = $.MapVectorLayer.getSource().getFeatures()[i], t && t.get("type") == "marker" && ($.MapVectorLayer.getSource().removeFeature(t), delete $.MapMarkers[t.getId()])
	},
	MapGoto: function(n, t, i, r) {
		var f = ol.proj.transform([n, t], "EPSG:4326", "EPSG:3857"),
			u;
		if (r) {
			var e = 1500,
				o = +new Date,
				s = ol.animation.pan({
					duration: e,
					source: $.MapClass.getView().getCenter(),
					start: o
				}),
				h = ol.animation.bounce({
					duration: e,
					resolution: 2 * $.MapClass.getView().getResolution(),
					start: o
				});
			$.MapClass.beforeRender(s, h);
			$.MapClass.getView().setCenter(f)
		} else u = $.MapClass.getSize(), $.MapClass.getView().centerOn(f, u, [u[0] / 2, u[1] / 2]);
		i && $.MapSetZoom(i)
	},
	MapGotoExtent: function(n, t, i, r) {
		var u = [n, t, i, r];
		$.MapClass.getView().fit(u, $.MapClass.getSize())
	},
	MapGotoExtentWithArray: function(n) {
		$.MapClass.getView().fit(n, $.MapClass.getSize())
	},
	MapGetExtentArrayWKT: function(n, t) {
		var r = new ol.format.WKT,
			u = r.readFeature(n),
			i = u.getGeometry();
		return t && i.transform("EPSG:4326", "EPSG:3857"), i.getExtent()
	},
	MapDrawLineString: function(n, t, i) {
		var c = "L_" + $.MapGUIDGenerator(),
			y = new ol.format.WKT,
			f = y.readFeature(n),
			h;
		f.getGeometry().transform("EPSG:4326", "EPSG:3857");
		var e = 2,
			r = "#00ff00",
			l = .5,
			u = "#00ff00",
			a = .5,
			o = "solid",
			s = "round",
			v = "bevel";
		return t && (t.strokeWidth && (e = t.strokeWidth), t.strokeColor && (r = t.strokeColor), t.strokeOpacity && (l = t.strokeOpacity), t.fillColor && (u = t.fillColor), t.fillOpacity && (a = t.fillOpacity), t.strokeDashStyle && (o = t.strokeDashStyle), t.lineCap && (s = t.lineCap)), r = ol.color.asArray(r), r[3] = l, u = ol.color.asArray(u), u[3] = a, h = n.toLowerCase().indexOf("point") > -1 || n.toLowerCase().indexOf("poýnt") > -1 ? new ol.style.Style({
			fill: new ol.style.Fill({
				color: u
			}),
			stroke: new ol.style.Stroke({
				color: r,
				width: e,
				lineJoin: v,
				lineCap: s
			}),
			image: new ol.style.Circle({
				radius: 5,
				stroke: new ol.style.Stroke({
					color: r,
					width: e
				}),
				fill: new ol.style.Fill({
					color: u
				})
			})
		}) : new ol.style.Style({
			fill: new ol.style.Fill({
				color: u
			}),
			stroke: new ol.style.Stroke({
				color: r,
				width: e,
				lineJoin: v,
				lineCap: s
			})
		}), o != "solid" && h.getStroke().setLineDash(o.split(" ")), f.setId(c), f.set("type", "line"), f.setStyle(h), $.MapVectorLayer.getSource().addFeature(f), i && (i.clear && $.MapClearVectorLayer(), i.zoom && $.MapGotoExtentWithArray(f.getGeometry().getExtent())), c
	},
	MapDrawCircle: function(n, t, i, r, u) {
		var c = ol.proj.transform([n, t], "EPSG:4326", "EPSG:3857"),
			p = new ol.geom.Circle([c[0], c[1]], i, "XY"),
			l = "C_" + $.MapGUIDGenerator(),
			o = new ol.Feature({
				geometry: p,
				name: "Circle"
			}),
			a = 2,
			f = "#2AABE3",
			v = .2,
			e = "#2AABE3",
			y = .5,
			s = "solid",
			h;
		return r && (r.strokeWidth && (a = r.strokeWidth), r.strokeColor && (f = r.strokeColor), r.strokeOpacity && (v = r.strokeOpacity), r.fillColor && (e = r.fillColor), r.fillOpacity && (y = r.fillOpacity), r.strokeDashstyle && (s = r.strokeDashstyle)), f = ol.color.asArray(f), f[3] = v, e = ol.color.asArray(e), e[3] = y, h = new ol.style.Style({
			fill: new ol.style.Fill({
				color: e
			}),
			stroke: new ol.style.Stroke({
				color: f,
				width: a
			})
		}), s != "solid" && h.getStroke().setLineDash(s.split(" ")), o.setId(l), o.set("type", "circle"), o.setStyle(h), $.MapVectorLayer.getSource().addFeature(o), u && u.clear && $.MapClearVectorLayer(), l
	},
	MapClearVectorLayer: function(n) {
		var r, t, i;
		if (n) r = $.MapVectorLayer.getSource().getFeatureById(n), r && $.MapVectorLayer.getSource().removeFeature(r);
		else
			for (t = $.MapVectorLayer.getSource().getFeatures().length - 1; t >= 0; t--) i = $.MapVectorLayer.getSource().getFeatures()[t], i && i.get("type") != "marker" && $.MapVectorLayer.getSource().removeFeature(i)
	},
	MapClear: function() {
		$.MapClearMarkers();
		$.MapClearVectorLayer();
		$($.MapContainer + " .olLayerDiv div").popover("hide");
		$($.MapContainer + " div.popover").remove()
	},
	MapZoomIn: function() {
		$.MapSetZoom($.MapGetZoom() + 1)
	},
	MapZoomOut: function() {
		$.MapSetZoom($.MapGetZoom() - 1)
	},
	MapSetZoom: function(n) {
		$.MapClass.getView().setZoom(n)
	},
	MapGetZoom: function() {
		return $.MapClass.getView().getZoom()
	},
	MapGetCenter: function() {
		var n = $.MapClass.getView().getCenter();
		return ol.proj.transform(n, "EPSG:3857", "EPSG:4326")
	},
	MapMoveWithPixel: function(n) {
		var f = $.MapClass.getView().getCenter(),
			u = $.MapClass.getPixelFromCoordinate(f),
			i = u[0],
			r = u[1],
			t;
		n.x && (i = i + n.x);
		n.y && (r = r + n.y);
		t = $.MapClass.getCoordinateFromPixel([i, r]);
		t = ol.proj.transform(t, "EPSG:3857", "EPSG:4326");
		$.MapGoto(t[0], t[1])
	},
	MapAddLayer: function(n, t) {
		var h = "png",
			l = [256, 256],
			e = 500,
			a = "L_" + $.MapGUIDGenerator(),
			u = !0,
			f = 1,
			o = "0",
			v = !0,
			y = !1,
			c = {
				tr: undefined,
				en: undefined,
				url: undefined
			},
			i, r, p, s;
		t && (t.type && (h = t.type), t.tileSize && (l = t.tileSize), t.zIndex && (e = t.zIndex), t.name && (a = t.name), t.visible === !1 && (u = t.visible), t.opacity && (f = t.opacity), t.layerSwitcher === !1 && (v = t.layerSwitcher), t.isBaseLayer && (y = t.isBaseLayer), t.legend && (c = {
			tr: XSSDefender(t.legend.tr),
			en: XSSDefender(t.legend.en),
			url: t.legend.url
		}), t.layers && (o = t.layers));
		i = [];
		i = Array.isArray(n) ? n[0] : n;
		switch (h) {
			case "REST":
				i = [i];
				r = new ol.layer.Tile({
					source: new ol.source.TileArcGISRest({
						urls: i,
						tileLoadFunction: function(n, t) {
							n.getImage().src = t + "&rnd=" + Math.random()
						},
						params: {
							LAYERS: o
						}
					}),
					opacity: f,
					visible: u,
					zIndex: e
				});
				break;
			case "FEATURE REST":
				p = new ol.format.EsriJSON;
				r = new ol.layer.Vector({
					source: new ol.source.Vector({
						loader: function(n, t, r) {
							var u = i + o + "/query/?f=json&returnGeometry=true&spatialRel=esriSpatialRelIntersects&geometry=" + encodeURIComponent('{"xmin":' + n[0] + ',"ymin":' + n[1] + ',"xmax":' + n[2] + ',"ymax":' + n[3] + ',"spatialReference":{"wkid":102100}}') + "&geometryType=esriGeometryEnvelope&inSR=102100&outFields=*&outSR=102100";
							$.ajax({
								url: u,
								dataType: "jsonp",
								success: function(n) {
									var i, t;
									if (n.error) alert(n.error.message + "\n" + n.error.details.join("\n"));
									else if (i = p.readFeatures(n, {
											featureProjection: r
										}), i.length > 0)
										for (t = 0; t < $.MapClass.getLayers().getLength(); t++)
											if ($.MapClass.getLayers().item(t).get("name") == "Feature Vector Layer") {
												$.MapClass.getLayers().item(t).addFeatures(i);
												break
											}
								}
							})
						},
						strategy: ol.loadingstrategy.tile(ol.tilegrid.createXYZ({
							tileSize: 512
						}))
					}),
					opacity: f,
					visible: u,
					name: "Feature Vector Layer",
					zIndex: 99999
				});
				break;
			case "IMAGE WMS":
				i = [i];
				r = new ol.layer.Image({
					source: new ol.source.ImageWMS({
						urls: i,
						params: {
							LAYERS: o
						}
					}),
					opacity: f,
					visible: u,
					zIndex: e
				});
				break;
			case "TILE WMS":
				i = [i];
				r = new ol.layer.Tile({
					source: new ol.source.TileWMS({
						urls: i,
						params: {
							LAYERS: o
						}
					}),
					opacity: f,
					visible: u,
					zIndex: e
				});
				break;
			case "OSM":
				r = new ol.layer.Tile({
					source: new ol.source.OSM,
					opacity: f,
					visible: u,
					zIndex: e
				});
				break;
			default:
				i.indexOf("{z}") == -1 && (i = i.indexOf("Layers/_alllayers") > -1 ? i.replace("Layers/_alllayers", "Layers/_alllayers/L{z}/R{y}/C{x}." + h) : i.replace("Layers", "Layers/_alllayers/L{z}/R{y}/C{x}." + h));
				i = [i];
				r = new ol.layer.Tile({
					source: new ol.source.XYZ({
						tileSize: l,
						urls: i,
						tileLoadFunction: function(n, t) {
							n.getImage().src = $.MapOL3_TileLoadFunction(t)
						}
					}),
					opacity: f,
					visible: u,
					zIndex: e
				})
		}
		for (r.set("name", a), r.set("layerSwitcher", v), r.set("isBaseLayer", y), r.set("legend-tr", c.tr), r.set("legend-en", c.en), r.set("legend-url", c.url), $.MapClass.addLayer(r), s = 0; s < $.MapClass.getLayers().getLength(); s++)
			if ($.MapClass.getLayers().item(s) == r) return s
	},
	MapRemoveLayer: function(n) {
		var t = $.MapClass.getLayers().item(n);
		$.MapClass.removeLayer(t)
	},
	MapGetLayerName: function(n) {
		return $.MapClass.getLayers().item(n).get("name")
	},
	MapGetLayerIndex: function(n) {
		for (var t = 0; t < $.MapClass.getLayers().getLength(); t++)
			if ($.MapClass.getLayers().item(t).get("name") == n) return t;
		return -1
	},
	MapAllLayerHidden: function() {
		for (var t, n = 0; n < $.MapClass.getLayers().getLength(); n++) t = $.MapClass.getLayers().item(n).get("name"), t != "Vector" && t != "Measure" && $.MapClass.getLayers().item(n).setVisible(!1);
		$.MapLegendRemove()
	},
	MapAllLayerHiddenIsBaseLayer: function() {
		for (var t, i, n = 0; n < $.MapClass.getLayers().getLength(); n++) t = $.MapClass.getLayers().item(n).get("name"), i = $.MapClass.getLayers().item(n).get("isBaseLayer"), t != "Vector" && t != "Measure" && i && ($.MapClass.getLayers().item(n).setVisible(!1), $.MapLegendRemove($.MapGetLayerIndex(t)))
	},
	MapLayerVisible: function(n) {
		var r = $.MapGetLayerIndex(n),
			u, e, t, i, f;
		r > -1 && ($.MapClass.getLayers().item(r).setVisible(!0), u = $.MapGetVisibleLayers().split(","), e = $.MapGetLayerIndex("Hybrid"), n == "2014" || n == "2013" || n == "2011" || n == "2006" ? $.MapClass.getLayers().item(e).setVisible(!0) : u.indexOf("2014") == -1 && u.indexOf("2013") == -1 && u.indexOf("2011") == -1 && u.indexOf("2006") == -1 && $.MapClass.getLayers().item(e).setVisible(!1), (u.indexOf("TRAFIK_YOGUNLUK") > -1 || n == "TRAFIK_YOGUNLUK") && $.MapClass.getLayers().item(e).setVisible(!1), t = $.MapGetLayerAttributes(n), t.isBaseLayer && ($.MapLayerState = n, n != "Harita" && n != "2014" ? $.MapControls.switch.status("Harita") : $.MapControls.switch.status(n)), t.legend.tr && (i = "", f = t.legend.tr, $.LanguageGet() == "en-US" && (f = t.legend.en), f.toLowerCase().indexOf(".png") || f.toLowerCase().indexOf(".jpg") ? (i = "<img id='" + r + "' src='images/" + f + "' alt='' />", t.legend.url && (i += "<br/><a data-legend-index='" + r + "' href='" + t.legend.url + "' target='_blank'>Detaylý bilgi için týklayýnýz<\/a>")) : i = "<iframe id='" + r + "' src='" + f + "' alt='' width='300px' height='300px'><\/iframe>", i = "<div style='float:left;'>" + i + "<\/div>", $.MapLegendAdd(r, i)))
	},
	MapGetVisibleLayers: function() {
		for (var t, i = "", n = 0; n < $.MapClass.getLayers().getLength(); n++) t = $.MapClass.getLayers().item(n).get("name"), t != "Vector" && t != "Measure" && $.MapClass.getLayers().item(n).getVisible() && (i += "," + t);
		return i.substr(1)
	},
	MapLayerHidden: function(n) {
		var r = $.MapGetLayerIndex(n),
			t, i;
		r > -1 && ($.MapClass.getLayers().item(r).setVisible(!1), t = $.MapGetVisibleLayers().split(","), i = $.MapGetLayerIndex("Hybrid"), n == "2014" || n == "2013" || n == "2011" || n == "2006" ? $.MapClass.getLayers().item(i).setVisible(!1) : (t.indexOf("2014") > -1 || t.indexOf("2013") > -1 || t.indexOf("2011") > -1 || t.indexOf("2006") > -1) && $.MapClass.getLayers().item(i).setVisible(!0), t.indexOf("TRAFIK_YOGUNLUK") > -1 && $.MapClass.getLayers().item(i).setVisible(!1), $.MapLegendRemove(r))
	},
	MapGetLayerAttributes: function(n) {
		var r = {},
			i = $.MapGetLayerIndex(n),
			t;
		return i > -1 && (t = $.MapClass.getLayers().item(i), r = {
			index: i,
			name: t.get("name"),
			isBaseLayer: t.get("isBaseLayer"),
			layerSwitcher: t.get("layerSwitcher"),
			legend: {
				tr: t.get("legend-tr"),
				en: t.get("legend-en"),
				url: t.get("legend-url")
			},
			zIndex: t.getZIndex(),
			visible: t.getVisible(),
			opacity: t.getOpacity()
		}), r
	},
	MapLayerSetOpacity: function(n, t) {
		var i = $.MapGetLayerIndex(n);
		i > -1 && $.MapClass.getLayers().item(i).setOpacity(t)
	},
	MapLayerGetOpacity: function(n) {
		var t = $.MapGetLayerAttributes(n);
		return t.opacity
	},
	MapOL3_TileLoadFunction: function(n) {
		var t = n.split("/"),
			e = t[t.length - 3].substr(1),
			u = t[t.length - 2].substr(1),
			i = t[t.length - 1].substr(1),
			o = i.substr(i.indexOf(".")),
			f, r;
		for (i = i.substr(0, i.indexOf(".")), u = (parseInt(u) + 0).toString(16).toLowerCase().Padding("0", 8), i = (parseInt(i) + 0).toString(16).toLowerCase().Padding("0", 8), f = "", r = 0; r < t.length - 3; r++) f += "/" + t[r];
		return f.substr(1) + "/L" + e + "/R" + u + "/C" + i + o
	},
	MapGUIDGenerator: function() {
		for (var n = "", t = "ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789", i = 0; i < 10; i++) n += t.charAt(Math.floor(Math.random() * t.length));
		return n
	},
	MapToWGS84: function(n) {
		return ol.proj.transform([n[0], n[1]], "EPSG:3857", "EPSG:4326")
	},
	MapFromWGS84: function(n) {
		return ol.proj.transform([n[0], n[1]], "EPSG:4326", "EPSG:3857")
	},
	MapLayerManager: function() {
		var n = new ol.control.LayerSwitcher({
			tipLabel: "Katman Yöneticisi"
		});
		$.MapClass.addControl(n)
	},
	MapLegendAdd: function(n, t) {
		$($.MapLegend).removeClass("hidden");
		$("#" + n, $.MapLegend + " div div").length === 0 && $($.MapLegend + " > div").append(t)
	},
	MapLegendRemove: function(n) {
		n ? ($("#" + n, $.MapLegend + " div div").remove(), $("a[data-legend-index=" + n + "]", $.MapLegend + " div div").remove(), $($.MapLegend + " div div").children().length === 0 && $($.MapLegend).addClass("hidden")) : ($($.MapLegend + " > div").html(""), $($.MapLegend).addClass("hidden"))
	},
	MapDrawActive: function(n, t, r, u, f, e) {
		var a, k, f;
		if (n = n.turkishToUpper(), $.MapDrawPassive(), n == "NOKTA" || n == "POINT" || n == "POÝNT") n = "Point";
		else if (n == "ÇÝZGÝ" || n == "CIZGI" || n == "LINESTRING" || n == "LÝNESTRÝNG") n = "LineString";
		else if (n == "POLÝGON" || n == "POLIGON" || n == "POLYGON") n = "Polygon";
		else if (n == "DAÝRE" || n == "CIRCLE" || n == "CÝRCLE") n = "Circle";
		else if (n == "NONE" || n == "YOK") $.MapClass.removeInteraction($.MapDraw);
		else {
			alert("Lütfen geçerli bir tür belirtiniz");
			return
		}
		n === "Square" ? (n = "Circle", a = ol.interaction.Draw.createRegularPolygon(4)) : n === "Box" && (value = "LineString", k = 2, a = function(n, t) {
			t || (t = new ol.geom.Polygon(null));
			var i = n[0],
				r = n[1];
			return t.setCoordinates([
				[i, [i[0], r[1]], r, [r[0], i[1]], i]
			]), t
		});
		var s = "#FFF",
			v = .2,
			o = "#000",
			y = .5,
			d = 3,
			p = "solid";
		r && (r.fillColor && (s = r.fillColor), r.fillOpacity && (v = r.fillOpacity), r.strokeColor && (o = r.strokeColor), r.strokeOpacity && (y = r.strokeOpacity), r.strokeWidth && (d = r.strokeWidth), r.strokeDashStyle && (p = r.strokeDashStyle));
		s = ol.color.asArray(s);
		s[3] = v;
		o = ol.color.asArray(o);
		o[3] = y;
		var h = "#FFF",
			ft = .2,
			g = "#000",
			et = .7,
			nt = 2,
			w = "solid",
			b = 5;
		u && (u.fillColor && (h = u.fillColor), u.fillOpacity && (ft = u.fillOpacity), u.strokeColor && (g = u.strokeColor), u.strokeOpacity && (et = u.strokeOpacity), u.strokeWidth && (nt = u.strokeWidth), u.strokeDashStyle && (w = u.strokeDashStyle), u.radius && (b = u.radius));
		h = ol.color.asArray(h);
		h[3] = v;
		o = ol.color.asArray(o);
		o[3] = y;
		var c = "#2AABE3",
			tt = .2,
			l = "#2AABE3",
			it = .8,
			rt = 3,
			ut = "solid";
		f && (f.fillColor && (c = f.fillColor), f.fillOpacity && (tt = f.fillOpacity), f.strokeColor && (l = f.strokeColor), f.strokeOpacity && (it = f.strokeOpacity), f.strokeWidth && (rt = f.strokeWidth), f.strokeDashStyle && (ut = f.strokeDashStyle));
		c = ol.color.asArray(c);
		c[3] = tt;
		l = ol.color.asArray(l);
		l[3] = it;
		f = new ol.style.Style({
			fill: new ol.style.Fill({
				color: s
			}),
			stroke: new ol.style.Stroke({
				color: o,
				width: d
			}),
			image: new ol.style.Circle({
				radius: b,
				stroke: new ol.style.Stroke({
					color: g,
					width: nt
				}),
				fill: new ol.style.Fill({
					color: h
				})
			})
		});
		$.MapDrawStyle = {
			colorF: c,
			colorS: l,
			widthS: rt,
			dashS: ut,
			radiusCI: b
		};
		p != "solid" && f.getStroke().setLineDash(p.split(" "));
		w != "solid" && f.getImage().getStroke().setLineDash(w.split(" "));
		$.MapDraw = new ol.interaction.Draw({
			source: $.MapDrawSource,
			geometryFunction: a,
			maxPoints: k,
			type: n,
			style: f
		});
		$.MapClass.addInteraction($.MapDraw);
		$.MapDraw.on("drawstart", this);
		$.MapDraw.on("drawend", function(n) {
			var r, s, h;
			$.MapDrawFeatureID = "D_" + $.MapGUIDGenerator();
			n.feature.setId($.MapDrawFeatureID);
			r = n.feature.getGeometry().getType();
			t && n.feature.setProperties({
				draggable: function(n, t, i) {
					APIGeometryDraggable(n, t, i)
				},
				clickable: !0,
				click: function(n) {
					APIGeometryClick(n)
				}
			});
			s = r.toLowerCase().indexOf("point") > -1 || r.toLowerCase().indexOf("poýnt") > -1 ? new ol.style.Style({
				fill: new ol.style.Fill({
					color: $.MapDrawStyle.colorF
				}),
				stroke: new ol.style.Stroke({
					color: $.MapDrawStyle.colorS,
					width: $.MapDrawStyle.widthS
				}),
				image: new ol.style.Circle({
					radius: $.MapDrawStyle.radiusCI,
					stroke: new ol.style.Stroke({
						color: $.MapDrawStyle.colorS,
						width: $.MapDrawStyle.widthS
					}),
					fill: new ol.style.Fill({
						color: $.MapDrawStyle.colorF
					})
				})
			}) : new ol.style.Style({
				fill: new ol.style.Fill({
					color: $.MapDrawStyle.colorF
				}),
				stroke: new ol.style.Stroke({
					color: $.MapDrawStyle.colorS,
					width: $.MapDrawStyle.widthS
				})
			});
			$.MapDrawStyle.dashS != "solid" && s.getStroke().setLineDash($.MapDrawStyle.dashS.split(" "));
			n.feature.setStyle(s);
			var f = "",
				o = [],
				u = "";
			if (r.toLowerCase() == "circle") {
				var c = new ol.Sphere(6378137),
					l = n.feature.getGeometry().getFirstCoordinate(),
					a = n.feature.getGeometry().getRadius() / 1.33,
					v = ol.geom.Polygon.circular(c, ol.proj.transform(l, "EPSG:3857", "EPSG:4326"), a, 100);
				r = "Polygon";
				o = v.clone().transform("EPSG:4326", "EPSG:3857").getCoordinates()
			} else o = n.feature.getGeometry().getCoordinates();
			if (r.toLowerCase() == "point" && (u = ol.proj.transform(o, "EPSG:3857", "EPSG:4326"), f += u[0] + " " + u[1] + ", "), r.toLowerCase() == "linestring")
				for (i = 0; i < o.length; i++) u = ol.proj.transform(o[i], "EPSG:3857", "EPSG:4326"), f += u[0] + " " + u[1] + ", ";
			if (r.toLowerCase() == "polygon") {
				for (h = o[0], i = 0; i < h.length; i++) u = ol.proj.transform(h[i], "EPSG:3857", "EPSG:4326"), f += u[0] + " " + u[1] + ", ";
				f = "(" + f.substring(0, f.length - 2) + ")  "
			}
			$.MapDrawCoordinate = r + "(" + f.substring(0, f.length - 2) + ")";
			e && e($.MapDrawCoordinate, $.MapDrawFeatureID)
		}, this)
	},
	MapDrawPassive: function() {
		$.MapClass.removeInteraction($.MapDraw);
		$.MapClass.removeInteraction($.MapDrawSelected);
		$.MapClass.removeInteraction($.MapDrawModified);
		$.MapDrawSelected = null
	},
	MapDrawSetStyle: function(n, t, i) {
		var f = $.MapDrawLayer.getSource().getFeatureById(n),
			t;
		if (f || (f = $.MapVectorLayer.getSource().getFeatureById(n)), f) {
			var r = "#2AABE3",
				o = .2,
				u = "#2AABE3",
				s = .8,
				h = 3,
				e = "solid";
			t && (t.fillColor && (r = t.fillColor), t.fillOpacity && (o = t.fillOpacity), t.strokeColor && (u = t.strokeColor), t.strokeOpacity && (s = t.strokeOpacity), t.strokeWidth && (h = t.strokeWidth), t.strokeDashStyle && (e = t.strokeDashStyle));
			r = ol.color.asArray(r);
			r[3] = o;
			u = ol.color.asArray(u);
			u[3] = s;
			t = new ol.style.Style({
				fill: new ol.style.Fill({
					color: r
				}),
				stroke: new ol.style.Stroke({
					color: u,
					width: h
				})
			});
			e != "solid" && t.getStroke().setLineDash(e.split(" "));
			f.setStyle(t);
			i && i()
		}
	},
	MapDrawClear: function(n) {
		var i, t, r;
		if (n) i = $.MapDrawLayer.getSource().getFeatureById(n), i && $.MapDrawLayer.getSource().removeFeature(i);
		else
			for (t = $.MapDrawLayer.getSource().getFeatures().length - 1; t >= 0; t--) r = $.MapDrawLayer.getSource().getFeatures()[t], r && $.MapDrawLayer.getSource().removeFeature(r);
		$.MapClearVectorLayer(n)
	},
	MapDrawSelect: function(n) {
		var i = [],
			r, t, u;
		$.MapDrawSelected = null;
		$.MapClass.removeInteraction($.MapDraw);
		$.MapDrawSelected = new ol.interaction.Select;
		$.MapClass.addInteraction($.MapDrawSelected);
		r = $.MapDrawSelected.getFeatures();
		$.MapDrawSelected.getFeatures().on("add", function(t) {
			var o = t.element.getProperties();
			$.MapDrawSelectedFeatureID = o.id;
			var f = t.element,
				e = f.getGeometry().getType(),
				r = f.getGeometry().getCoordinates();
			e.toLowerCase() == "polygon" && (r = r[0]);
			i.push({
				type: e,
				coordinates: r
			});
			u = setTimeout(function() {
				i.length > 0 && n && (n(i), i = [])
			}, 100)
		});
		t = new ol.interaction.DragBox({
			condition: ol.events.condition.shiftKeyOnly,
			style: new ol.style.Style({
				stroke: new ol.style.Stroke({
					color: [58, 149, 202, 1]
				})
			})
		});
		$.MapClass.addInteraction(t);
		t.on("boxend", function() {
			var n = t.getGeometry().getExtent();
			$.MapDrawSource.forEachFeatureIntersectingExtent(n, function(n) {
				clearTimeout(u);
				r.push(n)
			})
		});
		t.on("boxstart", function() {
			r.clear()
		});
		$.MapClass.on("click", function() {
			r.clear()
		})
	},
	MapDrawModify: function(n) {
		if ($.MapDrawSelected) {
			var t = $.MapDrawSelected.getFeatures();
			$.MapDrawModified = new ol.interaction.Modify({
				features: t,
				deleteCondition: function(n) {
					return ol.events.condition.shiftKeyOnly(n) && ol.events.condition.singleClick(n)
				}
			});
			$.MapDrawModified.on("modifyend", function(t) {
				var r = [],
					u, i, f, e;
				for (u in t.features)
					if (i = t.features[u], i && typeof i != "function" && i.length > 0) {
						i[0] && (i = i[0], f = i.getGeometry().getType(), e = i.getGeometry().getCoordinates(), r.push({
							type: f,
							coordinates: e
						}), n && n(r));
						continue
					}
			});
			$.MapClass.addInteraction($.MapDrawModified);
			$.MapDrawSelected = null
		} else alert("Lütfen öncelikle seçim yapýnýz...")
	},
	MapDrawRemove: function() {
		var n, t, i, r;
		if ($.MapDrawSelected) {
			if (n = $.MapDrawSource.getFeatures(), n !== null && n.length > 0)
				for (t in n)
					if (i = n[t].getProperties(), r = i.id, r == $.MapDrawSelectedFeatureID) {
						$.MapDrawSource.removeFeature(n[t]);
						break
					}
		} else alert("Lütfen öncelikle seçim yapýnýz...")
	}
});
$.extend({
	NetworkContainer: "",
	NetworkStart: "",
	NetworkStartLonLat: "",
	NetworkFinish: "",
	NetworkFinishLonLat: "",
	NetworkWayPointLonLat: "",
	NetworkResult: "",
	NetworkReady: !0,
	NetworkState: "normal",
	NetworkMarkers: [],
	NetworkFeature: [],
	NetworkTUBSData: [],
	NetworkTUBSSelectedData: [],
	NetworkLanguageList: {},
	NetworkStateStuation: "",
	NetworkStateStuation: "",
	NetworkTubsLastIndex: "",
	NetworkTubsTur: "",
	NetworkTubsDate: "",
	NetworkInfoSource: "",
	NetworkRoadName: "",
	NetworkTubsTime: "",
	NetworkAgencyName: "",
	NetworkAgencyUrl: "",
	NetworkOwnerList: [],
	NetworkInit: function(n, t, i, r, u, f, e, o, s) {
		$.NetworkContainer = n;
		$.NetworkStart = t;
		$.NetworkFinish = u;
		$.NetworkResult = s;
		$.NetworkLanguageList = {
			tr: {
				networkstrt: "Baþlangýç",
				networkfnsh: "Bitiþ",
				networkstart: "Baþlangýç Noktasý",
				networkwaypoint: "Ara Nokta",
				networkfinish: "Bitiþ Noktasý",
				networkstarttime: "Kalkýþ Zamaný",
				networkfinishtime: "Varýþ Zamaný",
				datetime: "Saat / Tarih",
				traveltype: "Gidiþ Þekli",
				networkwalk: "Yürüme Mesafesi",
				networkWheelchair: "Tekerlekli Sandalye",
				networkanalysis: "Analize Baþla",
				networkchange: "Yer Deðiþtir",
				networkresulterror: "Sonuç bulunamadý",
				networkmodalefaultytitle: "HATA",
				networkmodalefaultysubject: "Adres alýnamýyor !",
				networkmodalerrortitle: "ÜZGÜNÜZ",
				networkmodalerrorsubject: "Þuan iþleminizi gerçekleþtiremiyoruz ! Seçenekleri deðiþtirerek tekrar deneyiniz",
				networkselectstart: "Bir baþlangýç noktasý seçiniz",
				networkselectfinish: "Bir bitiþ noktasý seçiniz",
				guzergah: "GÜZERGAH",
				networktimemin: " dk",
				networkvehicle: "araç",
				networkresult: "sonuç",
				networkprocessmodal: "Ýþleminiz Yapýlýyor",
				networkprocesswait: "Lütfen Bekleyiniz",
				networkall: "Tümü",
				networkwalking: "Yürüyüþ",
				networkbus: "Otobüs",
				networksubway: "Metro",
				networkmetrobus: "Metrobüs",
				networktram: "Tramway",
				networkrail: "Marmaray",
				networkferry: "Vapur",
				networkminibus: "Minibüs",
				networkfunicular: "Füniküler",
				networksharetaxi: "Dolmuþ",
				networkcablecar: "Teleferik",
				networkback: "Arama Seçeneklerine Dön",
				networkmobileanalysis: "Güzergah Analizi",
				networksatellite: "Uydu Görüntüleri",
				networkmap: "Harita",
				networktransfer: "Aktarma",
				networktubsworning: "Veriler ÝETT ve diðer kurumlarýn sorumluluðundadýr",
				networkStartPointSelect: "Baþlangýç noktasý seçiniz veya haritaya týklayýnýz",
				networkFinishPointSelect: "Variþ noktasý seçiniz veya haritaya týklayýnýz",
				networkwalk: "Yürüyün",
				networkapproximately: "Yaklaþýk ",
				networkaktarma: "Aktarma",
				networkdirections: " yönünde",
				networkastation: " durak",
				networksupply: " tarafýndan saðlanmýþtýr",
				networkinformation: "Bilgiler ",
				networktime: "Varýþ Süresi ",
				networkdistince: "Mesafe",
				networkclear: "Temizle",
				networklocation: "Lokasyon"
			},
			en: {
				networkstrt: "Start",
				networkfnsh: "Finish",
				networkstart: "Start Point",
				networkwaypoint: "Way Point",
				networkfinish: "Finish Point",
				networkstarttime: "Departure Time",
				networkfinishtime: "Time of Arrival",
				datetime: "Time / Date",
				traveltype: "Type of Travel",
				networkwalk: "Walking Distance",
				networkWheelchair: "Wheelchair",
				networkanalysis: "Start Analysis",
				networkchange: "Change",
				networkmodalefaultytitle: "ERROR",
				networkmodalefaultysubject: "Address Can Not Get !",
				networkmodalerrortitle: "SORRY",
				networkmodalerrorsubject: "Now unable to service ! Please change your selections and try again",
				networkselectstart: "Select a Start Point",
				networkselectfinish: "Select a Finish Point",
				guzergah: "ROUTE",
				networktimemin: " min",
				networkvehicle: "vehicle",
				networkresult: "result",
				networkprocessmodal: "Processing",
				networkprocesswait: "Please Wait",
				networkall: "All",
				networkbus: "Bus",
				networkwalking: "Walking",
				networksubway: "Metro",
				networkmetrobus: "Metrobus",
				networktram: "Tramway",
				networkrail: "Marmaray",
				networkferry: "Ferry",
				networkminibus: "Minibus",
				networkfunicular: "Funicular",
				networksharetaxi: "Share Taxi",
				networkcablecar: "Cable Car",
				networkback: "Back to Search Options",
				networkmobileanalysis: "Network Analysis",
				networksatellite: "Satellite Images",
				networkmap: "Map",
				networktransfer: "Transfer",
				networktubsworning: "Data belongs the IETT and other institutions",
				networkStartPointSelect: "Select start point or click to map",
				networkFinishPointSelect: "Select finish point or click to map",
				networkwalk: "Walk",
				networkapproximately: "Approximately ",
				networkaktarma: "Transfer",
				networkdirections: " towards",
				networkastation: " station",
				networksupply: " provided by",
				networkinformation: "Ýnformations ",
				networkdistince: "Distance",
				networktime: "Time of Arrival ",
				networkclear: "Clear",
				networklocation: "Location"
			},
			current: {},
			change: function() {
				this.current = $.LanguageGet() == "tr" ? this.tr : this.en
			}
		};
		$.NetworkLanguage();
		$($.NetworkContainer + " .footer #networkGeri").click(function() {
			$($.NetworkResult + " .footer").addClass("hidden");
			$.MapClearVectorLayer();
			$($.NetworkContainer + " .header").animate({
				height: "296px"
			});
			$($.NetworkContainer + " #tubsResult").addClass("hidden");
			$($.NetworkContainer + " #networkGeri").addClass("hidden");
			$($.NetworkContainer + " #tubsContainer").removeClass("hidden")
		});
		$($.NetworkContainer + " #networkTab div").click(function() {
			var n = $(this).attr("class").replace("active", "").trim();
			switch (n) {
				case "icon-otomobil":
					$.NetworkChangeState("normal");
					$($.NetworkContainer + " #tubsResult").addClass("hidden");
					break;
				case "icon-otobus":
					$.NetworkChangeState("tubs")
			}
		});
		$($.NetworkContainer + " #tubsContainer .btn").click(function() {
			$.NetworkProcess()
		});
		$($.NetworkContainer + " #tubsContainer input[type=range]").on("change", function() {
			var n = $(this).val();
			$($(this).next()).html(n + " m")
		});
		$($.NetworkStart).keyup(function(n) {
			n.which == 13 && (n.preventDefault(), $.NetworkStartLonLat != "" && $.NetworkFinishLonLat != "" && $.NetworkProcess())
		});
		$($.NetworkFinish).keyup(function(n) {
			n.which == 13 && (n.preventDefault(), $.NetworkStartLonLat != "" && $.NetworkFinishLonLat != "" && $.NetworkProcess())
		});
		$(i).click(function() {
			$.GeoGetLocation(function(n) {
				var t = parseFloat(n.coords.longitude),
					i = parseFloat(n.coords.latitude);
				$.NetworkSetLocation("baslangic", t, i)
			}, function() {
				isIE() ? $.get("http://ipinfo.io", function(n) {
					var t = n.loc.split(","),
						i = parseFloat(t[1]),
						r = parseFloat(t[0]);
					$.NetworkSetLocation("baslangic", i, r)
				}, "jsonp") : $.ModalError($.LanguageTextlist.warningtitle, $.LanguageTextlist.browserfaulty)
			})
		});
		$(r).click(function(n) {
			n.stopPropagation();
			$($.NetworkContainer + " .footer #networkGeri").hasClass("hidden") || $($.NetworkContainer + " .footer #networkGeri").click();
			$($.NetworkResult + " .footer").removeClass("hidden");
			$($.NetworkResult + " .footer > span").removeClass("hidden");
			$.NetworkReady = !0;
			$.NetworkClearMap("baslangic");
			$.PopupMenuChanger("finish");
			$.MapClearVectorLayer()
		});
		$(f).click(function() {
			$.GeoGetLocation(function(n) {
				var t = n.coords.longitude,
					i = n.coords.latitude;
				$.NetworkSetLocation("bitis", t, i)
			}, function() {
				isIE() ? $.get("http://ipinfo.io", function(n) {
					var t = n.loc.split(","),
						i = parseFloat(t[1]),
						r = parseFloat(t[0]);
					$.NetworkSetLocation("bitis", i, r)
				}, "jsonp") : $.ModalError($.LanguageTextlist.warningtitle, $.LanguageTextlist.browserfaulty)
			})
		});
		$(e).click(function(n) {
			n.stopPropagation();
			$($.NetworkContainer + " .footer #networkGeri").hasClass("hidden") || $($.NetworkContainer + " .footer #networkGeri").click();
			$($.NetworkResult + " .footer").removeClass("hidden");
			$($.NetworkResult + " .footer > span").removeClass("hidden");
			$.NetworkReady = !0;
			$.NetworkClearMap("bitis");
			$.PopupMenuChanger("finish");
			$.PopupMenuChanger("start");
			$.MapClearVectorLayer()
		});
		$(o).click(function() {
			if ($.NetworkStartLonLat != "" && $.NetworkFinishLonLat != "") {
				var r = $.NetworkStartLonLat,
					u = $($.NetworkStart).val(),
					f = $.NetworkFinishLonLat,
					e = $($.NetworkFinish).val();
				$.NetworkClearMap("baslangic");
				$.NetworkClearMap("bitis");
				$.NetworkStartLonLat = f;
				$.NetworkFinishLonLat = r;
				$($.NetworkStart).val(e);
				$($.NetworkFinish).val(u);
				var n = parseFloat($.NetworkStartLonLat.split("|")[0]),
					t = parseFloat($.NetworkStartLonLat.split("|")[1]),
					i = $.MapAddMarker(n, t, "", "", {
						anchor: {
							x: "c",
							y: "b"
						},
						image: "images/markers/baslangic.png",
						size: {
							w: 20,
							h: 27
						},
						draggable: function(n, t, i) {
							var r = Math.round(Math.abs($.MapLastClickedLocation[0] - t) * 1e5),
								u = Math.round(Math.abs($.MapLastClickedLocation[1] - i) * 1e5);
							r + u > 5 && ($.MapLastClickedLocation[0] = t, $.MapLastClickedLocation[1] = i, $.NetworkSetLocation("baslangic", t, i))
						}
					});
				$.NetworkMarkers.push({
					type: "baslangic",
					markerID: i
				});
				n = parseFloat($.NetworkFinishLonLat.split("|")[0]);
				t = parseFloat($.NetworkFinishLonLat.split("|")[1]);
				i = $.MapAddMarker(n, t, "", "", {
					anchor: {
						x: "c",
						y: "b"
					},
					image: "images/markers/bitis.png",
					size: {
						w: 27,
						h: 35
					},
					draggable: function(n, t, i) {
						var r = Math.round(Math.abs($.MapLastClickedLocation[0] - t) * 1e5),
							u = Math.round(Math.abs($.MapLastClickedLocation[1] - i) * 1e5);
						r + u > 5 && ($.MapLastClickedLocation[0] = t, $.MapLastClickedLocation[1] = i, $.NetworkSetLocation("bitis", t, i))
					}
				});
				$.NetworkMarkers.push({
					type: "bitis",
					markerID: i
				});
				$.NetworkProcess()
			}
		});
		$($.NetworkContainer + " #tubsContainer #mode input[name=transit]").click(function() {
			var n = $(this).is(":checked");
			$($.NetworkContainer + " #tubsContainer #mode input[name]").prop("checked", n)
		});
		$($.NetworkContainer + " #tubsContainer #mode input[name]").click(function() {
			var t = $(this).attr("name"),
				n;
			t != "transit" && (n = !0, $($.NetworkContainer + " #tubsContainer #mode input[name]").each(function() {
				var i = $(this).attr("name"),
					t;
				i != "transit" && (t = $(this).is(":checked"), n = n && t)
			}), $($.NetworkContainer + " #tubsContainer #mode input[name=transit]").prop("checked", n))
		});
		$($.NetworkStart).autocomplete({
			minLength: 3,
			source: function(n, t) {
				$.NetworkAutoComplete(n.term, t)
			},
			focus: function(n, t) {
				return $($.NetworkStart).val(t.item.ADI), !1
			},
			select: function(n, t) {
				if (t.item.ADI.length > 2) {
					lon = parseFloat(t.item.LON);
					lat = parseFloat(t.item.LAT);
					var i = $.MapAddMarker(lon, lat, $.NetworkLanguageList.current.networkstart, t.item.ADI, {
						click: function() {},
						image: "images/markers/baslangic.png",
						size: {
							w: 20,
							h: 27
						},
						draggable: function(n, t, i) {
							var r = Math.round(Math.abs($.MapLastClickedLocation[0] - t) * 1e5),
								u = Math.round(Math.abs($.MapLastClickedLocation[1] - i) * 1e5);
							r + u > 5 && ($.MapLastClickedLocation[0] = t, $.MapLastClickedLocation[1] = i, $.NetworkSetLocation("baslangic", t, i))
						}
					});
					$.NetworkClearMap("baslangic");
					$($.NetworkStart).val(t.item.ADI);
					$.NetworkMarkers.push({
						type: "baslangic",
						markerID: i
					});
					$.NetworkStartLonLat = t.item.LON + "|" + t.item.LAT;
					$.PopupMenuChanger("start");
					$.NetworkFinishLonLat != "" && $.NetworkProcess();
					$.MapGoto(lon, lat, 18)
				}
				return !1
			},
			delay: 250
		}).autocomplete("instance")._renderItem = function(n, t) {
			return t.ADI ? $("<li>").append("<div class='circle'><\/div>" + t.ADI + " " + t.MAHALLE_KOY_ADI + "/" + t.ILCE_ADI).appendTo(n) : $("")
		};
		$($.NetworkFinish).autocomplete({
			minLength: 3,
			source: function(n, t) {
				$.NetworkAutoComplete(n.term, t)
			},
			focus: function(n, t) {
				return $($.NetworkFinish).val(t.item.ADI), !1
			},
			select: function(n, t) {
				if (t.item.ADI.length > 2) {
					lon = parseFloat(t.item.LON);
					lat = parseFloat(t.item.LAT);
					var i = $.MapAddMarker(lon, lat, $.NetworkLanguageList.current.networkfinish, t.item.ADI, {
						click: function() {},
						image: "images/markers/bitis.png",
						size: {
							w: 27,
							h: 35
						},
						draggable: function(n, t, i) {
							var r = Math.round(Math.abs($.MapLastClickedLocation[0] - t) * 1e5),
								u = Math.round(Math.abs($.MapLastClickedLocation[1] - i) * 1e5);
							r + u > 5 && ($.MapLastClickedLocation[0] = t, $.MapLastClickedLocation[1] = i, $.NetworkSetLocation("bitis", t, i))
						}
					});
					$.NetworkClearMap("bitis");
					$($.NetworkFinish).val(t.item.ADI);
					$.NetworkMarkers.push({
						type: "bitis",
						markerID: i
					});
					$.NetworkFinishLonLat = t.item.LON + "|" + t.item.LAT;
					$.PopupMenuChanger("finish");
					$.NetworkStartLonLat != "" && $.NetworkProcess();
					$.MapGoto(lon, lat, 18)
				}
				return !1
			},
			delay: 250
		}).autocomplete("instance")._renderItem = function(n, t) {
			return t.ADI ? $("<li>").append("<div class='circle'><\/div>" + t.ADI + " " + t.MAHALLE_KOY_ADI + "/" + t.ILCE_ADI).appendTo(n) : $("")
		};
		var h = new Date,
			c = h.getHours().toString(),
			l = h.getMinutes().toString(),
			a = c.Padding("0", 2) + ":" + l.Padding("0", 2),
			v = h.getFullYear().toString(),
			y = (h.getMonth() + 1).toString(),
			p = h.getDate().toString(),
			w = v + "-" + y.Padding("0", 2) + "-" + p.Padding("0", 2);
		$($.NetworkContainer + " input[name=time]").val(a);
		$($.NetworkContainer + " input[name=date]").val(w);
		$.MapLoader.push(function() {
			$.MapEventRegister("singleclick", $.NetworkEventMapClick)
		});
		$(window).resize(function() {
			if (!$($.NetworkContainer + " #tubsResult").hasClass("hidden")) {
				var n = innerHeight,
					t = parseInt($("#toolbar").css("height").replace("px", "")),
					r = parseInt($($.NetworkContainer + " ul[role=tablist]").css("height").replace("px", "")),
					i = parseInt($($.NetworkContainer + " #networkIcons").css("height").replace("px", ""));
				n = n - (60 + t + r + i + 60);
				$($.NetworkContainer + " div[role=tab-content]").animate({
					height: n + 10 + "px"
				})
			}
			if (!$($.NetworkResult + " .body").hasClass("hidden")) {
				var n = innerHeight,
					t = parseInt($("#toolbar").css("height").replace("px", "")),
					i = parseInt($($.NetworkContainer + " #networkIcons").css("height").replace("px", ""));
				n = n - (30 + t + i + 60);
				$($.NetworkContainer + " .footer").hasClass("hidden") || (n -= 30);
				$($.NetworkResult + " .body").animate({
					height: n + 10 + "px"
				})
			}
		});
		$.NetworkChangeState("normal")
	},
	NetworkActivated: function() {
		return $($.NetworkResult).is(":visible")
	},
	NetworkLanguage: function() {
		var i, t, n;
		for ($.NetworkLanguageList.change(), $.LanguageGet() == "en-US" ? $("#tubsResult .directions-stop span").text().replace("Approximately", "Yaklaþýk") : $("#tubsResult .directions-stop span").text().replace("Yaklaþýk", "Approximately"), $("#tubsResult .directions-text-box span").text($.NetworkLanguageList.current.networkwalk), $("#networkResult .body tr:first").text($.NetworkLanguageList.current.networkdistince), $(".networkResult .body ").each(function() {
				$(this).find("td b").eq(0).text($.NetworkLanguageList.current.networkdistince);
				$(this).find("td b").eq(1).text($.NetworkLanguageList.current.networktime)
			}), $("#networkIcons #start").attr("title", $.NetworkLanguageList.current.networkstart), $("#networkIcons #finish").attr("title", $.NetworkLanguageList.current.networkfinish), $("#tubsResult div[data-tubsdata] .path:first-child .baslangic").next().html($.NetworkLanguageList.current.networkstart), $("#tubsResult div[data-tubsdata] .path:last-child .bitis").next().html($.NetworkLanguageList.current.networkfinish), $("#tubsContainer #mode input[name=transit]").next().text($.NetworkLanguageList.current.networkall), $("#tubsContainer #mode input[name=bus]").next().text($.NetworkLanguageList.current.networkbus), $("#tubsContainer #mode input[name=subway]").next().text($.NetworkLanguageList.current.networksubway), $("#tubsContainer #mode input[name=metrobus]").next().text($.NetworkLanguageList.current.networkmetrobus), $("#tubsContainer #mode input[name=tram]").next().text($.NetworkLanguageList.current.networktram), $("#tubsContainer #mode input[name=rail]").next().text($.NetworkLanguageList.current.networkrail), $("#tubsContainer #mode input[name=ferry]").next().text($.NetworkLanguageList.current.networkferry), $("#tubsContainer #mode input[name=minibus]").next().text($.NetworkLanguageList.current.networkminibus), $("#tubsContainer #mode input[name=funicular]").next().text($.NetworkLanguageList.current.networkfunicular), $("#tubsContainer #mode input[name=sharetaxi]").next().text($.NetworkLanguageList.current.networksharetaxi), $("#tubsContainer #mode input[name=cablecar]").next().text($.NetworkLanguageList.current.networkcablecar), $("#networkContainer #networkGeri").html($.NetworkLanguageList.current.networkback), $("#networkContainer #replace ").attr("title", $.NetworkLanguageList.current.networkchange), $("#tubsContainer .row #tubsStartRadio span").text($.NetworkLanguageList.current.networkstarttime), $("#tubsContainer .row #tubsFinishRadio span").text($.NetworkLanguageList.current.networkfinishtime), $("#tubsContainer .row >div b").text($.NetworkLanguageList.current.datetime), $("#tubsContainer #mode>div b").text($.NetworkLanguageList.current.traveltype), $("#tubsContainer #tubsWalk b").text($.NetworkLanguageList.current.networkwalk), $("#tubsContainer #tubsWheelchair p").html($.NetworkLanguageList.current.networkWheelchair), $("#tubsContainer #mode>div b").text($.NetworkLanguageList.current.traveltype), $("#islemyapiliyor .modal-body p").text($.NetworkLanguageList.current.networkprocessmodal), $("#islemyapiliyor .modal-title").text($.NetworkLanguageList.current.networkprocesswait), $("#extensionToolbar #networkAnalysis").html($.NetworkLanguageList.current.networkmobileanalysis), $('#extensionToolbar [data-target="#inlineLayersContainer"]').html($.NetworkLanguageList.current.networksatellite), $("#extensionToolbar #inlineLayersContainer li:first-child").text($.NetworkLanguageList.current.networkmap), $("#tubsContainer .tubsUyari").text($.NetworkLanguageList.current.networktubsworning), $("#NetworkStartSelect span:first").attr("title", $.NetworkLanguageList.current.networklocation), $("#NetworkStartSelect span:last").attr("title", $.NetworkLanguageList.current.networkclear), $("#NetworkFinishSelect span:first").attr("title", $.NetworkLanguageList.current.networklocation), $("#NetworkFinishSelect span:last").attr("title", $.NetworkLanguageList.current.networkclear), $("#networkContainer #NetworkStartSelect").attr("data-original-title", $.NetworkLanguageList.current.networkStartPointSelect), $("#networkContainer #NetworkFinishSelect").attr("data-original-title", $.NetworkLanguageList.current.networkFinishPointSelect), $("#tubsContainer .row:last span").html($.NetworkLanguageList.current.networkanalysis), i = $("#tubsResult ul>li span").each(function() {
				var i, n, r, t, u;
				$(this).html($.NetworkLanguageList.current.guzergah);
				i = $(this).next();
				n = $("small:first-child", i).text();
				n = n.split(" ");
				n[1] = $.NetworkLanguageList.current.networktimemin;
				r = n[0] + " " + n[1];
				$("small:first-child", i).text(r);
				t = $("small:last-child", i).text();
				t = t.split(" ");
				t[1] = $.NetworkLanguageList.current.networkvehicle;
				u = t[0] + " " + t[1];
				$("small:last-child", i).text(u)
			}), $.LanguageGet() != "tr" ? $($.NetworkContainer + " .networkResult > div.body tr").addClass("hidden") : $($.NetworkContainer + " .networkResult > div.body tr").removeClass("hidden"), $($.NetworkContainer + " .networkResult > div.body tr:first-child").removeClass("hidden"), t = 0; t < $.NetworkMarkers.length; t++) switch ($.NetworkMarkers[t].type) {
			case "baslangic":
				$("#" + $.NetworkMarkers[t].markerID).attr("data-original-title", $.NetworkLanguageList.current.networkstart);
				n = "#" + $("#" + $.NetworkMarkers[t].markerID).attr("aria-describedby");
				$(n + " h3 span").length != 0 && n != "" && ($(n + " .popover-title").text($.NetworkLanguageList.current.networkstart), $(n + " h3").append('<span onclick="$(this).parent().parent().popover(\'hide\');" class="glyphicon glyphicon-remove pull-right pointer"><\/span>'));
				break;
			case "bitis":
				$("#" + $.NetworkMarkers[t].markerID).attr("data-original-title", $.NetworkLanguageList.current.networkfinish);
				n = "#" + $("#" + $.NetworkMarkers[t].markerID).attr("aria-describedby");
				$(n + " h3 span").length != 0 && n != "" && ($(n + " .popover-title").text($.NetworkLanguageList.current.networkfinish), $(n + " h3").append('<span onclick="$(this).parent().parent().popover(\'hide\');" class="glyphicon glyphicon-remove pull-right pointer"><\/span>'));
				break;
			case "aranokta":
				$("#" + $.NetworkMarkers[t].markerID).attr("data-original-title", $.NetworkLanguageList.current.networkwaypoint);
				n = "#" + $("#" + $.NetworkMarkers[t].markerID).attr("aria-describedby");
				$(n + " h3 span").length != 0 && n != "" && ($(n + " .popover-title").text($.NetworkLanguageList.current.networkfinish), $(n + " h3").append('<span onclick="$(this).parent().parent().popover(\'hide\');" class="glyphicon glyphicon-remove pull-right pointer"><\/span>'));
				break;
			case "info":
				$("#" + $.NetworkMarkers[t].markerID).attr("data-original-title", $.PopupLanguageList.current.PopupInfo);
				n = "#" + $("#" + $.NetworkMarkers[t].markerID).attr("aria-describedby");
				$(n + " h3 span").length != 0 && n != "" && ($(n + " .popover-title").text($.PopupLanguageList.current.PopupInfo), $(n + " h3").append('<span onclick="$(this).parent().parent().popover(\'hide\');" class="glyphicon glyphicon-remove pull-right pointer"><\/span>'))
		}
	},
	NetworkAutoComplete: function(n, t, i) {
		$.ajax({
			type: "GET",
			url: "http://cbsproxy.ibb.gov.tr/?aramaws",
			crossDomain: !0,
			data: "srchtxt=" + n + "&rownum=250&ilce=&detayli=false",
			success: function(n) {
				var i = n.ArrayOfAramaResult != null && n.ArrayOfAramaResult.AramaResult != null ? n.ArrayOfAramaResult.AramaResult : [];
				i.length || (i = [i]);
				t && t(i)
			},
			error: function(n, t, r) {
				i && i(n, t, r)
			}
		})
	},
	NetworkProcess: function() {
		$.NetworkStartLonLat != "" && $.NetworkFinishLonLat != "" && ($.NetworkClickState = "start", $($.NetworkResult + " .footer").addClass("hidden"), $($.NetworkResult + " .footer > span").addClass("hidden"), $.NetworkState == "normal" ? ($(window).resize(), $.NetworkProcessWithoutTUBS()) : $.NetworkProcessWithTUBS());
		$.PopupMenuDefault()
	},
	NetworkProcessWithoutTUBS: function() {
		$.MapClearVectorLayer();
		$.ModalWaitingShow();
		$.ajax({
			type: "GET",
			url: "http://cbsproxy.ibb.gov.tr/?networkws",
			crossDomain: !0,
			data: "baslangic=" + $.NetworkStartLonLat + "&ara=" + $.NetworkWayPointLonLat.substr(1) + "&bitis=" + $.NetworkFinishLonLat,
			success: function(n) {
				var r, u, f;
				$.ModalWaitingHide();
				var n = n.string["#text"],
					i = n.split("@"),
					t = i[0];
				t = "LINESTRING(" + t + ")";
				t = t.replace(",)", ")");
				r = $.MapDrawLineString(t, {
					strokeWidth: 10,
					strokeColor: "#fff",
					strokeOpacity: .9
				});
				$.NetworkFeature.push(r);
				u = $.MapDrawLineString(t, {
					strokeWidth: 7,
					strokeColor: "#006aae",
					strokeOpacity: .8
				});
				$.NetworkFeature.push(u);
				$($.NetworkResult + " .body").html(i[1]);
				$($.NetworkResult + " .body").removeClass("hidden");
				$.LanguageGet() != "tr" && $($.NetworkResult + " > div.body tr").addClass("hidden");
				$($.NetworkResult + " > div.body tr:first-child").removeClass("hidden");
				f = $.MapGetExtentArrayWKT(t, !0);
				$.MapGotoExtentWithArray(f);
				$.MapZoomOut();
				$(window).resize();
				$(".networkResult .body ").each(function() {
					$(this).find("td b").eq(0).text($.NetworkLanguageList.current.networkdistince);
					$(this).find("td b").eq(1).text($.NetworkLanguageList.current.networktime)
				})
			},
			error: function() {
				$.ModalWaitingHide();
				$.NetworkClearMap();
				$($.NetworkResult + " .body").html("");
				$($.NetworkResult + " .body").addClass("hidden");
				$.ModalError($.NetworkLanguageList.current.networkmodalerrortitle, $.NetworkLanguageList.current.networkmodalerrorsubject)
			}
		})
	},
	NetworkProcessWithTUBS: function() {
		var i, s, n, u, f;
		$.NetworkTubsLastIndex = -1;
		var t = $.NetworkStartLonLat.split("|"),
			e = t[1] + "," + t[0],
			t = $.NetworkFinishLonLat.split("|"),
			o = t[1] + "," + t[0],
			r = $($.NetworkContainer + " input[name=time]").val();
		$.NetworkTubsTime.trim() != "" && (r = $.NetworkTubsTime);
		i = $($.NetworkContainer + " input[name=date]").val();
		$.NetworkTubsDate.trim() != "" && (i = $.NetworkTubsDate);
		s = $($.NetworkContainer + " input[name=depart]").val() == "arrive";
		n = "";
		$($.NetworkContainer + " #mode input[type=checkbox]").each(function() {
			$(this).prop("checked") && (n += "," + $(this).prop("name"))
		});
		n = n.substr(1).toUpperCase();
		n.indexOf("TRANSIT") > -1 ? n = "TRANSIT,WALK" : n += ",WALK";
		$.NetworkTubsTur.trim() != "" && (n = $.NetworkTubsTur + ",WALK");
		var h = $($.NetworkContainer + " input[name=maximumwalk]").val(),
			c = $($.NetworkContainer + " input[name=wheelchair]").prop("checked");
		n.indexOf(",") > -1 ? ($.MapClearVectorLayer(), $.ModalWaitingShow(), u = "http://cbsproxy.ibb.gov.tr/?tubs", f = "fromPlace=" + e + "&toPlace=" + o + "&time=" + r + "&date=" + i + "&mode=" + n + "&maxWalkDistance=" + h + "&wheelchair=" + c + "&showIntermediateStops=false", $.ajax({
			type: "GET",
			url: u,
			data: f,
			crossDomain: !0,
			success: function(n) {
				var i, g, nt, p, ft, s, ct, o, rt, lt, ni, ti, ii, l, k, d, di, ri, ui, at, vt, fi, gi, ei, oi, yt, pt;
				$($.NetworkResult + " .footer").removeClass("hidden");
				$($.NetworkResult + " .footer > span").addClass("hidden");
				i = "";
				$.ModalWaitingHide();
				var ir = n.debugOutput,
					st = n.plan,
					rr = n.requestParameters;
				if ($.NetworkTUBSData = [], st) {
					g = "";
					nt = "";
					for (p in st.itineraries) {
						if (p > 3) break;
						i = "";
						var si = 0,
							wt = [],
							u = st.itineraries[p],
							hi = $.DateToTRDate(new Date(u.startTime)),
							ci = $.DateToTRDate(new Date(u.endTime)),
							ht = u.duration,
							ur = u.transitTime,
							fr = u.waitingTime,
							er = u.walkTime,
							or = u.transfers,
							sr = u.walkDistance,
							hr = u.walkLimitExceeded,
							cr = u.tooSloped;
						i += "<div data-tubsData='" + p + "'>";
						ft = "";
						for (s in u.legs) {
							var t = u.legs[s],
								lr = t.arrivalDelay,
								ar = t.departureDelay,
								et = t.distance.toFixed(0),
								tt = t.duration,
								lr = t.arrivalDelay,
								w = $.DateToTRDate(new Date(t.startTime)),
								vr = $.DateToTRDate(new Date(t.endTime)),
								yr = $.DateToTRDate(new Date(t.from.arrival)),
								pr = $.DateToTRDate(new Date(t.from.departure)),
								li = t.from.lon,
								ai = t.from.lat,
								v = t.from.name,
								bt = t.from.stopIndex,
								kt = t.to.stopIndex,
								dt = t.routeId,
								wr = t.routeLongName,
								br = $.DateToTRDate(new Date(t.to.arrival)),
								kr = $.DateToTRDate(new Date(t.to.departure)),
								dr = t.to.lon,
								gr = t.to.lat,
								y = t.to.name,
								gt = t.legGeometry,
								vi = gt.length,
								it = gt.points;
							vi > 0 && (it = $.NetworkDecompress(it));
							var a = t.mode,
								nu = t.pathway,
								tu = t.realTime,
								iu = t.rentedBike,
								b = t.route,
								e = "#9e9e9e";
							a && a != "WALK" && (si++, t.agencyUrl.indexOf("iett.gov.tr") > -1 ? t.agencyUrl = "//iett.gov.tr/tr/main/hatlar/" + b : t.agencyUrl.indexOf("istanbul-ulasim.com.tr") > -1 ? t.agencyUrl = "//istanbul-ulasim.com.tr/raylý-sistemler.aspx" : t.agencyUrl.indexOf("tcdd.gov.tr") > -1 ? (t.agencyUrl = "//www.marmaray.gov.tr", b = "") : t.agencyUrl.indexOf("sehirhatlari.com.tr") > -1 && (ct = b.split("-"), b = ct[0][0] + "-" + ct[1][0]), o = t.agencyName, rt = t.agencyUrl, $.NetworkOwnerList.push({
								routeId: [{
									ownerID: dt,
									ownerName: o,
									ownerUrl: rt
								}]
							}));
							var yi = t.headsign,
								pi = kt - bt,
								ut = t.agencyName && b != "" ? "<b><u>" + b + "<\/u><\/b>" : "",
								ru = t.transitLeg,
								uu = t.interlineWithPreviousLeg,
								r = "icon-yaya",
								f = $.NetworkLanguageList.current.networkwalking;
							switch (a) {
								case "WALK":
									f = $.NetworkLanguageList.current.networkwalking;
									r = "icon-yaya";
									e = "#9e9e9e";
									break;
								case "BUS":
									f = $.NetworkLanguageList.current.networkbus;
									r = "icon-otobus";
									e = "#b967a7";
									break;
								case "SUBWAY":
									f = $.NetworkLanguageList.current.networksubway;
									r = "icon-metro";
									e = "#1378c9";
									break;
								case "TRAM":
									f = $.NetworkLanguageList.current.networktram;
									r = "icon-tramvay";
									e = "#78c913";
									break;
								case "METROBUS":
									f = $.NetworkLanguageList.current.networkmetrobus;
									r = "icon-metrobus";
									e = "#c1991e";
									break;
								case "RAIL":
									f = $.NetworkLanguageList.current.networkrail;
									r = "icon-marmaray";
									e = "#000000";
									break;
								case "FERRY":
									f = $.NetworkLanguageList.current.networkferry;
									r = "icon-gemi";
									e = "#400080";
									break;
								case "CABLECAR":
								case "GONDOLA":
									f = $.NetworkLanguageList.current.networkcablecar;
									r = "icon-teleferik";
									e = "#ff0000";
									break;
								case "FUNICULAR":
									f = $.NetworkLanguageList.current.networkfunicular;
									r = "icon-funikuler";
									e = "#1378c9";
									break;
								case "SHARETAXI":
									f = $.NetworkLanguageList.current.networksharetaxi;
									r = "icon-minibus";
									e = "#ff8000";
									break;
								case "MINIBUS":
									f = $.NetworkLanguageList.current.networkminibus;
									r = "icon-minibus";
									e = "#cccc00";
									break;
								default:
									console.error(a)
							}
							if (lt = "", v == "road" || v == "path" ? v = $.NetworkLanguageList.current.networkstart : $.LanguageGet() == "tr" && (v = v.replace("corner of ", "").replace("service ", "").replace("path and ", "").replace(" and ", " ve ").replace("road", $.NetworkLanguageList.current.networkstart).replace("track", $.NetworkLanguageList.current.networkstart).replace("link", $.NetworkLanguageList.current.networkstart).replace("parking aisle", $.NetworkLanguageList.current.networkstart)), w = w.substr(0, 5), navStartTime = hi.substr(0, 5), navEndTime = ci.substr(0, 5), ni = navStartTime + " - " + navEndTime, s == 0 && (i += '<div class="waypoint begin"><time class="timeline-time">' + navStartTime + '<\/time><div class="waypoint-label"><div class="waypoint-icon"><i class="starting"><\/i><\/div><div class="timeline-line begin"><\/div><div class="waypoint-address"><span>' + v + "<\/span><\/div><\/div><\/div>"), i += "<div class='directions-group " + a + "' data-leg=" + s + " >", t.steps.length > 999990) {
								ti = "tud_" + p + "_" + s;
								i += "<ul id='" + ti + "' class=hidden>";
								for (ii in t.steps) {
									var h = t.steps[ii],
										ot = h.distance,
										wi = h.streetName,
										c = h.relativeDirection;
									switch (c) {
										case "DEPART":
											c = "DEPART";
											break;
										case "SLIGHTLY_LEFT":
											c = "BÝRAZ SOLA";
											break;
										case "SLIGHTLY_RIGHT":
											c = "BÝRAZ SAÐA";
											break;
										case "HARD_LEFT":
											c = "KESKÝN SOLA";
											break;
										case "HARD_RIGHT":
											c = "KESKÝN SAÐA";
											break;
										case "CONTINUE":
											c = "DEVAM";
											break;
										case "LEFT":
											c = "SOLA";
											break;
										case "RIGHT":
											c = "SAÐA"
									}
									l = h.absoluteDirection;
									switch (l) {
										case "SOUTHEAST":
											l = "GÜNEY DOÐU";
											break;
										case "NORTHEAST":
											l = "KUZEY DOÐU";
										case "SOUTHWEST":
											l = "GÜNEY BATI";
											break;
										case "NORTHWEST":
											l = "KUZEY BATI";
											break;
										case "EAST":
											l = "DOÐU";
											break;
										case "WEST":
											l = "BATI";
											break;
										case "SOUTH":
											l = "GÜNEY";
											break;
										case "NORTH":
											l = "KUZEY"
									}
									var fu = h.exit,
										eu = h.stayOn,
										ou = h.area,
										su = h.bogusName,
										bi = h.lon,
										ki = h.lat,
										hu = h.elevation;
									i += "<li><b>" + wi + "<\/b><span class=right>" + c + "<\/span><\/li>"
								}
								i += "<\/ul>"
							}
							if (k = (tt / 60).toFixed(0), k < 10 && (k = "0" + k), d = tt % 60, d < 10 && (d = "0" + d), di = k + ":" + d + ", " + et + " m", ri = parseFloat(parseInt(k) + parseInt(d) / 60), tt = ri.toFixed(1) + $.NetworkLanguageList.current.networktimemin, ot = et > 1e3 ? (et / 1e3).toFixed(1) + " km" : et + " m", ui = o == "Minibus" || o == "Taksi Dolmus" ? "" : t.route, y == "road" || y == "path" ? y = $.NetworkLanguageList.current.networkfinish : $.LanguageGet() == "tr" && (y = y.replace("corner of ", "").replace("service ", "").replace("path and ", "").replace(" and ", " ve ").replace("road", $.NetworkLanguageList.current.networkfinish).replace("track", $.NetworkLanguageList.current.networkfinish).replace("link", $.NetworkLanguageList.current.networkfinish).replace("parking aisle", $.NetworkLanguageList.current.networkfinish)), a != "WALK" ? (ut != "" && (ut = ut), lt = "<div class='" + r + "' style='background-color:" + e + "'><\/div><div>" + f + " " + ut + "<br/><span class='glyphicon glyphicon-time'><\/span>&nbsp;" + w + "&nbsp;&nbsp;&nbsp;<span class='glyphicon glyphicon-resize-horizontal'><\/span>&nbsp;" + ot + "<\/div>") : lt = "<div class='" + r + "'><\/div><div>" + ut + " " + ot + "<\/div>", ft += a != "WALK" & o != "Minibus" & o != "Taksi Dolmus" ? '<div class="' + r + ' nav-text-box" title="' + f + '"><div class="nav-text-box-content">' + ui + "<\/div><\/div>" : '<div class="' + r + '" title="' + f + '"><\/div>', s < u.legs.length - 1 && (ft += '<div class="icon-saginceok2"><\/div>&nbsp;'), at = "", s == 0 && (at += '<div class="direction-intermediate-stop" data-leg="' + s + '"><time class="direction-intermediate-stop-period"><span>' + w + '<\/span><\/time><div class="direction-intermediate-stop-circle"><\/div><div class="direction-intermediate-stop-name">durak adý<\/div><\/div>'), vt = a != "WALK" && a ? "<span>" + yi + $.NetworkLanguageList.current.networkdirections + ' <\/span><div class="directions-stop" data-routeId="' + dt + '" data-fromIndex="' + bt + '" data-toIndex="' + kt + '"><button class="direction-stop-button"><i class="glyphicon glyphicon-menu-down"><\/i><\/button><span class="direction-stop-period">' + tt + '<\/span><span class="direction-stop-total"> (' + pi + $.NetworkLanguageList.current.networkastation + ') <\/span><\/div><div class="concealed collapse"><\/div>' : "<span>" + $.NetworkLanguageList.current.networkwalk + '<\/span><div class="directions-stop"><span class="direction-stop-period">' + $.NetworkLanguageList.current.networkapproximately + tt + '<\/span><span class="direction-stop-distance">&nbsp;' + ot + '<\/span><\/div><div class="concealed"><\/div>', fi = '<time class="timeline-time">' + w + '<\/time><div class="directions-transfer-stop-label"><div class="directions-transfer-stop-circle"><\/div><span>' + v + "<\/span><\/div>", gi = '<time class="timeline-time">' + w + '<\/time><div class="directions-transfer-stop-label"><div class="directions-transfer-stop-circle"><\/div><span>' + y + "<\/span><\/div>", s == 0 ? i += '<div class="directions-body"><time class="directions-timeline"><\/time><div class="directions-label"><div class="timeline-line"><\/div><div class="directions-label-box hoverable"><i class="' + r + '"><\/i><div class="directions-text-box"><div class="directions-text-box-content">' + t.route + "<\/div><\/div>" + vt + "<\/div><\/div><\/div>" : (i += '<div class="directions-transfer-stop" data-routeLat="' + ai + '" data-routeLon="' + li + '"routeNumber="' + t.route + '"> ' + fi + "<\/div>", i += '<div class="directions-body"><time class="directions-timeline"><\/time><div class="directions-label"><div class="timeline-line"><\/div><div class="directions-label-box hoverable"><i class="' + r + '"><\/i><div class="directions-text-box"><div class="directions-text-box-content">' + t.route + "<\/div><\/div>" + vt + "<\/div><\/div><\/div>"), s == u.legs.length - 1 && (i += '<\/div><div class="waypoint end"><time class="timeline-time">' + navEndTime + '<\/time><div class="waypoint-label"><div class="waypoint-icon"><i class="finishing"><\/i><\/div><div class="timeline-line end"><\/div><div class="waypoint-address"><span>' + y + "<\/span><\/div><\/div>"), i += "<\/div>", s > 0) {
								var bi = it[0].lon,
									ki = it[0].lat,
									nr = $.NetworkLanguageList.current.networkaktarma,
									tr = v;
								ei = {
									lon: bi,
									lat: ki,
									title: nr,
									content: tr
								}
							}
							oi = $.LonLatToWKT(it);
							wt.push({
								color: e,
								line: oi,
								transferStop: ei
							})
						}
						$.NetworkTUBSData.push(wt);
						i += "<\/div>";
						yt = parseInt(p) + 1;
						i = ('<div role="tabpanel" class="tab-pane fade" id="guzergah{0}">' + i + "<\/div>").format([yt]);
						nt += i;
						ht = (ht / 60).toFixed(0) + $.NetworkLanguageList.current.networktimemin;
						g += '<li role="presentation"><a href="#guzergah{0}" aria-controls="guzergah{0}" role="tab" data-toggle="tab"><div class="nav-text-time">{3}<\/div><small class="pull-right">{1}<\/small><div style="display:table-row;">{2}<\/div><\/a><\/li>'.format([yt, ht, ft, ni])
					}
					g = '<ul class="nav nav-tabs" role="tablist">' + g + "<\/ul>";
					pt = "";
					nt = '<div role="tab-content">' + nt + "<\/div>";
					pt += '<div role="tabpanel">' + g + nt + "<\/div>";
					$($.NetworkContainer + " #tubsResult").html("");
					$($.NetworkContainer + " #tubsResult").html(pt);
					$(".directions-transfer-stop").click(function() {
						var i = $(this).attr("data-routeNumber"),
							n = $(this).attr("data-routeLon"),
							t = $(this).attr("data-routeLat");
						n = parseFloat(n);
						t = parseFloat(t);
						$.MapGoto(n, t, 18)
					});
					$(".directions-stop").click(function() {
						var t = $(this).attr("data-routeid"),
							i, n, r;
						if (t) {
							for (i = $(".directions-stop[data-routeId=" + t + "]").parent(), i.children(".concealed").hasClass("in") ? $(".directions-stop[data-routeId=" + t + "] .glyphicon").attr("class", "glyphicon glyphicon-menu-down") : $(".directions-stop[data-routeId=" + t + "] .glyphicon").attr("class", "glyphicon glyphicon-menu-up"), n = 0; n < $.NetworkOwnerList.length; n++) $.NetworkOwnerList[n].routeId[0].ownerID == t && (o = $.NetworkOwnerList[n].routeId[0].ownerName, rt = $.NetworkOwnerList[n].routeId[0].ownerUrl);
							o == "Minibus" ? o = "ÝBB Toplu Ulaþým Hizmetleri Müdürlüðü" : o == "Taksi Dolmus" && (o = "ÝBB Toplu Ulaþým Hizmetleri Müdürlüðü");
							r = $.LanguageGet() == "en-US" ? '<div class="direction-intermediate-stop-attribution"><span>The information provided by <a href="' + rt + '" target="_blank">' + o + "<\/a><\/span><\/div>" : '<div class="direction-intermediate-stop-attribution"><span> Bilgiler <a href="' + rt + '" target="_blank">' + o + "<\/a> tarafýndan saðlanmýþtýr<\/span><\/div>";
							var f = $(this).attr("data-fromIndex"),
								e = $(this).attr("data-toIndex"),
								u = at + r;
							$($(this).next()).html(u);
							$($(this).next()).collapse("toggle")
						}
					});
					$($.NetworkContainer + " #tubsResult li a[role=tab]").click(function(n) {
						n.preventDefault();
						$.MapClearVectorLayer();
						$.NetworkClearMap("aktarma");
						var t = $(this).attr("aria-controls").replace("guzergah", "") - 1;
						$.NetworkTUBSDrawPath(t, !1)
					});
					$($.NetworkContainer + " #tubsResult li a[role=tab]").hover(function(n) {
						if (n.preventDefault(), !$(this).parent().hasClass("active")) {
							var t = $(this).attr("aria-controls").replace("guzergah", "") - 1;
							$.NetworkTUBSDrawPath(t, !0)
						}
					});
					$($.NetworkContainer + " #tubsResult li a[role=tab]").mouseleave(function(n) {
						n.preventDefault();
						$($.NetworkContainer + " #tubsResult li.active a[role=tab]").click()
					});
					setTimeout(function() {
						$($.NetworkContainer + " #tubsResult li:first-child a[role=tab]").click()
					}, 500);
					$($.NetworkContainer + " #tubsContainer").addClass("hidden");
					$($.NetworkContainer + " #tubsResult").removeClass("hidden");
					$($.NetworkContainer + " #networkGeri").removeClass("hidden");
					$(window).resize()
				} else $.NetworkClearMap(), $($.NetworkContainer + " .header").animate({
					height: "296px"
				}), $($.NetworkContainer + " #tubsResult").addClass("hidden"), $($.NetworkContainer + " #networkGeri").addClass("hidden"), $($.NetworkContainer + " #tubsContainer").removeClass("hidden"), $.ModalError($.NetworkLanguageList.current.networkmodalerrortitle, $.NetworkLanguageList.current.networkmodalerrorsubject)
			},
			error: function(n, t, i) {
				$.ModalWaitingHide();
				console.info(n);
				console.info(t);
				console.info(i);
				$.ModalError($.NetworkLanguageList.current.networkmodalerrortitle, $.NetworkLanguageList.current.networkmodalerrorsubject)
			}
		})) : $.ModalError($.NetworkLanguageList.current.networkmodalerrortitle, $.NetworkLanguageList.current.networkmodalerrorsubject)
	},
	NetworkTUBSDrawPath: function(n, t) {
		var s = {},
			tt = 0,
			r = "",
			h, a, e, p, w, b, d, g, nt;
		$.NetworkTUBSSelectedData = $.NetworkTUBSData[n];
		for (h in $.NetworkTUBSData[n]) {
			var u = $.NetworkTUBSData[n][h],
				c = u.color,
				f = u.transferStop,
				l = !0;
			t ? c = "#888" : l = c != "#9e9e9e";
			a = u.line.substr(0, u.line.length - 1);
			e = "LINESTRING(" + a + ")";
			r = r + ",(" + a + ")";
			l && (tt++, p = $.MapDrawLineString(e, {
				strokeWidth: 10,
				strokeColor: "#fff",
				strokeOpacity: .9
			}), $.NetworkFeature.push(p), f && (w = $.MapAddMarker(f.lon, f.lat, f.title, f.content, {
				toolbar: !0,
				click: function() {},
				image: "images/markers/aktarma.png",
				size: {
					h: 12,
					w: 12
				},
				center: !0
			}), $.NetworkMarkers.push({
				type: "aktarma",
				markerID: w
			})));
			b = $.MapDrawLineString(e, {
				strokeDashStyle: l ? "solid" : "2 10",
				strokeWidth: 7,
				strokeColor: c,
				strokeOpacity: .8
			});
			$.NetworkFeature.push(b);
			for (var i = u.line.split(","), v = parseFloat(i[0].split(" ")[0]), y = parseFloat(i[0].split(" ")[1]), k = {
					lon: v,
					lat: y
				}, o = 1; i[i.length - o] == "" && o < i.length - 1;) o++;
			v = parseFloat(i[i.length - o].split(" ")[0]);
			y = parseFloat(i[i.length - o].split(" ")[1]);
			d = {
				lon: v,
				lat: y
			};
			h > 0 && (e = "LINESTRING(" + s.lon + " " + s.lat + "," + k.lon + " " + k.lat + ")", g = $.MapDrawLineString(e, {
				strokeDashStyle: "2 10",
				strokeWidth: 7,
				strokeColor: "#9e9e9e",
				strokeOpacity: .8
			}), $.NetworkFeature.push(g));
			s = d
		}
		t || $.NetworkTubsLastIndex == n || ($.NetworkTubsLastIndex = n, r = "MULTILINESTRING(" + r.substr(1) + ")", nt = $.MapGetExtentArrayWKT(r, !0), $.MapGotoExtentWithArray(nt), $.MapZoomOut())
	},
	NetworkClose: function() {
		$.NetworkClickState = "start";
		$.NetworkReady = !0;
		$.NetworkClearMap();
		$($.NetworkContainer + " #tubsResult").addClass("hidden");
		$.NetworkStateStuation || $($.NetworkContainer + " #tubsContainer").removeClass("hidden");
		$($.NetworkContainer + " #networkGeri").addClass("hidden");
		$($.NetworkResult + " .footer > span").removeClass("hidden");
		$($.NetworkResult + " .body").addClass("hidden");
		$.PopupMenuDefault()
	},
	NetworkClearMap: function(n, t) {
		var i;
		if ($($.NetworkResult + " .body").html(""), $($.NetworkResult + " .body").addClass("hidden"), n) {
			switch (n) {
				case "baslangic":
					for ($.NetworkStartLonLat = "", $($.NetworkStart).val(""), i = 0; i < $.NetworkMarkers.length; i++) $.NetworkMarkers[i].type == "aktarma" && $.MapClearMarkers($.NetworkMarkers[i].markerID);
					break;
				case "bitis":
					for ($.NetworkFinishLonLat = "", $($.NetworkFinish).val(""), i = 0; i < $.NetworkMarkers.length; i++) $.NetworkMarkers[i].type == "aktarma" && $.MapClearMarkers($.NetworkMarkers[i].markerID)
			}
			for (i = 0; i < $.NetworkMarkers.length; i++) t ? $.NetworkMarkers[i].markerID == t && $.MapClearMarkers($.NetworkMarkers[i].markerID) : $.NetworkMarkers[i].type == n && $.MapClearMarkers($.NetworkMarkers[i].markerID);
			$(window).resize();
			return
		}
		for ($.NetworkStartLonLat = "", $($.NetworkStart).val(""), $.NetworkFinishLonLat = "", $($.NetworkFinish).val(""), $.NetworkWayPointLonLat = "", i = 0; i < $.NetworkMarkers.length; i++) $.MapClearMarkers($.NetworkMarkers[i].markerID);
		for ($.NetworkMarkers = [], i = 0; i < $.NetworkFeature.length; i++) $.MapClearVectorLayer($.NetworkFeature[i]);
		$.NetworkFeature = [];
		$.MapRemovePopover();
		$(window).resize()
	},
	NetworkChangeState: function(n) {
		$.NetworkState = n;
		$($.NetworkContainer + " #networkGeri").addClass("hidden");
		$($.NetworkContainer + " #networkTab div").removeClass("active");
		$($.NetworkResult + " .body").addClass("hidden");
		switch (n) {
			case "normal":
				$.NetworkStateStuation = !0;
				$($.NetworkContainer + " #networkTab .icon-otomobil").addClass("active");
				$($.NetworkContainer + " #tubsContainer").addClass("hidden");
				$($.NetworkContainer + " .header").animate({
					height: "84px"
				});
				break;
			case "tubs":
				$.NetworkStateStuation = !1;
				$($.NetworkContainer + " #networkTab .icon-otobus").addClass("active");
				$($.NetworkContainer + " #tubsContainer").removeClass("hidden");
				$($.NetworkContainer + " .header").animate({
					height: "296px"
				});
				$.NetworkClearMap("aranokta")
		}
		$.PopupMenuChanger("aranokta", n == "normal");
		$.NetworkProcess()
	},
	NetworkEventMapClick: function(n) {
		if ($.NetworkReady && $.NetworkActivated()) {
			$.NetworkReady = !1;
			var t = $.MapToWGS84([n.coordinate[0], n.coordinate[1]]);
			$.NetworkEventMapClicked(t[0], t[1])
		}
	},
	NetworkEventMapClicked: function(n, t) {
		$.NetworkStartLonLat == "" ? $.NetworkSetLocation("baslangic", n, t) : $.NetworkFinishLonLat == "" && $.NetworkSetLocation("bitis", n, t)
	},
	NetworkSetLocation: function(n, t, i, r) {
		n != "aranokta" && $.NetworkClearMap(n);
		var u;
		n == "info" ? u = $.MapAddMarker(t, i, "", "", {
			anchor: {
				x: "c",
				y: "b"
			}
		}) : (n == "baslangic" ? $.PopupMenuChanger("start") : n == "bitis" && $.PopupMenuChanger("finish"), u = $.MapAddMarker(t, i, "", "", {
			anchor: {
				x: "c",
				y: n != "aranokta" ? "b" : "c"
			},
			image: "images/markers/" + n + ".png",
			size: {
				w: 20,
				h: n != "aranokta" ? 27 : 20
			},
			draggable: function(t, i, r) {
				var u = Math.round(Math.abs($.MapLastClickedLocation[0] - i) * 1e5),
					f = Math.round(Math.abs($.MapLastClickedLocation[1] - r) * 1e5);
				u + f > 5 && ($.MapLastClickedLocation[0] = i, $.MapLastClickedLocation[1] = r, $.NetworkSetLocation(n, i, r))
			}
		}));
		$.NetworkMarkers.push({
			type: n,
			markerID: u
		});
		$.BilgiAlInfo(t, i, function(u) {
			var o, e, s, f;
			$.NetworkReady = !0;
			n == "aranokta" ? $.NetworkClearMap(n, $.NetworkMarkers[$.NetworkMarkers.length - 1]) : $.NetworkClearMap(n);
			switch (n) {
				case "baslangic":
					u.MahalleIlce == "" && (u.MahalleIlce = $.NetworkLanguageList.current.networkstart);
					$($.NetworkStart).val(u.MahalleIlce);
					$.NetworkStartLonLat = t + "|" + i;
					f = $.MapAddMarker(t, i, $.NetworkLanguageList.current.networkstart, u.MahalleIlce, {
						anchor: {
							x: "c",
							y: "b"
						},
						click: function() {},
						image: "images/markers/" + n + ".png",
						size: {
							w: 20,
							h: 27
						},
						draggable: function(n, t, i) {
							var r = Math.round(Math.abs($.MapLastClickedLocation[0] - t) * 1e5),
								u = Math.round(Math.abs($.MapLastClickedLocation[1] - i) * 1e5);
							r + u > 5 && ($.MapLastClickedLocation[0] = t, $.MapLastClickedLocation[1] = i, $.NetworkSetLocation("baslangic", t, i))
						}
					});
					$.NetworkMarkers.push({
						type: n,
						markerID: f
					});
					$.NetworkFinishLonLat != "" && $.NetworkProcess();
					break;
				case "bitis":
					u.MahalleIlce == "" && (u.MahalleIlce = $.NetworkLanguageList.current.networkfinish);
					$($.NetworkFinish).val(u.MahalleIlce);
					$.NetworkFinishLonLat = t + "|" + i;
					f = $.MapAddMarker(t, i, $.NetworkLanguageList.current.networkfinish, u.MahalleIlce, {
						anchor: {
							x: "c",
							y: "b"
						},
						click: function() {},
						image: "images/markers/" + n + ".png",
						size: {
							w: 27,
							h: 35
						},
						draggable: function(n, t, i) {
							var r = Math.round(Math.abs($.MapLastClickedLocation[0] - t) * 1e5),
								u = Math.round(Math.abs($.MapLastClickedLocation[1] - i) * 1e5);
							r + u > 5 && ($.MapLastClickedLocation[0] = t, $.MapLastClickedLocation[1] = i, $.NetworkSetLocation("bitis", t, i))
						}
					});
					$.NetworkMarkers.push({
						type: n,
						markerID: f
					});
					$.NetworkStartLonLat != "" && $.NetworkProcess();
					break;
				case "aranokta":
					$.NetworkWayPointLonLat += "," + t + "|" + i;
					f = $.MapAddMarker(t, i, $.NetworkLanguageList.current.networkwaypoint, u.MahalleIlce, {
						click: function() {},
						image: "images/markers/" + n + ".png",
						size: {
							w: 20,
							h: 20
						},
						draggable: function(n, t, i) {
							var r = Math.round(Math.abs($.MapLastClickedLocation[0] - t) * 1e5),
								u = Math.round(Math.abs($.MapLastClickedLocation[1] - i) * 1e5);
							r + u > 5 && ($.MapLastClickedLocation[0] = t, $.MapLastClickedLocation[1] = i, $.NetworkSetLocation("aranokta", t, i))
						}
					});
					$.NetworkMarkers.push({
						type: n,
						markerID: f
					});
					$.NetworkStartLonLat != "" && $.NetworkFinishLonLat != "" && $.NetworkProcess();
					break;
				case "info":
					o = r && r.title ? r.title : "";
					e = !0;
					r && (e = r.content === !0 ? u.Adi.toLocaleUpperCase() + " " + u.Yol.toLocaleUpperCase() + " " + u.MahalleIlce.toLocaleUpperCase() : r.content);
					s = r && r.panorama ? r.panorama.angle : 0;
					f = $.MapAddMarker(t, i, o, e, {
						anchor: {
							x: "c",
							y: "b"
						},
						toolbar: !0,
						click: function() {},
						draggable: function(n, t, i) {
							var r = Math.round(Math.abs($.MapLastClickedLocation[0] - t) * 1e5),
								u = Math.round(Math.abs($.MapLastClickedLocation[1] - i) * 1e5);
							r + u > 5 && ($.MapLastClickedLocation[0] = t, $.MapLastClickedLocation[1] = i, $("#pmInfo").click())
						},
						panorama: {
							angle: s
						},
						showPopover: r ? r.showPopover : !0
					});
					$.NetworkMarkers.push({
						type: n,
						markerID: f
					})
			}
		}, function() {
			$.NetworkReady = !0;
			$.ModalError($.NetworkLanguageList.current.networkmodalefaultytitle, $.NetworkLanguageList.current.networkmodalefaultysubject)
		})
	},
	NetworkDecompress: function(n) {
		for (var f = Math.pow(10, -5), l = n.length, u = 0, e = 0, o = 0, s = [], i, r, t, h, c; u < l;) {
			r = 0;
			t = 0;
			do i = n.charCodeAt(u++) - 63, t |= (i & 31) << r, r += 5; while (i >= 32);
			h = t & 1 ? ~(t >> 1) : t >> 1;
			e += h;
			r = 0;
			t = 0;
			do i = n.charCodeAt(u++) - 63, t |= (i & 31) << r, r += 5; while (i >= 32);
			c = t & 1 ? ~(t >> 1) : t >> 1;
			o += c;
			s.push({
				lon: o * f,
				lat: e * f
			})
		}
		return s
	},
	DateToTRDate: function(n) {
		return (n.getHours() < 10 ? "0" + n.getHours() : n.getHours()) + ":" + (n.getMinutes() < 10 ? "0" + n.getMinutes() : n.getMinutes()) + " " + (n.getDate() < 10 ? "0" + n.getDate() : n.getDate()) + "." + (n.getMonth() + 1 < 10 ? "0" + (n.getMonth() + 1) : n.getMonth() + 1) + "." + n.getFullYear()
	},
	DateTimeToTime: function(n) {
		return n.substr(0, 5)
	},
	LonLatToString: function(n) {
		var t = "";
		for (var i in n) t += n[i].lon.toFixed(15) + "," + n[i].lat.toFixed(15) + "<br/>";
		return t
	},
	LonLatToWKT: function(n) {
		var t = "";
		for (var i in n) t += n[i].lon.toFixed(15) + " " + n[i].lat.toFixed(15) + ",";
		return t
	}
});
$.extend({
	NearbyContainer: "",
	NearbyResult: "",
	NearbyDistance: "",
	NearbyItem: "",
	NearbySubItem: "",
	NearbyLastLon: "",
	NearbyLastLat: "",
	NearbyCheckedList: "",
	NearbyMarkers: [],
	NearbyFeature: {},
	NearbyInterval: {},
	NearbyLangaugelist: {},
	NearbyMapClickState: !1,
	NearbyTur: "ÝBADETHANE,EÐÝTÝM,SAÐLIK,KAMU,ECZANE,TARÝHÝ ESER,BANKA,DÝÐER",
	NearbyInit: function(n, t, i, r, u) {
		$.NearbyContainer = n;
		$.NearbyResult = t;
		$.NearbyDistance = i;
		$.NearbyItem = r;
		$.NearbySubItem = u;
		$("#nearbyCheck #nearbycheckbtn").click(function() {
			$.NearbyMapClicked($.MapLastClickedLocation[0], $.MapLastClickedLocation[1], !0)
		});
		$($.NearbyDistance).on("input", function() {
			var n = parseInt($(this).val());
			$($.NearbyDistance).next().html(n + " m");
			$.NearbyLastLon != "" && $.NearbyLastLat != "" && $.NearbyProcess($.NearbyLastLon, $.NearbyLastLat, n)
		});
		$.MapLoader.push(function() {
			$.MapEventRegister("click", $.NearbyEventMapClick);
			$.MapEventRegister("touchend", $.NearbyEventMapClick)
		});
		$.NearbyLangaugelist = {
			en: {
				koordinateinfo: "Click a point to specify the coordinates",
				ibadet: "TEMPLE",
				saglik: "HEALTH",
				eczane: "PHARMACY",
				kamu: "THE PUBLIC",
				durak: "STATION",
				tarihieser: "HISTORICAL VESTIGE",
				egitim: "EDUCATION",
				diger: "OTHERS",
				nearby: "Nearby Me",
				bank: "BANK",
				warningtitle: "WARNÝNG",
				warningservice: "Unable to service !\nPlease try again later",
				warninglocation: "There are no results for the specified location !\nPlease choose another location",
				turnback: "Turn Back Options"
			},
			tr: {
				koordinateinfo: "Koordinat belirtmek için haritada bir yere týklayýn",
				ibadet: "ÝBADETHANE",
				saglik: "SAÐLIK",
				eczane: "ECZANE",
				kamu: "KAMU",
				durak: "DURAK",
				tarihieser: "TARÝHÝ ESER",
				egitim: "EÐÝTÝM",
				diger: "DÝÐER",
				nearby: "Yakýnýmda Ara",
				bank: "BANKA",
				warningtitle: "HATA",
				warningservice: "Þuan hizmet veremiyoruz !\nLütfen daha sonra tekrar deneyiniz",
				warninglocation: "Belirttiðiniz konumdan sonuç alýnamýyor !\nLütfen baþka bir konum seçiniz",
				turnback: "Seçeneklere Geri Dön"
			},
			current: {},
			change: function() {
				this.current = $.LanguageGet() == "tr" || $.LanguageGet() == null ? this.tr : this.en
			}
		};
		$.NearbyLanguage();
		$(window).resize(function() {
			if ($.NearbyActivated()) {
				var n = innerHeight,
					t = parseInt($("#toolbar").css("height").replace("px", ""));
				n = n - (29 + t);
				$($.NearbyContainer).animate({
					"max-height": n + "px"
				});
				$($.NearbyResult).animate({
					"max-height": n - 70 + "px"
				})
			}
		});
		$($.NearbyContainer + " #nearbyCheck #nearbyCheckList input[name=all]").click(function() {
			var n = $(this).is(":checked");
			$($.NearbyContainer + " #nearbyCheck #nearbyCheckList input[name]").prop("checked", n)
		});
		$($.NearbyContainer + " #nearbyCheck #nearbyCheckList input[name]").click(function() {
			var t = $(this).attr("name"),
				n;
			t != "all" && (n = !0, $($.NearbyContainer + " #nearbyCheck #nearbyCheckList input[name]").each(function() {
				var i = $(this).attr("name"),
					t;
				i != "all" && (t = $(this).is(":checked"), n = n && t)
			}), $($.NearbyContainer + " #nearbyCheck #nearbyCheckList input[name=all]").prop("checked", n))
		})
	},
	NearbyActivated: function() {
		return $($.NearbyContainer).hasClass("in")
	},
	NearbyOpen: function(n) {
		if ($.NearbyMapClickState = !1, $.NearbyChangeState("wait"), $($.NearbyContainer).collapse("show"), n) $($.NearbyContainer).on("shown.bs.collapse", n)
	},
	NearbyClose: function() {
		$.NearbyMapClickState = !1;
		$.NearbyChangeState("default");
		$($.NearbyContainer).collapse("hide");
		$.NearbyClearMap();
		$.NearbyFeature && $.MapClearVectorLayer($.NearbyFeature)
	},
	NearbyClearMap: function() {
		for (var n = 0; n < $.NearbyMarkers.length; n++) $.MapClearMarkers($.NearbyMarkers[n]);
		$.NearbyMarkers = [];
		$.MapRemovePopover();
		$.NearbyInterval && clearInterval($.NearbyInterval)
	},
	NearbyAddMainMarker: function() {
		var n = $.MapAddMarker(lon, lat, "", "", {
			image: "images/markers/hedef.png"
		});
		$.NearbyMarkers.push(n)
	},
	NearbyProcess: function(n, t, i) {
		$.NearbyChangeState("busy");
		$.NearbyLastLon = n;
		$.NearbyLastLat = t;
		$.NearbyClearMap();
		var r = $.MapAddMarker(n, t, "", "", {
			image: "images/markers/hedef.png",
			draggableControl: function(n, t, i, r) {
				if (r == "completed") {
					$.MapLastClickedLocation[0] = t;
					$.MapLastClickedLocation[1] = i;
					$.MapClearVectorLayer($.NearbyFeature);
					$.NearbyAddMainMarker();
					var u = parseInt($($.NearbyDistance).val());
					$.NearbyProcess(t, i, u)
				} else $.NearbyClearMap(), $.NearbyAddMainMarker()
			}
		});
		$.NearbyMarkers.push(r);
		$.MapClearVectorLayer($.NearbyFeature);
		$.NearbyFeature = $.MapDrawCircle(n, t, i * 1.33);
		$.NearbyInterval = setInterval(function() {
			var n = $.MapGetFeature($.NearbyFeature),
				t;
			n ? (t = n.getStyle().getFill().getColor(), t[3] = t[3] == .5 ? .3 : .5, n.getStyle().getFill().setColor(t), n.changed()) : clearInterval($.NearbyInterval)
		}, 1e3);
		$.NearbyTurnBackBtn();
		$.NearbyCheckListLoad();
		$.NearbyDataBind("http://cbsproxy.ibb.gov.tr/?nearbyws", n, t, i, function(i) {
			var e, o, r, f, y, s, v;
			for ($.MapLastClickedLocation[0] = n, $.MapLastClickedLocation[1] = t, $.NearbyChangeState("default"), e = $.NearbyTur.split(","), o = "", $($.NearbyResult).show(), r = 0; r < i.length; r++)
				if (i[r].TypeDetailList && i[r].TypeDetailList.Nearby) {
					if (f = "", y = 1, i[r].TypeDetailList.Nearby.length) {
						for (s = 0; s < i[r].TypeDetailList.Nearby.length; s++) {
							var u = i[r].TypeDetailList.Nearby[s],
								h = u.Adi == null ? "" : u.Adi,
								c = u.Adres == null ? "" : u.Adres,
								l = parseFloat(u.X),
								a = parseFloat(u.Y);
							f += $.NearbySubItem.format([h, c, l, a]);
							$.inArray(i[r].TypeName, e) != -1 && (v = $.MapAddMarker(l, a, h, c, {
								toolbar: !0,
								click: function(n) {
									n.stopPropagation()
								},
								image: "images/markers/searched.png"
							}));
							$.NearbyMarkers.push(v)
						}
						y = i[r].TypeDetailList.Nearby.length
					} else {
						var u = i[r].TypeDetailList.Nearby,
							h = u.Adi == null ? "" : u.Adi,
							c = u.Adres == null ? "" : u.Adres,
							l = parseFloat(u.X),
							a = parseFloat(u.Y);
						f += $.NearbySubItem.format([h, c, l, a]);
						$.inArray(i[r].TypeName, e) != -1 && (v = $.MapAddMarker(l, a, h, c, {
							click: function() {},
							image: "images/markers/searched.png",
							size: {
								h: 12,
								w: 12
							},
							center: !0
						}));
						$.NearbyMarkers.push(v)
					}
					f = "<ul>" + f + "<\/ul>";
					$.inArray(i[r].TypeName, e) != -1 && (o += $.NearbyItem.format([r, i[r].TypeName, f, y]))
				}
			$($.NearbyResult).html(o);
			$($.NearbyResult).removeClass("hidden");
			$($.NearbyResult + " ul > li").click(function() {
				var n = $(this).attr("data-ad"),
					t = $(this).attr("data-adres"),
					i = parseFloat($(this).attr("data-lon")),
					r = parseFloat($(this).attr("data-lat"));
				$.NearbyClick(n, t, i, r)
			});
			$.NearbyLanguage();
			$(window).resize();
			o == "" && $($.NearbyResult).html($.NearbyLangaugelist.current.warninglocation)
		}, function() {
			$.NearbyChangeState("default");
			$.ModalError($.NearbyLangaugelist.current.warningtitle, $.NearbyLangaugelist.current.warninglocation)
		})
	},
	NearbyClick: function(n, t, i, r) {
		var u = $.MapAddMarker(i, r, n, t, {
			click: function() {}
		});
		$.NearbyMarkers.push(u);
		$.MapGoto(i, r, 18)
	},
	NearbyDataBind: function(n, t, i, r, u, f) {
		$.ajax({
			type: "GET",
			url: n,
			data: "X=" + t + "&Y=" + i + "&PRJ=101013&TARGETPROJ=4326&DIST=" + r + "&CHECKLIST=" + $.NearbyCheckedList,
			crossDomain: !0,
			success: function(n) {
				var t = n.ArrayOfNearbyTypeDist != null && n.ArrayOfNearbyTypeDist.NearbyTypeDist != null ? n.ArrayOfNearbyTypeDist.NearbyTypeDist : [];
				t.length || (t = [t]);
				u && u(t)
			},
			error: function() {
				f && f()
			}
		})
	},
	NearbyChangeState: function(n) {
		switch (n) {
			case "busy":
				$($.NearbyResult).addClass("hidden");
				$($.NearbyContainer + " #nearbyBusy").removeClass("hidden");
				$($.NearbyContainer + " .nearby-body > div:last-child").addClass("hidden");
				break;
			case "wait":
				$($.NearbyResult).addClass("hidden");
				$($.NearbyContainer + " #nearbyBusy").addClass("hidden");
				$($.NearbyContainer + " .nearby-body > div:last-child").removeClass("hidden");
				break;
			case "default":
				$($.NearbyResult).html("");
				$($.NearbyResult).removeClass("hidden");
				$($.NearbyContainer + " #nearbyBusy").addClass("hidden");
				$($.NearbyContainer + " .nearby-body > div:last-child").removeClass("hidden")
		}
	},
	NearbyLanguage: function() {
		if ($.NearbyLangaugelist.change(), $("#nearbyContainer .footer span").text($.NearbyLangaugelist.current.koordinateinfo), $.NearbyActivated()) {
			$("#toolbar #processbar > div:first-child").html($.NearbyLangaugelist.current.nearby);
			$("#nearbyBackBtn").html($.NearbyLangaugelist.current.turnback);
			var n = $("#nearbyResult [data-parent=#nearbyResult]").each(function() {
				n = $("span:first-child", this).html();
				switch (n) {
					case $.NearbyLangaugelist.tr.ibadet:
					case $.NearbyLangaugelist.en.ibadet:
						$("span:first-child", this).html($.NearbyLangaugelist.current.ibadet);
						break;
					case $.NearbyLangaugelist.tr.saglik:
					case $.NearbyLangaugelist.en.saglik:
						$("span:first-child", this).html($.NearbyLangaugelist.current.saglik);
						break;
					case $.NearbyLangaugelist.tr.eczane:
					case $.NearbyLangaugelist.en.eczane:
						$("span:first-child", this).html($.NearbyLangaugelist.current.eczane);
						break;
					case $.NearbyLangaugelist.tr.kamu:
					case $.NearbyLangaugelist.en.kamu:
						$("span:first-child", this).html($.NearbyLangaugelist.current.kamu);
						break;
					case $.NearbyLangaugelist.tr.bank:
					case $.NearbyLangaugelist.en.bank:
						$("span:first-child", this).html($.NearbyLangaugelist.current.bank);
						break;
					case $.NearbyLangaugelist.tr.durak:
					case $.NearbyLangaugelist.en.durak:
						$("span:first-child", this).html($.NearbyLangaugelist.current.durak);
						break;
					case $.NearbyLangaugelist.tr.tarihieser:
					case $.NearbyLangaugelist.en.tarihieser:
						$("span:first-child", this).html($.NearbyLangaugelist.current.tarihieser);
						break;
					case $.NearbyLangaugelist.tr.egitim:
					case $.NearbyLangaugelist.en.egitim:
						$("span:first-child", this).html($.NearbyLangaugelist.current.egitim);
						break;
					case $.NearbyLangaugelist.tr.diger:
					case $.NearbyLangaugelist.en.diger:
						$("span:first-child", this).html($.NearbyLangaugelist.current.diger)
				}
			})
		}
	},
	NearbyCheckListLoad: function() {
		var n = "";
		$("#nearbyCheckList input[type=checkbox]").each(function() {
			$(this).prop("checked") && $(this).attr("name") != "all" && (n += "," + $(this).attr("value"))
		});
		$.NearbyCheckedList = n.substring(1).toUpperCase()
	},
	NearbyTurnBackBtn: function() {
		$.NearbyMapClickState = !0;
		$("#nearbyCheck").css("display", "none");
		$("#nearbyContainer .footer").html("<div id='nearbyBackBtn' class='btn btn-success btn-xs'>" + $.NearbyLangaugelist.current.turnback + "<\/div>");
		$("#nearbyBackBtn").click(function() {
			$.NearbyMapClickState = !1;
			$($.NearbyResult).hide();
			$("#nearbyCheck").css("display", "block");
			$("#nearbyContainer .footer").html("<span class='label label-info pull-right'>" + $.NearbyLangaugelist.current.koordinateinfo + "<\/span>")
		})
	},
	NearbyEventMapClick: function(n) {
		var i = $.MapClass.forEachFeatureAtPixel(n.pixel, function(n) {
				return n
			}),
			t;
		i || ($.NearbyMapClickState && $("#nearbyContainer .footer").html("<div id='nearbyBackBtn' class='btn btn-success btn-xs'>Seçeneklere Geri Dön<\/div>"), t = $.MapToWGS84([n.coordinate[0], n.coordinate[1]]), $.NearbyMapClicked(t[0], t[1]))
	},
	NearbyMapClicked: function(n, t, i) {
		var r, u;
		$.NearbyActivated() && ($.NearbyClearMap(), $.MapLastClickedLocation[0] = n, $.MapLastClickedLocation[1] = t, $.MapClearVectorLayer($.NearbyFeature), r = $.MapAddMarker(n, t, "", "", {
			image: "images/markers/hedef.png",
			center: !0
		}), $.NearbyMarkers.push(r), ($.NearbyMapClickState || i) && (u = $($.NearbyDistance).val(), $.NearbyProcess(n, t, u), $.NearbyChangeState("default")))
	}
});
$.extend({
	LanguageSubmit: "",
	LanguageTextlist: {},
	LanguageState: "tr",
	LanguageInit: function(n) {
		$.LanguageSubmit = n;
		$.LanguageDefault();
		isMobile() && ($.LanguageLoadDataTR.bildirim = "Bildirim", $.LanguageLoadDataEN.bildirim = "Notification");
		$($.LanguageSubmit).click(function() {
			$.LanguageChange();
			$.PopupMenuLanguage();
			$.GeoLocationLangu();
			$.BilgiLanguage();
			$.FeedbackLanguage();
			$.NearbyLanguage();
			$.NetworkLanguage();
			$.DetailedLanguage();
			$.TrafficLanguage()
		})
	},
	LanguageChange: function() {
		$.LanguageGet() == "en-US" || $.LanguageGet() == null ? $.LanguageSet("tr") : $.LanguageSet("en-US")
	},
	LanguageLoadDataEN: function() {
		$.LanguageTextlist = {
			diltext: "TR",
			dil: "Türkçe",
			menu: "Menu",
			layer: "Base Layers",
			overlaymap: "Overlay Layers",
			panorama: "Panorama",
			yolanalizi: "Network Analysis",
			arama: "Search",
			eczane: "Pharmacies on Duty",
			kurban: "Slaughter Areas",
			spor: "Sport Facilities",
			sosyaltesis: "IBB Social Facilities",
			iletisim: "IBB Contact Points",
			wifi: "IBB Wifi Points",
			hikaye: "Story of Istanbul",
			nearby: "Nearby Me",
			hatabildir: "Feedback and Suggestions",
			kilavuz: "User Guide",
			hakkinda: "About",
			mapClear: "Clear",
			mapMeasurement: "Measurement",
			mapPrint: "Print",
			mapLocation: "Location",
			mapZoomIn: "ZoomIn",
			mapZoomOut: "ZoomOut",
			mapLine: "Line",
			mapArea: "Area",
			layername: "Map",
			networktextbox: "Please Enter Address",
			networkinfo: "Click a location on the map to specify the coordinates",
			searchclose: "Close",
			panaromawarningtitle: "WARNING",
			panaromawarningsubject: "Click On a Location For The Panoramic Images",
			warningtitle: "ERROR",
			warninginfo: "Unable to service !\nPlease try again later.",
			abouttitle: "ISTANBUL METROPOLITAN MANICIPALITY",
			aboutappname: "APPLICATION OF CITY MAP",
			aboutinfo: "All rights reserved. City Map App, by the Istanbul Metropolitan Municipality is intended to be used for information purposes. Can not be used in official transactions.",
			aboutversion: "Version 2.0",
			aboutdismiss: "Done",
			aboutinfofooter: "© 2016 Istanbul Metropolitan Municipality",
			mapreadytitle: "Map Loaded",
			mapreadyinfo: "Ready for Use",
			browserfaulty: "Your browser does not support this feature!",
			location: "Location",
			locationinfo: "You are here",
			permission: "Unable to determine location!",
			locationconnfaulty: "Your location information is not available",
			connctauthorization: "Timeout for approval of authorization requests",
			unknownerror: "Encountered an unknown error",
			resultnotfound: "Result not found",
			nearbyBusy: "Processing",
			bildirim: "Feedback and Suggestions",
			mobileLanguage: "Türkçe",
			mobileNetworkAnalysis: "Network Analsis",
			mobileNearby: "Nearby Me",
			mapCoordinate: "Coodinate System",
			bilgiAl: "Where is Here",
			detayliarama: "Detailed Search",
			searchBarUserGuide: "Ave/Street, No, Tistrict, Town",
			"searchDetayliÝlçe": "Enter Street Name",
			searchDetayliGateNumber: "Enter Gate Number",
			selectIbadet: "Temple",
			selectSaglik: "Health",
			selectEczane: "Pharmacy",
			selectKamu: "The Public",
			selectDurak: "Station",
			selecttarihieser: "Historical Vestige",
			selectEgitim: "Education",
			selectDiger: "Others",
			nearby: "Nearby Me",
			selectBank: "Bank",
			selectAll: "All",
			selectStartAnalys: "Start Analysis",
			searchExampleHead: "Search Examples",
			searchExampleOne: "Address Search Example",
			searchExampleSecond: "Important Place Search Example",
			searchExampleThirt: "Coordinate Search Example",
			layerswitcherHarita: "Map View",
			layerswitcherUydu: "Satellite View",
			popover: "Get Information",
			solar: "Solar Map (BW)",
			coloredSolar: "Solar Map (Colored)",
			solarsiyahbeyaztitle: "Solar Map(Black White)",
			basinBoundaries: "Basin Borders",
			lineway: "Rail Line",
			drawLine: "Distance",
			drawArea: "Area",
			isaretle: "Mark",
			share: "Share",
			car: "With vehicle",
			tubs: "With public transport",
			havzasinir: "Basin Boundaries",
			railway: "Rail Line",
			beyazMasa: "Beyaz Masa Contact",
			coordinateTye: "Coordinate System",
			trafficbutton: "Traffic",
			announcement: "Announcement"
		}
	},
	LanguageLoadDataTR: function() {
		$.LanguageTextlist = {
			diltext: "EN",
			dil: "English",
			menu: "Menü",
			layer: "Uydu Görüntüleri",
			overlaymap: "Katmanlar",
			panorama: "Panorama",
			yolanalizi: "Yol Analizi",
			arama: "Arama Yap",
			eczane: "Nöbetçi Eczaneler",
			kurban: "Kurban Kesim Alaný",
			spor: "Spor Tesisleri",
			sosyaltesis: "ÝBB Sosyal Tesisler",
			iletisim: "ÝBB Ýletiþim Noktalarý",
			wifi: "ÝBB Wifi Noktalarý",
			hikaye: "Ýstanbul Hikayeleri",
			nearby: "Yakýnýmda Ara",
			hatabildir: "Hata Bildirimi ve Öneri",
			kilavuz: "Kullaným Kýlavuzu",
			hakkinda: "Hakkýnda",
			mapClear: "Temizle",
			mapMeasurement: "Ölçüm",
			mapPrint: "Yazdýr",
			mapLocation: "Lokasyon",
			mapZoomIn: "Yaklaþtýr",
			mapZoomOut: "Uzaklaþtýr",
			mapLine: "Çizgi",
			mapArea: "Alan",
			layername: "Harita",
			networktextbox: "Lütfen bir adres girin",
			networkinfo: "Koordinat belirtmek için haritada bir yere týklayýn",
			searchclose: "Kapat",
			panaromawarningtitle: "UYARI",
			panaromawarningsubject: "Panoramik görüntüler için bir konuma týklayýnýz",
			warningtitle: "HATA",
			warninginfo: "Þuan hizmet veremiyoruz !\nLütfen daha sonra tekrar deneyiniz.",
			abouttitle: "ÝSTANBUL BÜYÜKÞEHÝR BELEDÝYESÝ",
			aboutappname: "ÞEHÝR HARÝTASI UYGULAMASI",
			aboutinfo: "Tüm hakký saklýdýr. Ýstanbul Büyükþehir Belediyesi tarafýndan bilgi amaçlý kullanýlmak üzere hazýrlanmýþtýr.Resmi iþlemlerde kullanýlamaz.",
			aboutversion: "Sürüm 2.0",
			aboutdismiss: "Tamam",
			aboutinfofooter: "© 2016 Ýstanbul Büyükþehir Belediyesi",
			mapreadytitle: "Harita yüklendi",
			mapreadyinfo: "Kullanýma Hazýr",
			browserfaulty: "Tarayýcýnýz bu iþlevi desteklemiyor !",
			location: "Konumunuz",
			locationinfo: "Buradasýnýz",
			permission: "Konum belirlenmiyor !",
			locationconnfaulty: "Konum bilginiz bu iþlev için kullanýlamýyor !",
			connctauthorization: "Bu iþlev için yetki onayý isteði zaman aþýmýna uðradý !",
			unknownerror: "Bilinmeyen bir ile karþýlaþýldý",
			resultnotfound: "Sonuç bulunamadý",
			nearbyBusy: "Ýþleminiz Yapýlýyor",
			bildirim: "Hata Bildirimi ve Önerileriniz",
			mobileLanguage: "English",
			mobileNetworkAnalysis: "Güzergah Analizi",
			mobileNearby: "Yakýnýmda Ara",
			mapCoordinate: "Koordinat Sistemi",
			bilgiAl: "Burasý Neresi",
			detayliarama: "Detaylý Arama",
			searchBarUserGuide: "Cad/Sokak, No, Mahalle, Ýlçe",
			"searchDetayliÝlçe": "Yol adý giriniz",
			searchDetayliGateNumber: "Kapý no giriniz",
			selectIbadet: "Ýbadethane",
			selectSaglik: "Saðlýk",
			selectEczane: "Eczane",
			selectKamu: "Kamu",
			selectDurak: "Durak",
			selecttarihieser: "Tarihi Eser",
			selectEgitim: "Eðitim",
			selectDiger: "Diðer",
			nearby: "Yakýnýmda Ara",
			selectBank: "Banka",
			selectAll: "Tümü",
			selectStartAnalys: "Analize Baþla",
			searchExampleHead: "Arama Örnekleri",
			searchExampleOne: "Adres Arama Örnekleri",
			searchExampleSecond: "Önemli Yer Arama Örnekleri",
			searchExampleThirt: "Koordinat Ýle Arama Örnekleri",
			layerswitcherHarita: "Harita Görünümü",
			layerswitcherUydu: "Uydu Görünümü",
			popover: "Bilgi Al",
			solar: "Solar Harita (SB)",
			coloredSolar: "Solar Harita (Renkli)",
			solarsiyahbeyaztitle: "Solar Harita(Siyah Beyaz)",
			basinBoundaries: "Havza Sýnýrlarý",
			lineway: "Raylý Sistem Hattý",
			drawLine: "Mesafe",
			drawArea: "Alan",
			isaretle: "iþaretle",
			share: "paylaþ",
			car: "Buraya araç ile",
			tubs: "Buraya toplu ulaþým ile",
			havzasinir: "Havza Sýnýrlarý",
			railway: "Raylý Sistem Hattý",
			beyazMasa: "Beyaz Masa Baþvuru",
			coordinateTye: "Koordinat Sistemi",
			trafficbutton: "Trafik",
			announcement: "Duyurular"
		}
	},
	LanguageGet: function() {
		return $.GetCookie("langu")
	},
	LanguageSetHtml: function() {
		$("#mapState #mapLanguage").attr("data-original-title", $.LanguageTextlist.dil);
		$("#mapState #mapLanguage").html($.LanguageTextlist.diltext);
		$("#navbar #menu").attr("data-original-title", $.LanguageTextlist.menu);
		$("#navbar #layers").attr("data-original-title", $.LanguageTextlist.layer);
		$("#navbar #panorama").attr("data-original-title", $.LanguageTextlist.panorama);
		$("#navbar #network").attr("data-original-title", $.LanguageTextlist.yolanalizi);
		$($.TrafficSubmit).attr("data-original-title", $.LanguageTextlist.trafficbutton);
		$($.TrafficShowHide).attr("data-original-title", $.LanguageTextlist.announcement);
		$($.TrafficResult + " .trafik-header div").html($.LanguageTextlist.announcement);
		$("#mapMeasureSelect #mapLine").attr("data-original-title", $.LanguageTextlist.drawLine);
		$("#mapMeasureSelect #mapArea").attr("data-original-title", $.LanguageTextlist.drawArea);
		$("#overlaymaps").attr("data-original-title", $.LanguageTextlist.overlaymap);
		$("#searchbar #search").attr("data-original-title", $.LanguageTextlist.arama);
		$("#searchbar #detailedSearch").attr("data-original-title", $.LanguageTextlist.detayliarama);
		$("#menuContainer [data-mode= NobetciEczaneler]").html($.LanguageTextlist.eczane);
		$("#menuContainer [data-mode= SporTesisleri]").html($.LanguageTextlist.spor);
		$("#menuContainer [data-mode= SosyalTesisler]").html($.LanguageTextlist.sosyaltesis);
		$("#menuContainer [data-mode= IletisimNoktalari]").html($.LanguageTextlist.iletisim);
		$("#menuContainer [data-mode= WifiNoktalari]").html($.LanguageTextlist.wifi);
		$("#menuContainer [data-mode= KurbanYerleri]").html($.LanguageTextlist.kurban);
		$("#menuContainer #istanbulHikayeleri").html($.LanguageTextlist.hikaye);
		$("#menuContainer #nearby").html($.LanguageTextlist.nearby);
		$("#menuContainer #hatabildir").html($.LanguageTextlist.hatabildir);
		$("#menuContainer #bilgiAL").html($.LanguageTextlist.bilgiAl);
		$("#searchbar input").attr("placeholder", $.LanguageTextlist.searchBarUserGuide);
		$("#detailedSearchContainer #txtDtlSearchedYol").attr("placeholder", $.LanguageTextlist.searchDetayliÝlçe);
		$("#detailedSearchContainer #txtDtlSearchedKapi").attr("placeholder", $.LanguageTextlist.searchDetayliGateNumber);
		$("#detailedSearchContainer #yolClear").attr("title", $.LanguageTextlist.mapClear);
		$("#detailedSearchContainer #kapiClear").attr("title", $.LanguageTextlist.mapClear);
		$("#beyazmasaLogo").attr("title", $.LanguageTextlist.beyazMasa);
		$("#solarSiyahBeyaz").attr("title", $.LanguageTextlist.solarsiyahbeyaztitle);
		$(".markertoolbar .isaretle").attr("title", $.LanguageTextlist.isaretle);
		$(".markertoolbar .share").attr("title", $.LanguageTextlist.share);
		$(".markertoolbar .icon-otomobil").attr("title", $.LanguageTextlist.car);
		$(".markertoolbar .icon-otobus").attr("title", $.LanguageTextlist.tubs);
		$("#menuContainer #kilavuz").html($.LanguageTextlist.kilavuz);
		$("#menuContainer #hakkinda").html($.LanguageTextlist.hakkinda);
		$("#menuContainer #havzaSinirlari").html($.LanguageTextlist.havzasinir);
		$("#menuContainer #rayliSistemler").html($.LanguageTextlist.railway);
		$("#mapControls #mapClear").attr("data-original-title", $.LanguageTextlist.mapClear);
		$("#mapControls #mapMeasurement").attr("data-original-title", $.LanguageTextlist.mapMeasurement);
		$("#mapControls #mapPrint").attr("data-original-title", $.LanguageTextlist.mapPrint);
		$("#mapControls #mapLocation").attr("data-original-title", $.LanguageTextlist.mapLocation);
		$("#mapControls #mapZoomIn").attr("data-original-title", $.LanguageTextlist.mapZoomIn);
		$("#mapControls #mapZoomOut").attr("data-original-title", $.LanguageTextlist.mapZoomOut);
		$(" #CoordinateConvertBtn").attr("data-original-title", $.LanguageTextlist.coordinateTye);
		$("#layersContainer ul > li:first-child ").html($.LanguageTextlist.layername);
		$("#networkContainer #startLocation").attr("placeholder", $.LanguageTextlist.networktextbox);
		$("#networkContainer #finishLocation").attr("placeholder", $.LanguageTextlist.networktextbox);
		$("#networkContainer .footer > span").text($.LanguageTextlist.networkinfo);
		$("#processbar #processClose").attr("title", $.LanguageTextlist.searchclose);
		$("#alertContainer b").text($.LanguageTextlist.panaromawarningtitle);
		$("#alertContainer p").text($.LanguageTextlist.panaromawarningsubject);
		$("#messageContainer .modal-footer>div").html($.LanguageTextlist.searchclose);
		$("#aboutContainer .modal-header h4").text($.LanguageTextlist.hakkinda);
		$("#aboutContainer .modal-body .row:last-child h3").text($.LanguageTextlist.abouttitle);
		$("#aboutContainer .modal-body .row:last-child h4").text($.LanguageTextlist.aboutappname);
		$("#aboutContainer .modal-body .row:last-child small").text($.LanguageTextlist.aboutversion);
		$("#aboutContainer .modal-body .row:last-child p:first").text($.LanguageTextlist.aboutinfo);
		$("#aboutContainer .modal-body .row:last-child p:last").text($.LanguageTextlist.aboutinfofooter);
		$("#aboutContainer .modal-footer > div").html($.LanguageTextlist.aboutdismiss);
		$("#nearbyBusy").html($.LanguageTextlist.nearbyBusy);
		$("#networkAnalysis span:first-child").html($.LanguageTextlist.mobileNetworkAnalysis);
		$("#baslicaYerler #nearby").html($.LanguageTextlist.mobileNearby);
		$("#nearbyCheckList .checkbox input[name='all']").next("span").text($.LanguageTextlist.selectAll);
		$("#nearbyCheckList .checkbox input[name='ibadet']").next("span").text($.LanguageTextlist.selectIbadet);
		$("#nearbyCheckList .checkbox input[name='saglik']").next("span").text($.LanguageTextlist.selectSaglik);
		$("#nearbyCheckList .checkbox input[name='eczane']").next("span").text($.LanguageTextlist.selectEczane);
		$("#nearbyCheckList .checkbox input[name='kamu']").next("span").text($.LanguageTextlist.selectKamu);
		$("#nearbyCheckList .checkbox input[name='tarihieser']").next("span").text($.LanguageTextlist.selecttarihieser);
		$("#nearbyCheckList .checkbox input[name='egitim']").next("span").text($.LanguageTextlist.selectEgitim);
		$("#nearbyCheckList .checkbox input[name='banka']").next("span").text($.LanguageTextlist.selectBank);
		$("#nearbyCheckList .checkbox input[name='diger']").next("span").text($.LanguageTextlist.selectDiger);
		$("#nearbyContainer #nearbycheckbtn").text($.LanguageTextlist.selectStartAnalys);
		$("#nearbyCheckList div b").text($.LanguageTextlist.nearby);
		$("#mobileLanguage").html($.LanguageTextlist.mobileLanguage);
		$("#searchExampleHead b").text($.LanguageTextlist.searchExampleHead);
		$("#searchExampleFirst b").text($.LanguageTextlist.searchExampleOne);
		$("#searchExampleSecond b").text($.LanguageTextlist.searchExampleSecond);
		$("#searchExampleThirt b").text($.LanguageTextlist.searchExampleThirt);
		$("#inlineOverlaymapsContainer #inBasinBoundaries").text($.LanguageTextlist.basinBoundaries);
		$("#inlineOverlaymapsContainer #inLineway").text($.LanguageTextlist.lineway);
		$("#solarSiyahBeyaz").text($.LanguageTextlist.solar);
		$("#solarHarita").text($.LanguageTextlist.coloredSolar);
		$("#overlaymapsContainer #basinBoundaries").text($.LanguageTextlist.basinBoundaries);
		$("#overlaymapsContainer #lineway").text($.LanguageTextlist.lineway);
		$.MapLayerState == "Harita" ? $("#mapSwitch").attr("data-original-title", $.LanguageTextlist.layerswitcherUydu) : $("#mapSwitch").attr("data-original-title", $.LanguageTextlist.layerswitcherHarita)
	},
	LanguageSet: function(n) {
		$.SetCookie("langu", n);
		$.LanguageState = n;
		n == "tr" ? $.LanguageLoadDataTR() : $.LanguageLoadDataEN();
		$.LanguageSetHtml()
	},
	LanguageDefault: function() {
		$.LanguageGet() == "en-US" || $.LanguageGet() == null ? ($.SetCookie("langu", "en-US"), $.LanguageState = "en-US") : ($.SetCookie("langu", "tr"), $.LanguageState = "tr")
	},
	SetCookie: function(n, t, i) {
		var r, u;
		i ? (r = new Date, r.setTime(r.getTime() + i * 864e5), u = "; expires=" + r.toGMTString()) : u = "";
		document.cookie = n + "=" + t + u + "; path=/"
	},
	GetCookie: function(n) {
		for (var t, r = n + "=", u = document.cookie.split(";"), i = 0; i < u.length; i++) {
			for (t = u[i]; t.charAt(0) == " ";) t = t.substring(1, t.length);
			if (t.indexOf(r) == 0) return t.substring(r.length, t.length)
		}
		return null
	}
});
$.extend({
	HikayeContainer: "",
	HikayeSubmit: "",
	HikayeIcerikPanel: "",
	HikayeMenuItem: "",
	HikayeStroyNum: 0,
	HikayeContentItem: "",
	HikayeMarkers: [],
	HikayeFeature: [],
	HikayeAktif: !1,
	HikayeInit: function(n, t, i, r, u) {
		$.HikayeContainer = n;
		$.HikayeSubmit = t;
		$.HikayeIcerikPanel = i;
		$.HikayeMenuItem = r;
		$.HikayeContentItem = u;
		var f = [],
			e = [];
		$($.HikayeSubmit).click(function() {
			$.ProcessClose();
			$($.HikayeContainer + " .hikayeToolbar > div").hide();
			$($.HikayeContainer + " .hikayeToolbar > .return").show();
			$($.HikayeContainer).show(400);
			$.HikayeSonucBul(0, function(n) {
				var i, t;
				f = [];
				i = "";
				for (t in n) {
					var r = n[t].IMGURL,
						u = n[t].YERID,
						o = n[t].YERADI;
					i += $.HikayeMenuItem.format([t, u, r, o]);
					f.push(n[t])
				}
				$($.HikayeContainer + " .index").html(i);
				$($.HikayeContainer + " div[data-story]").click(function() {
					var n = $(this).attr("data-index"),
						t = $.HikayeStroyNum = $(this).attr("data-story");
					$.HikayeSonucBul(t, function(i) {
						var u = 12,
							o = $.HikayeContentItem.format([0, f[n].LON, f[n].LAT, u, f[n].IMGURL, f[n].YERADI, f[n].HTMLICERIK]),
							r;
						u = 14;
						for (r in i) {
							var s = i[r].IMGURL,
								h = i[r].HTMLICERIK,
								c = i[r].LAT,
								l = i[r].LON,
								a = i[r].YERADI;
							o += $.HikayeContentItem.format([parseInt(r) + 1, l, c, u, s, a, h])
						}
						$($.HikayeIcerikPanel).html(o);
						$($.HikayeContainer + " .index").fadeOut(400, function() {
							$($.HikayeIcerikPanel).fadeIn(400, function() {
								e = [];
								$($.HikayeContainer + " .hikayeToolbar > div").show();
								$($.HikayeIcerikPanel + " > div[data-level]").each(function() {
									var n = $(this).attr("data-level"),
										i = $(this).attr("data-lon"),
										r = $(this).attr("data-lat"),
										f = $(this).attr("data-img"),
										u = $($.HikayeIcerikPanel + " > div[data-level=" + n + "] > div:last-child > h1").html(),
										o = $($.HikayeContainer + " .index div[data-story=" + t + "] h3").html(),
										s = "<b>" + u + '<\/b><br/><img src="' + f + '" alt="" width="150" class="thumbnail" />';
									n > 0 && ($.AddMarkerStory(n, i, r, o, s, function() {
										$.HikayeGotoStory(n, !1)
									}), e.push({
										lon: i,
										lat: r,
										title: u,
										level: n
									}))
								});
								$.HikayeGotoStory(0, !0);
								$.HikayeDrawPath(e)
							})
						})
					})
				});
				$.HikayeAktif = !0
			}, function() {
				$.ModalError($.LanguageTextlist.warningtitle, $.LanguageTextlist.warninginfo)
			})
		});
		$($.HikayeContainer + " .hikayeToolbar > .back").click(function() {
			$($.HikayeContainer + " .hikayeToolbar > div").hide();
			$($.HikayeIcerikPanel).fadeOut(400, function() {
				$($.HikayeContainer + " .index").fadeIn(400, function() {
					$($.HikayeContainer + " .hikayeToolbar > .return").show()
				})
			});
			$.HikayeClearMap()
		});
		$($.HikayeContainer + " .hikayeToolbar > .return").click(function() {
			$($.HikayeContainer + " .hikayeToolbar > div").hide();
			$($.HikayeContainer + " .index").show();
			$($.HikayeIcerikPanel).hide();
			$($.HikayeContainer).hide();
			$.HikayeTemizle();
			$.HikayeAktif = !1
		});
		$($.HikayeContainer + " .hikayeToolbar > .prev").click(function() {
			var n = parseInt($($.HikayeIcerikPanel + " > div[data-level]:visible").attr("data-level")),
				t = parseInt($($.HikayeIcerikPanel + " >  div[data-level]:last-child").attr("data-level"));
			n--;
			n < 0 && (n = t);
			$.HikayeGotoStory(n, !0)
		});
		$($.HikayeContainer + " .hikayeToolbar > .next").click(function() {
			var n = parseInt($($.HikayeIcerikPanel + " > div[data-level]:visible").attr("data-level")),
				t = parseInt($($.HikayeIcerikPanel + "> div[data-level]:last-child").attr("data-level"));
			n++;
			n > t && (n = 0);
			$.HikayeGotoStory(n, !0)
		});
		$($.HikayeContainer + " .hikayeToolbar > .share").click(function() {
			var i = parseInt($($.HikayeIcerikPanel + " > div[data-level]:visible").attr("data-level")),
				n = $($.HikayeIcerikPanel + " > div[data-level=" + i + "]").attr("data-lon"),
				t = $($.HikayeIcerikPanel + "> div[data-level=" + i + "]").attr("data-lat"),
				r, u, e, o, f;
			n = parseFloat(n);
			t = parseFloat(t);
			$.MapGetCoordinateType() == "TUREF" && (r = $.MapWGS84ToITRF(n, t), n = r.x, t = r.y);
			u = "http://sehirharitasi.ibb.gov.tr/?bs=hikaye&sn=" + $.HikayeStroyNum + "&l=" + i;
			e = '<div class="sosyalmedya" data-url="' + u + '" ><div class="icon-facebook1" onclick="$.PopoverFacebook(this);"> <\/div><div class="icon-twitter1" onclick="$.PopoverTwitter(this);"> <\/div><div class="icon-link" data-target="#urlpaylas" onclick="$.PopoverUrlShare(this);"> <\/div><\/div><div id="urlpaylas"  ><input class="collapse" type="text" value="' + u + '"><\/input><\/div>';
			$(this).popover({
				title: "",
				content: e,
				placement: "bottom",
				container: "body",
				html: !0,
				trigger: "manuel"
			});
			$("body > div.popover").length > 0 && (o = $(this).attr("aria-describedby"), f = $("body > div.popover").attr("id"), f != o && $("[aria-describedby=" + f + "]").popover("hide"));
			$(this).popover("show")
		})
	},
	HikayeDrawPath: function(n) {
		var t = "",
			i, r, u, f;
		for (i in n) r = n[i].lon, u = n[i].lat, t += "," + r + " " + u;
		t = t.substr(1);
		t = "LINESTRING(" + t + ")";
		$.HikayeFeature.push($.MapDrawLineString(t, {
			strokeWidth: 8,
			strokeColor: "#fff",
			strokeOpacity: .9
		}));
		$.HikayeFeature.push($.MapDrawLineString(t, {
			strokeWidth: 7,
			strokeColor: "#2AABE3",
			strokeOpacity: .8,
			strokeDashstyle: "5 10",
			lineCap: "square"
		}));
		f = $.MapGetExtentArrayWKT(t, !0);
		$.MapGotoExtentWithArray(f);
		setTimeout(function() {
			var n = parseInt($($.HikayeContainer).css("width").replace("px", "")) / 2;
			$.MapMoveWithPixel({
				x: n
			})
		}, 100)
	},
	AddMarkerStory: function(n, t, i, r, u, f) {
		t = parseFloat(t);
		i = parseFloat(i);
		var e = $.MapAddMarker(t, i, r, u, {
			click: function() {
				f()
			}
		});
		$.HikayeMarkers.push(e);
		$($.MapContainer + " img#" + e + "_innerImage").attr("data-level", n)
	},
	HikayeGotoStory: function(n, t) {
		if ($($.HikayeIcerikPanel + "> div[data-level]").hide(), $($.HikayeIcerikPanel + "> div[data-level=" + n + "]").show(), t) {
			var i = $($.HikayeIcerikPanel + " > div[data-level=" + n + "]").attr("data-lon"),
				r = $($.HikayeIcerikPanel + "> div[data-level=" + n + "]").attr("data-lat"),
				u = $($.HikayeIcerikPanel + "> div[data-level=" + n + "]").attr("data-zoom");
			i = parseFloat(i);
			r = parseFloat(r);
			$.MapGoto(i, r, u)
		}
		$($.MapContainer + " img[data-level]").attr("src", "images/markers/location.png");
		$($.MapContainer + " img[data-level=" + n + "]").attr("src", "images/markers/locationRed.png")
	},
	HikayeTemizle: function() {
		$.HikayeClearMap();
		$("#isthikaye .back, #isthikaye .return, #isthikaye .prev, #isthikaye .next").hide();
		$("#isthikaye").animate({
			right: "-45%"
		}, 500, function() {
			$("#isthikaye").hide();
			$($.HikayeContainer).show();
			$($.HikayeIcerikPanel).hide();
			$($.HikayeIcerikPanel + " > div[data-level]").hide();
			for (var n in visibleElements) $(visibleElements[n]).fadeIn(250)
		})
	},
	HikayeSonucBul: function(n, t, i) {
		var r = "TR";
		$.LanguageGet() == "en-US" && (r = "EN");
		$.ajax({
			type: "GET",
			url: "http://cbsproxy.ibb.gov.tr/?istanbulhikayesiws",
			data: "parentid=" + n + "&dil=" + r,
			crossDomain: !0,
			success: function(n) {
				var i = n.ArrayOfIstanbulHikayesi !== null && n.ArrayOfIstanbulHikayesi.IstanbulHikayesi !== null ? n.ArrayOfIstanbulHikayesi.IstanbulHikayesi : [];
				t && t(i)
			},
			error: function() {
				i && i(data)
			}
		})
	},
	HikayeClearMap: function() {
		for (var n = 0; n < $.HikayeMarkers.length; n++) $.MapClearMarkers($.HikayeMarkers[n]);
		for ($.HikayeMarkers = [], n = 0; n < $.HikayeFeature.length; n++) $.MapClearVectorLayer($.HikayeFeature[n]);
		$.HikayeFeature = [];
		$.MapRemovePopover()
	}
});
$.extend({
	GeoLocationMarker: "",
	GeoLocationSuccess: function(n) {
		$.GeoLocationClear();
		var t = n.coords.longitude,
			i = n.coords.latitude;
		$.MapGoto(t, i);
		$.MapLocatorMarker = $.MapAddMarker(t, i, $.LanguageTextlist.location, $.LanguageTextlist.locationinfo, {
			toolbar: !0,
			click: function() {},
			image: "images/markers/konumbelirteci.png",
			size: {
				w: 37,
				h: 37
			},
			center: !0
		})
	},
	GeoLocationError: function(n) {
		$("#mapLocation").removeClass("active");
		switch (n.code) {
			case n.PERMISSION_DENIED:
				$.ModalError($.LanguageTextlist.warningtitle, $.LanguageTextlist.permission);
				break;
			case n.POSITION_UNAVAILABLE:
				$.ModalError($.LanguageTextlist.warningtitle, $.LanguageTextlist.locationconnfaulty);
				break;
			case n.TIMEOUT:
				$.ModalError($.LanguageTextlist.warningtitle, $.LanguageTextlist.connctauthorization);
				break;
			case n.UNKNOWN_ERROR:
				$.ModalError($.LanguageTextlist.warningtitle, $.LanguageTextlist.unknownerror)
		}
	},
	GeoLocationLangu: function() {
		if ($("#mapLocation").hasClass("active")) {
			var n = $("#" + $.MapLocatorMarker).attr("aria-describedby");
			$("#" + n + " .popover-title").text($.LanguageTextlist.location);
			$("#" + n + " .popover-content").html($.LanguageTextlist.locationinfo)
		}
	},
	GeoLocationClear: function() {
		$("#" + $.markerID).popover("hide");
		$.MapClearMarkers($.MapLocatorMarker)
	},
	GeoGetLocation: function(n, t) {
		navigator.geolocation ? navigator.geolocation.getCurrentPosition(n, t) : t && t()
	}
});
$.extend({
	FeedbackContainer: "",
	FeedbackStarPanel: "",
	FeedbackKoordinatPanel: "",
	FeedbackHataTuruPanel: "",
	FeedbackTextlist: {},
	FeedbackLangaugelist: {},
	FeedbackBeyazMasaTakip: "",
	FeedbackInit: function(n, t, i, r) {
		$.FeedbackContainer = n;
		$.FeedbackStarPanel = t;
		$.FeedbackKoordinatPanel = i;
		$.FeedbackHataTuruPanel = r;
		$($.FeedbackContainer).draggable({
			cursor: "move"
		});
		$($.FeedbackStarPanel + " [data-star]").click(function() {
			var t = $(this).attr("data-star"),
				n;
			for ($($.FeedbackStarPanel + " [data-star]").addClass("btn-success"), n = 1; n <= 5; n++) n > t && $($.FeedbackStarPanel + " [data-star=" + n + "]").removeClass("btn-success");
			$($.FeedbackContainer + " form #fdstars").val(t)
		});
		$.FeedbackLangaugelist = {
			tr: {
				notificationtype: '   <optgroup label="Uygulama Hakkýnda"><option>Uygulama Önerisi<\/option><option>Uygulama Hatasý<\/option><\/optgroup><optgroup label="Veri Hakkýnda"><option>Ýsim Hatasý<\/option><option>Konum Hatasý<\/option><option>Haritada Olmamalý<\/option><option>Haritada Yok<\/option><option>Diðer<\/option><\/optgroup>',
				feedbackheader: "Hata Bildirimi ve Önerileriniz",
				bildirimturu: "Bildirim Türü",
				koordinateinfo: "Koordinat belirtmek için haritada bir yere týklayýn",
				feedbackclose: "Kapat",
				feedbacksubmit: "Gönder",
				feedbackname: "Ad",
				feedbacklastname: "Soyad",
				feedbackmail: "E-Posta",
				feedbackcommet: "Açýklama",
				feedbackwarningtitle: "Hata",
				feedbackwarningsubject: "Þehri Haritasý Ýçin Oy Kullanýnýz!",
				feedbackwarningmail: "E-Posta adresini kontrol ediniz!",
				feedbacksuccesstitle: "ÝÞLEM TAMAMLANDI",
				feedbacksuccessinfo: "Kaydýnýz alýndý. Geri bildiriminiz için teþekkürler",
				feedbackfollowsecurity: "Baþvuru güvenlik kodu:<br/> ",
				feedbackfollownumber: "Baþvuru takip numarasý:<br/> ",
				feedbackfolloinfo: "Baþvurunuzu <a href='https://beyazmasa.ibb.gov.tr'>Beyaz Masa baþvuru takip <\/a>sayfasýndan takip edebilirsiniz",
				feedbackregistererror: "Baþvurunuz alýnamadý. Lütfen daha sonra tekrar deneyiniz!",
				feedbackMinimize: "Küçült"
			},
			en: {
				notificationtype: '<optgroup label="About Appication"><option>Application Suggest<\/option><option>Application Error<\/option><\/optgroup><optgroup label="About Data"><option>Name Faulty<\/option><option>Locaiton Faulty<\/option><option>Sould not be on Map<\/option><option>Does not Exist<\/option><option>Other<\/option><\/optgroup>',
				feedbackheader: "Feedback and Suggestions",
				bildirimturu: "Notification type",
				koordinateinfo: "Click a point to specify the coordinates",
				feedbackclose: "Close",
				feedbacksubmit: "Send",
				feedbackname: "Name",
				feedbacklastname: "Lastname",
				feedbackmail: "E-Mail",
				feedbackcommet: "Comment",
				feedbackwarningtitle: "Error",
				feedbackwarningsubject: "Vote For New City Guide!",
				feedbackwarningmail: "Please Check E-mail Adress",
				feedbacksuccesstitle: "PROCESS COMPLETED",
				feedbacksuccessinfo: "Retrieved your registration.Thank you for your feedback",
				feedbackfollowsecurity: "Your feedback security number is:<br/> ",
				feedbackfollownumber: "Your feedback follow number is:<br/> ",
				feedbackfolloinfo: "You can follow your register from <a href='http://beyazmasa.ibb.gov.tr'>White Office <\/a> address",
				feedbackregistererror: "Failed to get registration. Please try again later!",
				feedbackMinimize: "Minimize"
			},
			current: {},
			change: function() {
				this.current = $.LanguageGet() == "tr" || $.LanguageGet() === null ? this.tr : this.en
			}
		};
		isMobile() && ($.FeedbackLangaugelist.tr.feedbackheader = "Bildirim", $.FeedbackLangaugelist.en.feedbackheader = "Notification");
		$.FeedbackLanguage();
		$($.FeedbackContainer + " form").submit(function() {
			var n, t;
			return $.FeedbackKoordinateChange(), $($.FeedbackContainer + " form #fdlanguage").val("TR"), $($.FeedbackStarPanel).is(":visible") || $($.FeedbackContainer + " form #fdstars").val(""), n = $($.FeedbackContainer + " form #fdstars").val(), n === "" ? ($.ModalError($.FeedbackLangaugelist.current.feedbackwarningtitle, $.FeedbackLangaugelist.current.feedbackwarningsubject), !1) : (t = $($.FeedbackContainer + " form #fdmail").val(), $.CheckEmail(t) ? ($.ModalWaitingShow(), $("#feedbackiframe").load(function() {
				var i = $("#feedbackiframe").contents().find("body"),
					n = i.html(),
					t;
				n != "0" ? ($.FeedbackBeyazMasaTakip = n.split(","), t = "<div>" + $.FeedbackLangaugelist.current.feedbacksuccessinfo + "<\/div><div>" + $.FeedbackLangaugelist.current.feedbackfollowsecurity + "<b>" + $.FeedbackBeyazMasaTakip[0] + "<\/b><\/div><div>" + $.FeedbackLangaugelist.current.feedbackfollownumber + "<b>" + $.FeedbackBeyazMasaTakip[1] + "<\/b><\/div><div>" + $.FeedbackLangaugelist.current.feedbackfolloinfo + "<\/div>", $.ModalWaitingHide(), $($.FeedbackContainer + " form #fdstars").val(""), $($.FeedbackStarPanel + " [data-star]").removeClass("btn-success"), $("#feedbackform  #resetform").click(), $.ModalSuccess($.FeedbackLangaugelist.current.feedbacksuccesstitle, t)) : ($.ModalWaitingHide(), $.ModalError($.FeedbackLangaugelist.current.feedbackwarningtitle, $.FeedbackLangaugelist.current.feedbackregistererror))
			}), !0) : ($.ModalError($.FeedbackLangaugelist.current.feedbackwarningtitle, $.FeedbackLangaugelist.current.feedbackwarningmail), !1))
		});
		$.MapLoader.push(function() {
			$.MapEventRegister("click", $.FeedbackEventMapClick);
			$.MapEventRegister("touchend", $.FeedbackEventMapClick)
		})
	},
	CheckEmail: function(n) {
		return /^([a-zA-Z0-9_.-])+@([a-zA-Z0-9_.-])+\.([a-zA-Z])+([a-zA-Z])+/.test(n) ? !0 : !1
	},
	FeedbackKoordinateChange: function() {
		var n = parseFloat($($.FeedbackContainer + " #koordinatPanel #fdcrdntlon").val()),
			t = parseFloat($($.FeedbackContainer + " #koordinatPanel #fdcrdntlat").val()),
			i;
		isNaN(n) || isNaN(t) || ($.MapGetCoordinateType() == "WGS84" && $.isITRF(n) != 6 && (i = $.MapWGS84ToITRF(n, t), n = i.x, t = i.y), $($.FeedbackKoordinatPanel).is(":visible") && ($($.FeedbackContainer + " #fdcrdntlon").val(n), $($.FeedbackContainer + " #fdcrdntlat").val(t)))
	},
	FeedbackEventMapClick: function(n) {
		var t = $.MapToWGS84([n.coordinate[0], n.coordinate[1]]),
			r = t[0],
			u = t[1],
			i;
		$.MapGetCoordinateType() == "TUREF" && (i = $.MapWGS84ToITRF(t[0], t[1]), r = i.x, u = i.y);
		$($.FeedbackKoordinatPanel).is(":visible") && ($($.FeedbackContainer + " #fdcrdntlon").val(r), $($.FeedbackContainer + " #fdcrdntlat").val(u))
	},
	FeedbackClearForm: function() {
		$($.FeedbackContainer + " #fdlastname").val("");
		$($.FeedbackContainer + " #fdname").val("");
		$($.FeedbackContainer + " #starPanel .btn-group div").removeClass("btn-success");
		$($.FeedbackContainer + " #fdmail").val("");
		$($.FeedbackContainer + " #fdsuggest").val("");
		$($.FeedbackContainer + " form #fdstars").val("");
		$($.FeedbackContainer + " #fdcrdntlon").val("");
		$($.FeedbackContainer + " #fdcrdntlat").val("")
	},
	FeedbackLanguage: function() {
		$.FeedbackLangaugelist.change();
		$("#feedbackContainer #koordinatPanel span").text($.FeedbackLangaugelist.current.koordinateinfo);
		$("#hataturuPanel label").text($.FeedbackLangaugelist.current.bildirimturu);
		$("#hataturuPanel #hataturu").html($.FeedbackLangaugelist.current.notificationtype);
		$(".feedback-footer div").html($.FeedbackLangaugelist.current.feedbackclose);
		$(".feedback-footer button").text($.FeedbackLangaugelist.current.feedbacksubmit);
		$(".feedback-body #fdname").attr("placeholder", $.FeedbackLangaugelist.current.feedbackname);
		$(".feedback-body #fdlastname").attr("placeholder", $.FeedbackLangaugelist.current.feedbacklastname);
		$(".feedback-body #fdmail").attr("placeholder", $.FeedbackLangaugelist.current.feedbackmail);
		$(".feedback-body textarea").attr("placeholder", $.FeedbackLangaugelist.current.feedbackcommet);
		$("#feedbackContainer").hasClass("in") && $("#toolbar #processbar > div:first-child").html($.FeedbackLangaugelist.current.feedbackheader);
		$("#processClose span:first-child").attr("title", $.FeedbackLangaugelist.current.feedbackMinimize)
	}
});
$.extend({
	BilgiResult: "",
	BilgiSubmit: "",
	BilgiFilter: "",
	BilgiItem: "",
	BilgiMode: "",
	BilgiMarkerHover: "",
	BilgiMarkers: [],
	BilgiLastClickedMarker: "",
	BilgiLanguageList: {},
	BilgiInit: function(n, t, i, r) {
		$.BilgiResult = n;
		$.BilgiSubmit = t;
		$.BilgiFilter = i;
		$.BilgiItem = r;
		$($.BilgiSubmit).click(function() {
			var n = $(this).attr("data-mode"),
				t;
			$.BilgiMode = n;
			$("#ilceler > option").remove();
			$.BilgiIlcelerBind(n, $($.BilgiFilter + " select"));
			$($.BilgiFilter + " select").val("-1");
			t = $($.BilgiFilter + " select").val();
			$.BilgiProcess(n, t);
			setTimeout(function() {
				$($.BilgiSubmit.replace("data-mode", "data-mode=" + n)).addClass("active")
			}, 1)
		});
		$($.BilgiFilter + " select").change(function() {
			var t = $.BilgiMode,
				n = $($.BilgiFilter + " select").val(),
				i = $($.BilgiFilter + " option:selected").text() + " ÝLÇESÝ";
			n == -1 ? $.MapGoto(29.00034, 41.027746, 11) : $.SearchAutoComplete(i, function(n) {
				n[0].LON && $.MapGoto(parseFloat(n[0].LON), parseFloat(n[0].LAT), 13)
			}, function() {
				$.ModalError($.LanguageTextlist.warningtitle, $.LanguageTextlist.warninginfo)
			});
			$.BilgiProcess(t, n)
		});
		$.BilgiLanguageList = {
			tr: {
				eczane: "Nöbetçi Eczaneler",
				spor: "Spor Tesisleri",
				sosyaltesis: "Sosyal Tesisler",
				iletisim: "ÝBB Ýletiþim Noktalarý",
				wifi: "ÝBB Wifi Noktalarý",
				kurban: "Kurban Kesim Alaný",
				modalerrortitle: "HATA",
				modalerrorsubject: "Þuan hizmet veremiyoruz !\nLütfen daha sonra tekrar deneyiniz",
				ilce: "Tüm Ýlçeler"
			},
			en: {
				eczane: "Pharmacies on Duty",
				spor: "Sport Facilities",
				sosyaltesis: "IBB Social Facilities",
				iletisim: "IBB Contact Points",
				wifi: "IBB Wifi Points",
				kurban: "Slaughter Areas",
				modalerrortitle: "ERROR",
				modalerrorsubject: "Now we can not service! Please try again later",
				ilce: "All towns"
			},
			current: {},
			change: function() {
				this.current = $.LanguageGet() == "tr" || $.LanguageGet() === null ? this.tr : this.en
			}
		};
		$.BilgiLanguage();
		$(window).resize(function() {
			if ($.BilgiActivated()) {
				var n = innerHeight,
					t = parseInt($("#toolbar").css("height").replace("px", ""));
				n = n - (55 + t + 60);
				$($.BilgiResult).animate({
					"max-height": n + "px"
				})
			}
		})
	},
	BilgiLanguage: function() {
		var n = $.BilgiMode;
		if ($.BilgiLanguageList.change(), $.BilgiActivated()) {
			$("#bilgiContainer #tumilceler").html($.BilgiLanguageList.current.ilce);
			$("#bilgiResult ul > li:first-child").html($.BilgiLanguageList.current.eczane);
			switch (n) {
				case "NobetciEczaneler":
					$("#toolbar #processbar > div:first-child").html($.BilgiLanguageList.current.eczane);
					break;
				case "SporTesisleri":
					$("#toolbar #processbar > div:first-child").html($.BilgiLanguageList.current.spor);
					break;
				case "SosyalTesisler":
					$("#toolbar #processbar > div:first-child").html($.BilgiLanguageList.current.sosyaltesis);
					break;
				case "IletisimNoktalari":
					$("#toolbar #processbar > div:first-child").html($.BilgiLanguageList.current.iletisim);
					break;
				case "WifiNoktalari":
					$("#toolbar #processbar > div:first-child").html($.BilgiLanguageList.current.wifi)
			}
		}
	},
	BilgiProcess: function(n, t) {
		var i = "",
			r = "";
		switch (n) {
			case "NobetciEczaneler":
				r = $.BilgiLanguageList.current.eczane;
				i = "http://cbsproxy.ibb.gov.tr/?eczanews";
				break;
			case "SporTesisleri":
				r = $.BilgiLanguageList.current.spor;
				i = "http://cbsproxy.ibb.gov.tr/?sportesisleriws";
				break;
			case "SosyalTesisler":
				r = $.BilgiLanguageList.current.sosyaltesis;
				i = "http://cbsproxy.ibb.gov.tr/?sosyaltesisws";
				break;
			case "IletisimNoktalari":
				r = $.BilgiLanguageList.current.iletisim;
				i = "http://cbsproxy.ibb.gov.tr/?iletisimnoktalariws";
				break;
			case "WifiNoktalari":
				r = $.BilgiLanguageList.current.wifi;
				i = "http://cbsproxy.ibb.gov.tr/?WifiGetir"
		}
		$.ProcessOpen(r, "#bilgiContainer", function() {
			$.BilgiClose()
		});
		$.BilgiFind(i, t, function(n) {
			$("#bilgiContainer").removeClass("hidden");
			var t = "";
			$.BilgiClearMap();
			$.each(n, function(n, i) {
				var e = i.ADI == null ? " " : i.ADI,
					o = i.ADRES,
					r = i.TELEFON,
					u, f, s;
				r = r === null || r.trim() == "" ? "" : '<span class="glyphicon glyphicon-earphone"><\/span>&nbsp<a href="tel:' + r + ' title="Arayýn">' + r + "<\/a>";
				u = i.LON === null ? "" : parseFloat(i.LON.replace(",", "."));
				f = i.LAT === null ? "" : parseFloat(i.LAT.replace(",", "."));
				t += $.BilgiItem.format([e, o, r, u, f]);
				s = $.MapAddMarker(u, f, e, o, {
					toolbar: !0,
					click: function() {},
					image: "images/markers/searched.png"
				});
				$.BilgiMarkers.push(s)
			});
			t = "<ul>" + t + "<\/ul>";
			$($.BilgiResult).html(t);
			$($.BilgiResult).removeClass("hidden");
			$($.BilgiFilter).removeClass("hidden");
			i == "http://cbsproxy.ibb.gov.tr/?WifiGetir" && $("#bilgiContainer").addClass("hidden");
			$(window).resize();
			$($.BilgiResult + " > ul > li ").click(function() {
				var n = $(this),
					t = $(n).attr("data-ad"),
					i = $(n).attr("data-adres"),
					r = parseFloat($(this).attr("data-lon")),
					u = parseFloat($(this).attr("data-lat"));
				$.BilgiItemClick(t, i, r, u)
			});
			$($.BilgiResult + " > ul > li ").mouseover(function() {
				var n = $(this).attr("data-ad"),
					t = $(this).attr("data-adres"),
					i = parseFloat($(this).attr("data-lon")),
					r = parseFloat($(this).attr("data-lat"));
				$.BilgiMarkerHover = $.MapAddMarker(i, r, n, t, {
					image: "images/markers/hedef.png"
				});
				$.BilgiMarkers.push($.BilgiMarkerHover)
			}).mouseout(function() {
				$.BilgiClearMap($.BilgiMarkerHover)
			});
			$($.BilgiResult + " > ul > li .share").each(function() {
				var u = $(this).parent().parent()[0],
					n = parseFloat($(u).attr("data-lon")),
					t = parseFloat($(u).attr("data-lat")),
					i, r, f;
				$.MapGetCoordinateType() == "TUREF" && (i = $.MapWGS84ToITRF(n, t), n = i.x, t = i.y);
				r = "http://sehirharitasi.ibb.gov.tr/?lat=" + t + "&lon=" + n + "&zoom=18";
				f = '<div class="sosyalmedya" data-url="' + r + '" ><div class="icon-facebook1" onclick="$.PopoverFacebook(this);"> <\/div><div class="icon-twitter1" onclick="$.PopoverTwitter(this);"> <\/div><div class="icon-link" data-target="#urlpaylas" onclick="$.PopoverUrlShare(this);"> <\/div><\/div><div id="urlpaylas"  ><input class="collapse" type="text" value="' + r + '"><\/input><\/div>';
				$(this).popover({
					title: "",
					content: f,
					placement: "right",
					container: "body",
					html: !0,
					trigger: "manuel"
				})
			});
			$($.BilgiResult + " > ul > li .share").click(function(n) {
				if ($("body > div.popover").length > 0) {
					var i = $(this).attr("aria-describedby"),
						t = $("body > div.popover").attr("id");
					t != i && $("[aria-describedby=" + t + "]").popover("hide")
				}
				$(this).popover("show");
				n.stopPropagation()
			})
		}, function() {
			$.ModalError($.BilgiLanguageList.current.modalerrortitle, $.BilgiLanguageList.current.modalerrorsubject)
		})
	},
	BilgiActivated: function() {
		return !$($.BilgiResult).hasClass("hidden")
	},
	BilgiClose: function() {
		$.BilgiClearMap();
		$($.BilgiResult).addClass("hidden");
		$($.BilgiFilter).addClass("hidden");
		$($.BilgiSubmit).removeClass("active")
	},
	BilgiFind: function(n, t, i, r) {
		$.ajax({
			type: "GET",
			url: n,
			data: "ilceID=" + t,
			crossDomain: !0,
			success: function(n) {
				var t = n.ArrayOfAramaList !== null && n.ArrayOfAramaList.AramaList !== null ? n.ArrayOfAramaList.AramaList : [];
				t.length || (t = [t]);
				i && i(t)
			},
			error: function() {
				r && r()
			}
		})
	},
	BilgiItemClick: function(n, t, i, r) {
		$.BilgiLastClickedMarker !== "" && $.BilgiClearMap($.BilgiLastClickedMarker);
		$.BilgiLastClickedMarker = $.MapAddMarker(i, r, n, t, {
			toolbar: !0,
			click: function() {}
		});
		$.BilgiMarkers.push($.BilgiLastClickedMarker);
		$.MapGoto(i, r, undefined);
		isMobile() && $.ProcessHide()
	},
	BilgiIlcelerBind: function(n, t) {
		switch (n) {
			case "NobetciEczaneler":
			case "SporTesisleri":
				t.append($("<option/>").attr("id", "tumilceler").attr("value", -1).text($.BilgiLanguageList.current.ilce));
				t.append($("<option/>").attr("value", "1").text("Adalar"));
				t.append($("<option/>").attr("value", "33").text("Arnavutköy"));
				t.append($("<option/>").attr("value", "34").text("Ataþehir"));
				t.append($("<option/>").attr("value", "2").text("Avcýlar"));
				t.append($("<option/>").attr("value", "4").text("Baðcýlar"));
				t.append($("<option/>").attr("value", "5").text("Bahçelievler"));
				t.append($("<option/>").attr("value", "3").text("Bakýrköy"));
				t.append($("<option/>").attr("value", "35").text("Baþakþehir"));
				t.append($("<option/>").attr("value", "6").text("Bayrampaþa"));
				t.append($("<option/>").attr("value", "7").text("Beþiktaþ"));
				t.append($("<option/>").attr("value", "8").text("Beykoz"));
				t.append($("<option/>").attr("value", "36").text("Beylikdüzü"));
				t.append($("<option/>").attr("value", "9").text("Beyoðlu"));
				t.append($("<option/>").attr("value", "29").text("Büyükçekmece"));
				t.append($("<option/>").attr("value", "32").text("Çatalca"));
				t.append($("<option/>").attr("value", "37").text("Çekmeköy"));
				t.append($("<option/>").attr("value", "27").text("Esenler"));
				t.append($("<option/>").attr("value", "38").text("Esenyurt"));
				t.append($("<option/>").attr("value", "11").text("Eyüp"));
				t.append($("<option/>").attr("value", "12").text("Fatih"));
				t.append($("<option/>").attr("value", "13").text("Gaziosmanpaþa"));
				t.append($("<option/>").attr("value", "14").text("Güngören"));
				t.append($("<option/>").attr("value", "15").text("Kadýköy"));
				t.append($("<option/>").attr("value", "16").text("Kaðýthane"));
				t.append($("<option/>").attr("value", "17").text("Kartal"));
				t.append($("<option/>").attr("value", "18").text("Küçükçekmece"));
				t.append($("<option/>").attr("value", "19").text("Maltepe"));
				t.append($("<option/>").attr("value", "20").text("Pendik"));
				t.append($("<option/>").attr("value", "39").text("Sancaktepe"));
				t.append($("<option/>").attr("value", "21").text("Sarýyer"));
				t.append($("<option/>").attr("value", "31").text("Silivri"));
				t.append($("<option/>").attr("value", "28").text("Sultanbeyli"));
				t.append($("<option/>").attr("value", "40").text("Sultangazi"));
				t.append($("<option/>").attr("value", "30").text("Þile"));
				t.append($("<option/>").attr("value", "22").text("Þiþli"));
				t.append($("<option/>").attr("value", "23").text("Tuzla"));
				t.append($("<option/>").attr("value", "24").text("Ümraniye"));
				t.append($("<option/>").attr("value", "25").text("Üsküdar"));
				t.append($("<option/>").attr("value", "26").text("Zeytinburnu"));
				break;
			case "WifiNoktalari":
				t.append($("<option/>").attr("id", "tumilceler").attr("value", -1).text($.BilgiLanguageList.current.ilce));
				t.append($("<option/>").attr("value", "1").text("Adalar"));
				t.append($("<option/>").attr("value", "33").text("Arnavutköy"));
				t.append($("<option/>").attr("value", "34").text("Ataþehir"));
				t.append($("<option/>").attr("value", "2").text("Avcýlar"));
				t.append($("<option/>").attr("value", "4").text("Baðcýlar"));
				t.append($("<option/>").attr("value", "5").text("Bahçelievler"));
				t.append($("<option/>").attr("value", "3").text("Bakýrköy"));
				t.append($("<option/>").attr("value", "35").text("Baþakþehir"));
				t.append($("<option/>").attr("value", "6").text("Bayrampaþa"));
				t.append($("<option/>").attr("value", "7").text("Beþiktaþ"));
				t.append($("<option/>").attr("value", "8").text("Beykoz"));
				t.append($("<option/>").attr("value", "36").text("Beylikdüzü"));
				t.append($("<option/>").attr("value", "9").text("Beyoðlu"));
				t.append($("<option/>").attr("value", "29").text("Büyükçekmece"));
				t.append($("<option/>").attr("value", "32").text("Çatalca"));
				t.append($("<option/>").attr("value", "27").text("Esenler"));
				t.append($("<option/>").attr("value", "38").text("Esenyurt"));
				t.append($("<option/>").attr("value", "11").text("Eyüp"));
				t.append($("<option/>").attr("value", "12").text("Fatih"));
				t.append($("<option/>").attr("value", "13").text("Gaziosmanpaþa"));
				t.append($("<option/>").attr("value", "14").text("Güngören"));
				t.append($("<option/>").attr("value", "15").text("Kadýköy"));
				t.append($("<option/>").attr("value", "16").text("Kaðýthane"));
				t.append($("<option/>").attr("value", "17").text("Kartal"));
				t.append($("<option/>").attr("value", "18").text("Küçükçekmece"));
				t.append($("<option/>").attr("value", "19").text("Maltepe"));
				t.append($("<option/>").attr("value", "20").text("Pendik"));
				t.append($("<option/>").attr("value", "39").text("Sancaktepe"));
				t.append($("<option/>").attr("value", "21").text("Sarýyer"));
				t.append($("<option/>").attr("value", "31").text("Silivri"));
				t.append($("<option/>").attr("value", "28").text("Sultanbeyli"));
				t.append($("<option/>").attr("value", "40").text("Sultangazi"));
				t.append($("<option/>").attr("value", "30").text("Þile"));
				t.append($("<option/>").attr("value", "22").text("Þiþli"));
				t.append($("<option/>").attr("value", "24").text("Ümraniye"));
				t.append($("<option/>").attr("value", "25").text("Üsküdar"));
				t.append($("<option/>").attr("value", "26").text("Zeytinburnu"));
				break;
			case "SosyalTesisler":
				t.append($("<option/>").attr("id", "tumilceler").attr("value", -1).text($.BilgiLanguageList.current.ilce));
				t.append($("<option/>").attr("value", "2").text("Avcýlar"));
				t.append($("<option/>").attr("value", "3").text("Bakýrköy"));
				t.append($("<option/>").attr("value", "7").text("Beþiktaþ"));
				t.append($("<option/>").attr("value", "8").text("Beykoz"));
				t.append($("<option/>").attr("value", "9").text("Beyoðlu"));
				t.append($("<option/>").attr("value", "29").text("Büyükçekmece"));
				t.append($("<option/>").attr("value", "11").text("Eyüp"));
				t.append($("<option/>").attr("value", "12").text("Fatih"));
				t.append($("<option/>").attr("value", "15").text("Kadýköy"));
				t.append($("<option/>").attr("value", "17").text("Kartal"));
				t.append($("<option/>").attr("value", "18").text("Küçükçekmece"));
				t.append($("<option/>").attr("value", "20").text("Pendik"));
				t.append($("<option/>").attr("value", "21").text("Sarýyer"));
				t.append($("<option/>").attr("value", "28").text("Sultanbeyli"));
				t.append($("<option/>").attr("value", "25").text("Üsküdar"));
				t.append($("<option/>").attr("value", "26").text("Zeytinburnu"));
				break;
			case "IletisimNoktalari":
				t.append($("<option/>").attr("id", "tumilceler").attr("value", -1).text($.BilgiLanguageList.current.ilce));
				t.append($("<option/>").attr("value", "2").text("Avcýlar"));
				t.append($("<option/>").attr("value", "5").text("Bahçelievler"));
				t.append($("<option/>").attr("value", "3").text("Bakýrköy"));
				t.append($("<option/>").attr("value", "6").text("Bayrampaþa"));
				t.append($("<option/>").attr("value", "7").text("Beþiktaþ"));
				t.append($("<option/>").attr("value", "9").text("Beyoðlu"));
				t.append($("<option/>").attr("value", "11").text("Eyüp"));
				t.append($("<option/>").attr("value", "12").text("Fatih"));
				t.append($("<option/>").attr("value", "15").text("Kadýköy"));
				t.append($("<option/>").attr("value", "17").text("Kartal"));
				t.append($("<option/>").attr("value", "21").text("Sarýyer"));
				t.append($("<option/>").attr("value", "22").text("Þiþli"));
				t.append($("<option/>").attr("value", "25").text("Üsküdar"));
				t.append($("<option/>").attr("value", "36").text("Beylikdüzü"))
		}
	},
	BilgiClearMap: function(n) {
		var t;
		if (n)
			for (t = 0; t < $.BilgiMarkers.length; t++) $.BilgiMarkers[t] == n && $.MapClearMarkers($.BilgiMarkers[t]);
		else {
			for (t = 0; t < $.BilgiMarkers.length; t++) $.MapClearMarkers($.BilgiMarkers[t]);
			$.BilgiMarkers = [];
			$.BilgiLastClickedMarker = ""
		}
		$.MapRemovePopover()
	}
});
$.extend({
	BilgiAlActivated: !1,
	BilgiAlMarkers: [],
	BilgiAlInit: function() {
		$.MapLoader.push(function() {
			$.MapEventRegister("singleclick", $.BilgiAlEventMapClick)
		})
	},
	BilgiAlAcKapa: function() {
		$.BilgiAlActivated ? ($.BilgiAlActivated = !1, $.InfoBoxClose()) : ($.InfoBox($.LanguageTextlist.panaromawarningtitle, "Lütfen harita üzerinde týkladýktan sonra bilgi alýnýz", function() {
			$.BilgiAlActivated = !1;
			$.InfoBoxClose()
		}), $.BilgiAlActivated = !0, $.BilgiAlInit($.MapClass))
	},
	BilgiAlClickVector: function() {
		$.BilgiAlSetLocation($.MapLastClickedLocation[0], $.MapLastClickedLocation[1], {
			title: $.PopupLanguageList.current.PopupInfo,
			content: !0,
			showPopover: !0
		})
	},
	BilgiAlInfo: function(n, t, i, r) {
		$.InfoBoxClose();
		$.ajax({
			type: "GET",
			url: "http://cbsproxy.ibb.gov.tr/?infows",
			crossDomain: !0,
			data: "X=" + n + "&Y=" + t + "&PRJ=101013&TARGETPROJ=4326&DIST=30",
			success: function(n) {
				var t = n.ArrayOfInfo !== null && n.ArrayOfInfo.Info !== null ? n.ArrayOfInfo.Info : {
					Adi: "",
					MahalleIlce: "",
					Yol: ""
				};
				t.Adi = t.Adi ? t.Adi : "";
				t.MahalleIlce = t.MahalleIlce ? t.MahalleIlce : "";
				t.Yol = t.Yol ? t.Yol : "";
				$.NetworkReady = !0;
				i && i(t)
			},
			error: function() {
				$.NetworkReady = !0;
				r && r()
			}
		})
	},
	BilgiAlClearMap: function() {
		for (var n = 0; n < $.BilgiAlMarkers.length; n++) $.MapClearMarkers($.BilgiAlMarkers[n].markerID);
		$.BilgiAlMarkers = [];
		$.MapRemovePopover();
		$(window).resize()
	},
	BilgiAlSetLocation: function(n, t, i) {
		var r = $.MapAddMarker(n, t, "", "", {
			anchor: {
				x: "c",
				y: "b"
			}
		});
		$.BilgiAlMarkers.push({
			markerID: r
		});
		$.BilgiAlInfo(n, t, function(r) {
			$.BilgiAlClearMap();
			var u = i && i.title ? i.title : "",
				f = i && i.content ? r.Adi.toLocaleUpperCase() + " " + r.Yol.toLocaleUpperCase() + " " + r.MahalleIlce.toLocaleUpperCase() : "",
				e = i && i.panorama ? i.panorama.angle : 0,
				o = $.MapAddMarker(n, t, u, f, {
					anchor: {
						x: "c",
						y: "b"
					},
					toolbar: !0,
					click: function() {},
					showPopover: !0,
					panorama: {
						angle: e
					}
				});
			$.BilgiAlMarkers.push({
				markerID: o
			});
			i && i.showPopover
		})
	},
	BilgiAlEventMapClick: function() {
		$.BilgiAlActivated && ($.BilgiAlActivated = !1, $.BilgiAlClickVector())
	}
});
$.extend({
	TrafficSubmit: "",
	TrafficResult: "",
	TrafficShowHide: "",
	TrafficItem: "",
	TrafficLayerURL: "",
	TrafficLayerIndex: undefined,
	TrafficLayername: "TRAFIK_YOGUNLUK",
	TrafficInterval: undefined,
	TrafficLangaugelist: {},
	TrafficMarkers: [],
	TrafficLayerInterval: undefined,
	TrafficIsOpen: !1,
	TrafficInit: function(n, t, i, r) {
		$.TrafficSubmit = n;
		$.TrafficShowHide = t;
		$.TrafficResult = i;
		$.TrafficItem = r;
		$.TrafficLayerURL = "http://cbsmapws.ibb.gov.tr/DotNet/proxy.ashx?http://itfaiyecbs2.ibb.gov.tr/arcgis/rest/services/TRAFIK_YOGUNLUK/MapServer/export?";
		$.TrafficLangaugelist = {
			tr: {
				trafficbutton: "Trafik",
				announcement: "Duyurular"
			},
			en: {
				trafficbutton: "Traffic",
				announcement: "Announcement"
			},
			current: {},
			change: function() {
				this.current = $.LanguageGet() == "tr" || $.LanguageGet() === null ? this.tr : this.en
			}
		};
		$.TrafficLanguage();
		$($.TrafficSubmit).click(function() {
			if (clearInterval($.TrafficInterval), $.MapGetVisibleLayers().split(",").indexOf($.TrafficLayername) == -1) $($.TrafficSubmit).addClass("active"), $.TrafficInterval = setInterval(function() {
				$($.TrafficSubmit).hasClass("active") ? $($.TrafficSubmit).removeClass("active") : $($.TrafficSubmit).addClass("active")
			}, 333), $.TrafficAnnouncement(!0), $.TrafficLayerIndex = $.MapAddLayer($.TrafficLayerURL, {
				type: "REST",
				name: $.TrafficLayername
			}), $.MapLayerHidden("Hybrid"), $.TrafficLayerInterval = setInterval(function() {
				var n = $.TrafficLayerIndex;
				$.MapRemoveLayer(n);
				$.TrafficLayerIndex = $.MapAddLayer($.TrafficLayerURL, {
					type: "REST",
					name: $.TrafficLayername
				});
				$.MapLayerHidden("Hybrid");
				$.TrafficAnnouncement()
			}, 12e4), $.TrafficIsOpen = !0;
			else {
				clearInterval($.TrafficLayerInterval);
				$.MapRemoveLayer($.TrafficLayerIndex);
				$.TrafficClear();
				var n = $.MapGetVisibleLayers().split(",");
				(n.indexOf("2014") > -1 || n.indexOf("2013") > -1 || n.indexOf("2011") > -1 || n.indexOf("2006") > -1) && $.MapLayerVisible("Hybrid");
				$($.TrafficResult).collapse("hide");
				$($.TrafficShowHide).addClass("hidden");
				$($.TrafficSubmit).removeClass("active");
				$($.TrafficResult + " .trafik-header").css("border-bottom", "1px solid #c68a0c");
				$($.TrafficResult + " .trafik-body").removeClass("hidden");
				$.TrafficIsOpen = !1
			}
		});
		$($.TrafficShowHide).popover({
			placement: "left",
			content: $.TrafficLangaugelist.current.announcement,
			trigger: "manual"
		})
	},
	TrafficAnnouncement: function(n) {
		if ($.LanguageGet() == "tr" || $.LanguageGet() === null) $.ajax({
			type: "GET",
			url: "http://cbsproxy.ibb.gov.tr/proxy.ashx?http://itfaiyecbs2.ibb.gov.tr/arcgis/rest/services/TRAFIK_DUYURU/MapServer/0/query?where=1%3D1&text=&objectIds=&time=&geometry=&geometryType=esriGeometryEnvelope&inSR=&spatialRel=esriSpatialRelIntersects&relationParam=&outFields=*&returnGeometry=true&maxAllowableOffset=&geometryPrecision=&outSR=&returnIdsOnly=false&returnCountOnly=false&orderByFields=&groupByFieldsForStatistics=&outStatistics=&returnZ=false&returnM=false&gdbVersion=&f=json",
			crossDomain: !0,
			data: "",
			success: function(t) {
				var s = "",
					l, c, h;
				$.TrafficClear();
				t = JSON.parse(t);
				for (l in t.features) {
					var e = t.features[l],
						p = e.attributes.BASLIK,
						i = e.attributes.OLAY,
						a = e.attributes.SEMBOLID,
						o = e.attributes.URL,
						v = e.geometry.x,
						y = e.geometry.y,
						r = a,
						u = "images/markers/",
						f = "";
					switch (a) {
						case 16:
							f = "KAZA";
							r = "icon-kaza";
							u += "trafik_kaza.png";
							break;
						case 17:
							f = "ÇALIÞMA";
							r = "icon-calisma";
							u += "trafik_calisma.png";
							break;
						case 18:
							f = "UYARI";
							r = "icon-uyari";
							u += "trafik_uyari.png";
							break;
						case 24:
							f = "BÝLGÝLENDÝRME";
							r = "icon-duyuru";
							u += "trafik_bilgilendirme.png";
							break;
						case 32:
							f = "ARIZALI ARAÇ";
							r = "icon-ariza";
							u += "trafik_ariza.png";
							break;
						default:
							f = "BÝLGÝ";
							r = "icon-soruisareti";
							u += "trafik_soruisareti.png"
					}
					o && o.indexOf("http") > -1 && (i = i.indexOf("týklayýnýz") > -1 ? i.replace("týklayýnýz", '<a href="' + o + '" target="_blank">týklayýnýz<\/a>') : i.indexOf("TIKLAYINIZ") > -1 ? i.replace("TIKLAYINIZ", '<a href="' + o + '" target="_blank">TIKLAYINIZ<\/a>') : i + '<br/><a href="' + o + '" target="_blank">TIKLAYINIZ<\/a>');
					c = $.MapAddMarker(v, y, f, i, {
						anchor: {
							x: "c",
							y: "b"
						},
						image: u,
						size: {
							w: 32
						},
						toolbar: !0,
						click: function() {}
					});
					s += $.TrafficItem.format([p, i, r, v, y, c]);
					$.TrafficMarkers.push(c)
				}
				s = "<ul>" + s + "<\/ul>";
				h = !0;
				$($.TrafficResult + " .trafik-body").html(s);
				$($.TrafficResult + " .trafik-body > ul > li a").click(function() {
					h = !1
				});
				$($.TrafficResult + " .trafik-body > ul > li").click(function() {
					if (h) {
						var n = parseFloat($(this).attr("data-lon")),
							t = parseFloat($(this).attr("data-lat")),
							i = $(this).attr("data-markerid");
						$.MapGoto(n, t, 18, !0);
						setTimeout(function() {
							$.MapFeatureClick($.MapGetFeature(i))
						}, 1550)
					} else h = !0
				});
				$($.TrafficShowHide).removeClass("hidden");
				n && ($($.TrafficShowHide).popover("destroy"), $($.TrafficShowHide).popover({
					placement: "left",
					content: $.TrafficLangaugelist.current.announcement,
					trigger: "manual"
				}), $($.TrafficShowHide).popover("show"));
				setTimeout(function() {
					$($.TrafficShowHide).popover("hide")
				}, 2500)
			},
			error: function() {
				console.info(arguments)
			}
		})
	},
	TrafficClear: function() {
		for (var n = 0; n < $.TrafficMarkers.length; n++) $.MapClearMarkers($.TrafficMarkers[n]);
		$.TrafficMarkers = [];
		$.MapRemovePopover()
	},
	TrafficLanguage: function() {
		$.LanguageGet() != "tr" && $.LanguageGet() !== null ? ($($.TrafficShowHide).addClass("hidden"), $.TrafficClear()) : $.TrafficIsOpen && $.TrafficAnnouncement(!0);
		$($.TrafficShowHide).popover("destroy");
		$.TrafficLangaugelist.change();
		$($.TrafficSubmit).attr("data-original-title", $.TrafficLangaugelist.current.trafficbutton);
		$($.TrafficShowHide).attr("data-original-title", $.TrafficLangaugelist.current.announcement);
		$($.TrafficResult + " .trafik-header div").html($.TrafficLangaugelist.current.announcement)
	}
});
ua = window.navigator.userAgent;
isRunnable = !0;
sliderLastPstn = "";
$(document).ready(function() {
	if (SetRunnable(), isRunnable) {
		$("#searchbar").click(function() {
			$($.SearchTextBox).focus()
		});
		$("input[type=search]").focusin(function() {
			$("#searchContainer .searchResult").hasClass("hidden") && $("#searchContainer .searchResult").html().length === 0 && $(".detailedSearchResult").hasClass("hidden") && ($("#searchContainer .searchResult").html(""), isMobile() || ($(" #searchUserGuide").removeClass("hidden"), $(" #searchUserGuide").html($("#searchUserGuide").html())))
		});
		$("input[type=search]").focusout(function() {
			$("#searchUserGuide").addClass("hidden");
			$("#searchContainer .searchResult").hasClass("hidden") || $("#searchContainer .searchResult").html().length != $("#searchUserGuide").html().length || ($("#searchContainer .searchResult").html(""), $("#searchContainer .searchResult").addClass("hidden"))
		});
		$.MapCoordinateTypeDefault();
		var n = $.MapGetCoordinateType();
		n == "TUREF" ? $("#CoordinateConvertBtn").html("ITRF (TUREF)") : $("#CoordinateConvertBtn").html("WGS84");
		$("input, select, textarea").focusin(function() {
			MenuCloser("")
		});
		$("#navbar > div[id], #detailedSearch, #networkAnalysis, #mobileLanguage").click(function() {
			var n = $(this).attr("id");
			ToolbarClick(n)
		});
		isMobile() || $('[data-tooltip="tooltip"]').tooltip();
		$(window).load(function() {
			var n = $.GetCookie("bilgipencere");
			n != "aktif" && $(".lightbox, .lightbox-body").removeClass("hidden");
			$.SetCookie("bilgipencere", "aktif", 7)
		});
		$(".lightbox, .lightbox-close").click(function() {
			$(".lightbox, .lightbox-body").addClass("hidden")
		});
		$.MapLoader.push(function() {
			return
		});
		$("#menuContainer ul li").click(function() {
			$.TumModulleriKapat();
			$("#toolbar #navbar #panorama").hasClass("active") && $("#toolbar #navbar #panorama").click();
			$("#layersContainer").hasClass("in") && $("#toolbar #navbar #layers").click();
			$("#menuContainer").hasClass("in") && $("#toolbar #navbar #menu").click()
		});
		$.LanguageGet() === null ? $.LanguageSet("tr") : $.LanguageSet($.LanguageGet());
		$.LanguageInit("#mapLanguage");
		$.BilgiAlInit();
		$.DetailedSearchInit("#detailedSearch", "#ilceSecim", "#mahalleSecim", "#yolSecim", "#kapiSecim", '<li class="row" data-ad="{0}" data-lon="{1}" data-lat="{2}" ><div class="content col-xs-12"><div class="title" title="{0}"><div class="circle"><\/div>{0}<\/div><div>{3}<\/div><\/div><div><div class="panorama icon-360 hidden-mobile" title="Panorama" onclick="$.PopoverPanorama(this);"><\/div><div class="share icon-sosyalaglar" title="Paylaþ"><\/div><div class="icon-otomobil" onclick="$.PopoverArac(this);"><\/div><div class="icon-otobus" onclick="$.PopoverTUBS(this);"><\/div><\/div><\/li>');
		$.SearchInit("input[type=search]", "#clear", "#search", "#searchContainer .searchResult", '<li class="row" data-id="{0}" data-ad="{1}" data-adres="{3}" data-lon="{4}" data-lat="{5}" ><div class="content col-xs-12"><div class="title" title="{1}"><div class="circle"><\/div>{2}<\/div><div>{3}<\/div><\/div><div><div class="panorama icon-360 hidden-mobile" title="Panorama" onclick="$.PopoverPanorama(this);"><\/div><div class="share icon-sosyalaglar" onclick="$.PopoverShare(this);" title="Paylaþ"><\/div><div class="icon-otomobil" onclick="$.PopoverArac(this);"><\/div><div class="icon-otobus" onclick="$.PopoverTUBS(this);"><\/div><\/div><\/li>', function() {});
		$.NetworkInit("#networkContainer", "#startLocation", "#networkContainer .filter div:first-child span.icon-konum", "#networkContainer .filter div:first-child span.icon-x", "#finishLocation", "#networkContainer .filter div:last-child span.icon-konum", "#networkContainer .filter div:last-child span.icon-x", "#networkReplace #replace", "#networkContainer .networkResult");
		$.BilgiInit("#bilgiContainer .bilgiResult", "#menuContainer li[data-mode]", "#bilgiContainer .bilgiFilter", '<li class="row" data-ad="{0}" data-adres="{1}"  data-lon="{3}" data-lat="{4}" ><div class="content col-xs-12"><div class="title" title="{0}"><div class="circle"><\/div>{0}<\/div><div>{1}<\/div><div>{2}<\/div><\/div><div><div class="panorama icon-360 hidden-mobile" title="Panorama" onclick="$.PopoverPanorama(this);"><\/div><div class="share icon-sosyalaglar" onclick="$.PopoverShare(this);" title="Paylaþ"><\/div><div class="icon-otomobil" onclick="$.PopoverArac(this);"><\/div><div class="icon-otobus" onclick="$.PopoverTUBS(this);"><\/div><\/div><\/li>');
		$.HikayeInit("#hikayeContainer", "#istanbulHikayeleri", "#hikayeContainer .storyContent", '<div data-index="{0}" data-story="{1}" style="background-image:url({2});"><h3>{3}<\/h3><\/div>', '<div data-level="{0}" data-lon="{1}" data-lat="{2}" data-zoom="{3}" data-img="{4}"><div><img src="{4}" alt="{5}" class="thumbnail" /><\/div><div><h1>{5}<\/h1><div>{6}<\/div><\/div><\/div>');
		$.FeedbackInit("#feedbackContainer", "#starPanel", "#koordinatPanel", "#hataturuPanel");
		$.PopupMenuInit("#mapmenu");
		$.NearbyInit("#nearbyContainer", "#nearbyResult", "#distance", '<div class="panel panel-default"><div data-toggle="collapse" data-target="#nearby{0}" data-parent="#nearbyResult" class="panel-heading"><span>{1}<\/span><span class="badge pull-right">{3}<\/span><\/div><div id="nearby{0}" class="collapse"><div class="panel-body">{2}<\/div><\/div><\/div>', '<li data-ad="{0}" data-adres="{1}" data-lon="{2}" data-lat="{3}" ><p><b>{0}<\/b><\/p><p>{1}<\/p><\/li>');
		$.PanoramaInit("#panorama", "#panoramaContainer");
		$.TrafficInit("#layerTRAFIK", "#showhideAnnouncement", "#announcementTRAFIK", '<li data-lon="{3}" data-lat="{4}" data-markerid="{5}"><span class="{2}"><\/span><div>{1}<\/div><\/li>');
		$.ProcessInit();
		$("#hatabildir").click(function() {
			$.TumModulleriKapat();
			$.ProcessClose($.FeedbackContainer);
			$.ProcessOpen($.FeedbackLangaugelist.current.feedbackheader, $.FeedbackContainer, function() {
				$($.FeedbackContainer).collapse("hide")
			});
			$($.FeedbackStarPanel).show();
			$($.FeedbackHataTuruPanel).show();
			$($.FeedbackKoordinatPanel).show();
			$($.FeedbackContainer).collapse("show")
		});
		$("#bilgiAl").click(function() {
			$($.MapContainer + " .olLayerDiv div").popover("hide");
			$.BilgiAlAcKapa()
		});
		$("#nearby").click(function() {
			$.TumModulleriKapat();
			$.ProcessClose($.NearbyContainer);
			$.ProcessOpen($.LanguageTextlist.nearby, $.NearbyContainer, function() {
				$.NearbyClose()
			});
			$.NearbyOpen()
		});
		$("#CoordinateConvertBtn").click(function() {
			$.MapCoordinateChange();
			var n, i = $.MapGetCoordinateType(),
				t = $("#mapCursorPosition").html();
			t = t.split(",");
			i == "TUREF" ? (n = $.MapWGS84ToITRF(t[1], t[0]), $("#mapCursorPosition").html(n.x.toFixed(3) + " , " + n.y.toFixed(3)), $("#popupCoordinate").text(n.x.toFixed(3) + " , " + n.y.toFixed(3)), $("#CoordinateConvertBtn").html("ITRF (TUREF)")) : (n = $.MapITRFtoWgs84(t[0], t[1]), $("#mapCursorPosition").html(n.y.toFixed(8) + " , " + n.x.toFixed(8)), $("#popupCoordinate").text(n.y.toFixed(8) + " , " + n.x.toFixed(8)), $("#CoordinateConvertBtn").html("WGS84"))
		});
		$("input,textarea").on("touchstart", function() {
			$(this).focus()
		});
		SetPrintOut();
		$.MapInit("#mapdiv", "#mapCursorPosition", "#mapLegend", function() {
			$($.MapCursorPosition).html($.LanguageTextlist.mapreadytitle);
			$.MapMenu.push({
				func: MenuCloser
			});
			$.ParametersInit();
			for (var n in $.MapLoader) $.MapLoader[n]();
			$.MapLoader = [];
			$(".ol-overlaycontainer-stopevent .ol-rotate button").attr("title", "Döndürmeyi Sýfýrla");
			$(".ol-overlaycontainer-stopevent .ol-zoom").remove()
		}, {
			layers: {
				button: "#inlineLayersContainer li, #layersContainer li,#solarHarita,#solarSiyahBeyaz",
				func: function(n) {
					$.ProcessClose();
					var t = $(n).text();
					$(this.button).each(function(t, i) {
						i != n && $(i).hasClass("active") && $.MapLayerHidden($(i).text())
					});
					$(this.button).removeClass("active");
					$(n).addClass("active");
					$.MapLayerVisible(t);
					$("#navbar #layers").hasClass("active") && $("#navbar #layers").click()
				}
			},
			overlaymaps: {
				button: "#havzaSinirlari, #rayliSistemler",
				func: function(n) {
					$.ProcessClose();
					var t = $(n).attr("data-overlay");
					$(n).hasClass("active") ? ($(n).removeClass("active"), $.MapLayerHidden(t)) : ($(n).addClass("active"), $.MapLayerVisible(t));
					$("#navbar #layers").hasClass("active") && $("#navbar #layers").click()
				}
			},
			"switch": {
				button: "#mapSwitch",
				func: function() {
					$($.MapControls.layers.button).removeClass("active");
					$.MapAllLayerHiddenIsBaseLayer();
					$.MapLayerVisible($.MapLayerState == "Harita" ? "2014" : "Harita")
				},
				status: function(n) {
					n != "Harita" ? ($("li[data-switch=Uydu]").addClass("active"), $(this.button + " img").attr("src", "images/markers/switchHarita.png"), $(this.button).attr("data-original-title", $.LanguageTextlist.layerswitcherHarita)) : $.MapLayerState == "Harita" ? ($("li[data-switch=Harita]").addClass("active"), $(this.button + " img").attr("src", "images/markers/switchUydu.png"), $(this.button).attr("data-original-title", $.LanguageTextlist.layerswitcherUydu)) : ($(this.button + " img").attr("src", "images/markers/switchHarita.png"), $(this.button).attr("data-original-title", $.LanguageTextlist.layerswitcherHarita))
				}
			},
			legend: {
				button: "#legends",
				func: function() {}
			},
			clear: {
				button: "#mapClear",
				func: function() {
					$("#toolbar #navbar #panorama").hasClass("active") && $("#toolbar #navbar #panorama").click();
					$($.SearchTextBox).val("");
					$($.SearchTextBox).change();
					$.SearchActivated() && $.SearchClose();
					$.ProcessClose();
					MenuCloser();
					$.PopupClearMap();
					$.NetworkClearMap();
					$.BilgiAlClearMap();
					$.MapMeasurementClear();
					setTimeout(function() {
						$.MapMeasurementPassive()
					}, 500);
					$("#mapMeasurement").hasClass("active") && ($("#mapMeasureSelect").click(), $("#mapLine").hasClass("active") ? $("#mapLine").click() : $("#mapArea").click())
				}
			},
			lineMeasurement: {
				button: "#mapLine",
				func: function() {
					$("#mapMeasureSelect").addClass("hidden");
					$("#mapArea").removeClass("active");
					$("#mapMeasurement").removeClass("active");
					$("#mapLine").hasClass("active") ? $("#mapLine").removeClass("active") : ($("#mapLine").addClass("active"), $("#mapMeasurement").addClass("active"), $("#mapMeasurement").removeClass("icon-olcum"))
				}
			},
			areaMeasurement: {
				button: "#mapArea",
				func: function() {
					$("#mapMeasureSelect").addClass("hidden");
					$("#mapLine").removeClass("active");
					$("#mapMeasurement").removeClass("active");
					$("#mapArea").hasClass("active") ? $("#mapArea").removeClass("active") : ($("#mapArea").addClass("active"), $("#mapMeasurement").addClass("active"), $("#mapMeasurement").addClass("icon-olcum"))
				}
			},
			ruler: {
				button: "#mapMeasurement",
				func: function() {
					$("#mapMeasureSelect").hasClass("hidden") ? $("#mapMeasureSelect").removeClass("hidden") : $("#mapMeasureSelect").addClass("hidden")
				}
			},
			print: {
				button: "#mapPrint",
				func: function() {
					window.print()
				}
			},
			location: {
				button: "#mapLocation",
				func: function() {
					navigator.geolocation ? $("#mapLocation").hasClass("active") ? ($("#mapLocation").removeClass("active"), navigator.geolocation.clearWatch(watchID), $.GeoLocationClear()) : ($("#mapLocation").addClass("active"), watchID = navigator.geolocation.watchPosition($.GeoLocationSuccess, $.GeoLocationError)) : ($("#mapLocation").removeClass("active"), $.ModalError($.LanguageTextlist.warningtitle, $.LanguageTextlist.browserfaulty))
				}
			},
			zoomin: {
				button: "#mapZoomIn",
				func: function() {
					$.MapZoomIn()
				}
			},
			zoomout: {
				button: "#mapZoomOut",
				func: function() {
					$.MapZoomOut()
				}
			},
			keyup: function(n) {
				var t = n.keyCode ? n.keyCode : n.which;
				t == 27 && (MenuCloser(), $("#mapMeasurement").hasClass("active") && ($("#mapMeasureSelect").click(), $("#mapLine").hasClass("active") ? $("#mapLine").click() : $("#mapArea").click()))
			},
			contextmenu: function(n) {
				var t = [n.x, n.y];
				isMobile() && (t = $.MapLastClickedLocation);
				$.PopupShowbox(t)
			}
		});
		$("*").click(function(n) {
			var t = n.target.className;
			n.target && t && t.indexOf && t.indexOf("share") === -1 && t.indexOf("icon-link") === -1 && ClosePopover()
		})
	}
});
$(window).resize(function() {
	isRunnable && SetPrintOut()
});
$.extend({
	ProcessCloseEvents: [],
	ContainerName: "",
	ProcessInit: function() {
		$("#toolbar #processbar div#processClose span:last-child").click(function() {
			$.ProcessClose($.ContainerName)
		});
		$("#toolbar #processbar div#processClose span:first-child").click(function() {
			$($.ContainerName).hasClass("in") ? $.ProcessHide() : $.ProcessShow()
		})
	},
	ProcessOpen: function(n, t, i) {
		$.ContainerName = t;
		$.ProcessClose();
		$("#toolbar #processbar div:first-child").html(n);
		$("#toolbar #processbar").show();
		$.ProcessShow();
		$.ProcessCloseEvents.push(i)
	},
	ProcessClose: function() {
		$("#toolbar #processbar").hide();
		for (var n = 0; n < $.ProcessCloseEvents.length; n++) $.ProcessCloseEvents[n]();
		$.ProcessEventClear()
	},
	ProcessEventClear: function() {
		$.ProcessCloseEvents = []
	},
	ProcessHide: function() {
		$($.ContainerName).collapse("hide");
		$("#toolbar #processbar div#processClose span:first-child").attr("class", "icon-okasagi")
	},
	ProcessShow: function() {
		$($.ContainerName).collapse("show");
		$("#toolbar #processbar div#processClose span:first-child").attr("class", "icon-okyukari")
	},
	ModalWaitingShow: function() {
		$("#islemyapiliyor").modal("show")
	},
	ModalWaitingHide: function() {
		$("#islemyapiliyor").modal("hide")
	},
	InfoBox: function(n, t, i, r) {
		var e = '<div id="alertContainer" class="alert alert-info alert-dismissable"><button type="button" class="close" data-dismiss="alert">&times;<\/button><b>' + n + "<\/b><br/><br/><p>" + t + "<\/p><\/div>",
			u, f;
		if ($("body").append(e), u = 0, i)
			if (typeof i == "function") $("#alertContainer").on("closed.bs.alert", function() {
				clearTimeout(f);
				i()
			});
			else u = i;
		if (r)
			if (typeof r == "function") $("#alertContainer").on("closed.bs.alert", function() {
				clearTimeout(f);
				r()
			});
			else u > 0 && (u = r);
		u > 0 && (f = setTimeout(function() {
			clearTimeout(f);
			$.InfoBoxClose()
		}, u))
	},
	InfoBoxClose: function() {
		$("#alertContainer button.close").click()
	},
	MessageBox: function(n, t, i, r, u) {
		var f, e;
		switch (n) {
			case "error":
				$("#messageContainer").addClass("error");
				break;
			case "success":
				$("#messageContainer").addClass("success");
				break;
			default:
				$("#messageContainer").removeClass("error");
				$("#messageContainer").removeClass("success")
		}
		if ($("#messageContainer .modal-header h4").html(t), $("#messageContainer .modal-body").html(i), $("#messageContainer").modal(), f = 0, r)
			if (typeof r == "function") $("#messageContainer").on("hidden.bs.modal", function() {
				clearTimeout(e);
				r()
			});
			else f = r;
		if (u)
			if (typeof u == "function") $("#messageContainer").on("hidden.bs.modal", function() {
				clearTimeout(e);
				u()
			});
			else f > 0 && (f = u);
		f > 0 && (e = setTimeout(function() {
			clearTimeout(e);
			$("#messageContainer button.close").click()
		}, f))
	},
	ModalError: function(n, t, i, r) {
		$.MessageBox("error", n, t, i, r)
	},
	ModalSuccess: function(n, t, i, r) {
		$.MessageBox("success", n, t, i, r)
	},
	ModalMessage: function(n, t, i, r) {
		$.MessageBox("default", n, t, i, r)
	},
	TumModulleriKapat: function() {
		$.SearchActivated() && $.SearchClose();
		$.HikayeAktif === !0 && $($.HikayeContainer + " .hikayeToolbar > .return").click();
		$.BilgiClose();
		$.NearbyClose();
		$($.FeedbackContainer).collapse("hide");
		$("#toolbar #navbar #network").hasClass("active") && ($($.NetworkContainer + " .networkResult").addClass("hidden"), $.ProcessClose())
	}
});
$.extend({
	URLShare: function(n, t) {
		var i = "https://www.facebook.com/sharer/sharer.php?s=100&p[title]=Paylaþým&p[url]=";
		isMobile() && (i = "https://m.facebook.com/sharer.php?t=Paylaþým&u=");
		switch (t) {
			case "facebook":
				window.open(i + n);
				break;
			case "twitter":
				window.open("http://twitter.com/intent/tweet?text=Paylaþým " + n)
		}
	},
	URLShortener: function(n, t) {
		if (ua.toLowerCase().indexOf("msie") !== -1 || ua.toLowerCase().indexOf("trident") !== -1) t && t(n);
		else $.getJSON("http://api.bitly.com/v3/shorten?callback=?", {
			format: "json",
			apiKey: "R_726a90da47cacec0cda9dc95b117fcc7",
			login: "o_41r4av1g6b",
			longUrl: n
		}, function(n) {
			t && t(n.data.url)
		})
	}
});
$.extend({
	ParametersInit: function() {
		var o, n, r, s, a, i, h, c, l, v;
		(document.location.href.indexOf("#küçükçekmece") > -1 || document.location.href.indexOf("#kucukcekmece") > -1 || document.location.href.indexOf("#KÜÇÜKÇEKMECE") > -1 || document.location.href.indexOf("#KUCUKCEKMECE") > -1) && $.MapDrawLineString("MULTIPOLYGON (((28.8006868292795 41.0627313579067, 28.8000546057449 41.0629181286812, 28.7975093668913 41.0634815697294, 28.7961671496948 41.0637302454848, 28.7953539942323 41.0638544516759, 28.7943692675614 41.0639730545162, 28.7936761158909 41.0640262461577, 28.7926791255931 41.064079269492, 28.7917800367932 41.0641018400424, 28.7913706584174 41.0641039180123, 28.7905418328321 41.064081677772, 28.7885336962742 41.06392672153, 28.7869123761693 41.0636893688781, 28.7859486795686 41.0635136459396, 28.7853989698399 41.063411527776, 28.7846739076353 41.0632745137662, 28.7840889879964 41.0631545001975, 28.7833030754806 41.0630089684059, 28.7826233290401 41.0628907238585, 28.7820234287589 41.0627934339566, 28.7813144270641 41.062691699598, 28.7805995775348 41.0625948234203, 28.7800280835845 41.0625277818123, 28.7792233742265 41.0624408020723, 28.7783877368838 41.0623644550987, 28.7776464365866 41.0623086826341, 28.7768931979881 41.0622680138726, 28.7761999429882 41.0622350699453, 28.7753404978248 41.0622079551945, 28.7744219535646 41.0622003560539, 28.7734030874223 41.0622025849161, 28.7727006039645 41.0622234175389, 28.7719632165819 41.062248241841, 28.771317973442 41.0622783939891, 28.7707303864237 41.0623135030952, 28.7699264082183 41.0623572160578, 28.7690921541179 41.0623993717972, 28.7685700383149 41.0624229433031, 28.7679886102155 41.0624352766636, 28.7674108826302 41.0624370495745, 28.7668158014333 41.0624306822092, 28.7662523705308 41.0624166999179, 28.7655947738878 41.0623831573459, 28.7649586546756 41.0623313005884, 28.7642909308856 41.0622711344244, 28.7638017565028 41.0622181872433, 28.7633336263976 41.0621574995966, 28.7628658171816 41.0620915433094, 28.7622689276094 41.0619950347583, 28.7616512374763 41.0618876988695, 28.7609952404249 41.0617693497647, 28.7600744419193 41.061595186515, 28.7592021367008 41.0614347419581, 28.7586016637578 41.0613328408274, 28.757578684269 41.0611813657565, 28.756947889644 41.0611077382512, 28.7561932816856 41.0610493917667, 28.755420485024 41.0609996662386, 28.7551174670721 41.0609801671632, 28.7544302609042 41.0609742379005, 28.7536924454895 41.060967895803, 28.7523508090638 41.0610301869653, 28.7504244313118 41.0612351247626, 28.7493716630113 41.0614204572483, 28.7482812803487 41.0616137913349, 28.7476558174338 41.0617372241783, 28.7471313393927 41.0618398416959, 28.7457050176115 41.0620384338323, 28.7449282908521 41.0620980065169, 28.7448097696351 41.0620902315025, 28.7448785309416 41.0619708540998, 28.7453358745984 41.0611695279466, 28.7454830808754 41.0603915877806, 28.7452657131233 41.059442634758, 28.7451954139273 41.0591888662116, 28.7444360968907 41.0589949262869, 28.7437057778946 41.0586093342892, 28.743385740499 41.0583552545983, 28.7421122257876 41.0568174879386, 28.7417355227634 41.0553244392177, 28.7414393763517 41.0549227688156, 28.7406278825502 41.0525791080062, 28.74025348922 41.0509742496249, 28.740371837632 41.050936820631, 28.7404008950662 41.0509349799511, 28.7404491499394 41.0509369490107, 28.7432079200736 41.0512878906406, 28.7432301604196 41.0512940733189, 28.7432455529823 41.0513043259647, 28.7434689171357 41.0514548863678, 28.7436065362645 41.0515549790513, 28.7436648957501 41.0516195455569, 28.743690860656 41.051648910586, 28.7437333185092 41.0516995343796, 28.7439168374773 41.0519437458343, 28.7440296494992 41.0520975057632, 28.7442501424628 41.0524057806483, 28.7445277557444 41.0526810943173, 28.7450917499631 41.0531659922426, 28.7454596302669 41.0533110938499, 28.7463334895317 41.0535957728182, 28.746404228564 41.0535727694084, 28.7464502729245 41.0534844010695, 28.7464681501188 41.0533949078034, 28.7464726079806 41.0525899842432, 28.7464360223387 41.0518546608654, 28.7462720036998 41.0509209423426, 28.7462749225402 41.0508986417464, 28.7463102881246 41.0506776109849, 28.7463180842726 41.0506552761103, 28.7463573295024 41.0505929452265, 28.746373766449 41.0505729500171, 28.7465046187573 41.0504529979714, 28.7465147743081 41.0504444661609, 28.7466050588043 41.0504066399146, 28.7466300704839 41.0503985380161, 28.7467105962028 41.0503732132974, 28.7467294499036 41.0503702650676, 28.7467812977518 41.0501263652051, 28.7468265163797 41.0494922423386, 28.7467155348556 41.0491609383144, 28.7463978703406 41.0483513315547, 28.7463691321979 41.0483553427509, 28.7463512953516 41.0483548785682, 28.7463208277109 41.0483496856913, 28.7463024388079 41.0483410234198, 28.7462388958108 41.048261001833, 28.7462027603871 41.0481849737782, 28.7460816533078 41.0477854903128, 28.7460615310986 41.0477051325303, 28.745974327477 41.0468296033115, 28.7459848581603 41.0466632309202, 28.746128245886 41.0461835152616, 28.7463958070083 41.0456783194242, 28.7465038417766 41.0455194898229, 28.7465585932213 41.0454482304748, 28.7495593476102 41.044145863426, 28.7506188834316 41.0437514463644, 28.7506919107772 41.0437133360806, 28.7507201308906 41.0436865400813, 28.7514311711402 41.0428337157166, 28.7514706197849 41.0427728222621, 28.7514948040333 41.0427262620865, 28.7514721279558 41.0426048180218, 28.7514531837261 41.0425227099212, 28.7514492447835 41.0425066036246, 28.7513965982032 41.0423348602059, 28.7512833347518 41.0421672384739, 28.7512779103402 41.0421586247351, 28.7514609911144 41.0416653745121, 28.751540040931 41.0414974900211, 28.7516191927932 41.0413364552248, 28.7516657202473 41.0412533987198, 28.7517017040088 41.041199582807, 28.7517234075171 41.0411773972742, 28.7521686031982 41.0407906240703, 28.7523764361112 41.0406171119099, 28.7526286435422 41.0404108548407, 28.7526711286603 41.0403839435255, 28.7526875611943 41.0403769170744, 28.7526971169345 41.0403747694378, 28.7527341119333 41.0403740866523, 28.7530510392142 41.0404186669762, 28.7531942591709 41.0404421870926, 28.7533908011606 41.0403747986525, 28.7537156343315 41.0396286207878, 28.7534252754987 41.037388915814, 28.7534198606358 41.0373733725797, 28.7533951281203 41.0373226810683, 28.7533817992141 41.037298312666, 28.7533725678151 41.0372833593423, 28.7533430500085 41.0372403588314, 28.7533118685051 41.0372039152387, 28.7531641388288 41.0370923728772, 28.7524723315069 41.0366354829043, 28.7521815135692 41.0364813351381, 28.7519468903313 41.0352728564405, 28.7519449885359 41.0352539250517, 28.7519438535289 41.0351755773109, 28.7519459129056 41.0351544377519, 28.7519587117854 41.0350754305316, 28.7519802387195 41.0350310015317, 28.7519949326442 41.0350145936874, 28.7520863731937 41.0349269836042, 28.7521158107488 41.0338469730289, 28.7520353179348 41.0326883358716, 28.7519921456843 41.0323928879412, 28.7519210422633 41.0321282013678, 28.7516162338023 41.0317590601391, 28.751417794413 41.0315000179848, 28.751411648301 41.031491758393, 28.7513935286253 41.0314565344937, 28.7513809330161 41.0314306484619, 28.7513637756796 41.0313947146417, 28.7513598027169 41.0313850352061, 28.7508620604681 41.0301201266545, 28.7508043409423 41.0299719243039, 28.7505647350437 41.0292240399253, 28.7505591378486 41.029205882419, 28.7505518449817 41.0291575421567, 28.750550706972 41.0291486164717, 28.7505518937423 41.0291298067712, 28.7505534980291 41.0291205479454, 28.7505601909917 41.0290937030862, 28.750563211337 41.0290846378981, 28.7505702522464 41.029064545526, 28.7505743430845 41.0290555873892, 28.7508073275717 41.0287134298033, 28.7509959981575 41.0285763576107, 28.7510517708579 41.0285382454213, 28.751062119055 41.0285321419093, 28.7510919190843 41.0285154476567, 28.751551318308 41.0273409585756, 28.7515898448971 41.0261955831348, 28.751696747799 41.0243444772782, 28.7517136805285 41.0242221157999, 28.7517832990542 41.0238852086889, 28.7517880378535 41.0238671586742, 28.7521473800375 41.0228261084377, 28.7528004653362 41.0213015509299, 28.7528354551592 41.0212237731418, 28.7536843937545 41.0192787618457, 28.7540377519604 41.0179151020961, 28.7543526662867 41.0170956015663, 28.7544828925756 41.0169101705069, 28.7544930923963 41.0168924549064, 28.7545255266241 41.0168178913661, 28.754527963157 41.0168018918261, 28.75455039402 41.0165517234584, 28.7545471925289 41.0164439964042, 28.75449862532 41.01588583635, 28.7544154437029 41.0152403222681, 28.7544113612895 41.0152172307077, 28.7543700107998 41.015121787392, 28.7543491289923 41.0150751885844, 28.7543389236702 41.0150555389223, 28.7543219135199 41.0150242883874, 28.75418367244 41.0147712145071, 28.7540298771664 41.0145865869657, 28.7539972715346 41.0145251861134, 28.7539151460274 41.0142908190433, 28.7539105454937 41.0142637554601, 28.7538967617124 41.0141688783445, 28.7538796694245 41.0140098601395, 28.7538662824073 41.0137867658703, 28.753866927929 41.0137460796516, 28.7539690838705 41.0126590144569, 28.7540058941925 41.0124908552282, 28.7540348236686 41.0123624026592, 28.7540501818583 41.0123047609819, 28.7540755756812 41.0122389024023, 28.7540868045539 41.0122218678678, 28.7541034112581 41.0122052138231, 28.7541470346458 41.012167416152, 28.7542076094662 41.0121321410227, 28.7542470495944 41.0121144704657, 28.7542630937154 41.0121084300081, 28.7543031685851 41.0120951775077, 28.7544250985941 41.0120590355783, 28.7554551935611 41.0118545121787, 28.7554807073569 41.0118502837296, 28.7556283930742 41.011829278465, 28.7557575469532 41.011813292746, 28.7558152168779 41.0118127465748, 28.7563013862471 41.0118580614007, 28.7566702597545 41.0119019332565, 28.7567376452394 41.0119092306474, 28.7568740652083 41.0119114225406, 28.7569333020889 41.0119095420639, 28.7570747087651 41.0118997208174, 28.7571680437605 41.0118924442835, 28.7581160522697 41.0117726410974, 28.7584243844828 41.0117299501493, 28.7586688847092 41.0116865699755, 28.7587441000651 41.0116693768366, 28.759622956343 41.0114651653922, 28.7599194159022 41.0113897452106, 28.7606937213243 41.0111566690555, 28.7620710730229 41.0108532606811, 28.7623173018132 41.0108066506492, 28.762425130039 41.0107869194372, 28.7624660375183 41.0107797986674, 28.7625106093879 41.0107800053279, 28.7625494169207 41.0107832106492, 28.7625871943116 41.0107910916473, 28.762617127856 41.0108049177134, 28.7626304899728 41.0108149695308, 28.7626592748229 41.0108586767053, 28.7649758318447 41.0111968736254, 28.7651092542696 41.0112047747031, 28.7678414986747 41.0111102541822, 28.7684121319799 41.0110841242675, 28.7688806691094 41.0110569009738, 28.7691820948769 41.0109829443466, 28.7692210643611 41.0109720438749, 28.7693357310772 41.0109399667543, 28.769523464847 41.0108827795006, 28.7697563513633 41.0108016541947, 28.7699497378283 41.0107329686278, 28.770158484576 41.0106371131089, 28.7704145663094 41.010507192808, 28.7716246424731 41.0098721017166, 28.7717556982121 41.0097303944576, 28.7717811196682 41.0096759955878, 28.771951640758 41.0092951268666, 28.772044313012 41.0090484952049, 28.7721306031454 41.0088025977489, 28.7721792009431 41.0086431274378, 28.7722825240844 41.0082800335415, 28.7727533021849 41.0065220945322, 28.7727743002797 41.0063818928256, 28.7727791769864 41.0062715327012, 28.7727673978784 41.0061438464678, 28.7727465697021 41.0060460780244, 28.7726991233611 41.0059340892215, 28.7726321462653 41.0058068848863, 28.7725537130946 41.005687064519, 28.7724375182256 41.0055432577513, 28.7723500798638 41.0054512115487, 28.7723240345954 41.0054317530847, 28.7721740735326 41.0053278807735, 28.7716625644832 41.0049836954343, 28.7713214689298 41.0047592373333, 28.7710013562952 41.004547864666, 28.7703585068288 41.0041143744048, 28.7701283061568 41.0039382623559, 28.7700126791762 41.0038405523913, 28.7698484306444 41.0036940871353, 28.7693071001622 41.0032048589249, 28.7675535741865 41.0019330139535, 28.7672236237902 41.0017193825516, 28.7671579938794 41.0016725864474, 28.7670940154522 41.0016129461741, 28.7670316357833 41.0015436748188, 28.7669960936281 41.0014768317697, 28.7669620255088 41.0014067917304, 28.766882074576 41.0012172738521, 28.7668407808914 41.0010796212209, 28.7667807583563 41.0008838864823, 28.7667412694843 41.000800922971, 28.7666624919894 41.0007003875664, 28.7665753889247 41.0005911890784, 28.7664781219077 41.0004958168629, 28.7663886636542 41.0004369741115, 28.7663340942795 41.0004042310337, 28.7662552716167 41.0003819488861, 28.766126698889 41.0003719968011, 28.7658000544997 41.0003609961616, 28.7654520720898 41.000356196941, 28.7641522922252 41.0003272625025, 28.7639260488927 41.0003194742939, 28.7638032366476 41.0003042229135, 28.763696465876 41.0002634144729, 28.7635968444657 41.0002183965619, 28.7635213554811 41.0001693495939, 28.7634363464201 41.0000998335229, 28.7633904246647 41.0000586051994, 28.7633466182054 40.9999798829727, 28.7633087108489 40.9998883622265, 28.7632643818079 40.9996863586433, 28.7632213668808 40.9994897294223, 28.7631934420232 40.9993940269824, 28.7631611148087 40.9993068530264, 28.7630472095052 40.9991180396127, 28.7628986599544 40.9988902634346, 28.7627853070954 40.9987475498067, 28.7625962689767 40.9985665060485, 28.7621366695713 40.9981756682326, 28.7620041468698 40.9980745542041, 28.761889754402 40.9979875680989, 28.7618397109495 40.9979398648753, 28.7617940523898 40.9978847054181, 28.761707564029 40.997743350836, 28.7616061154493 40.9975696773396, 28.7615804423197 40.9975050834741, 28.761578555979 40.9974546830091, 28.7615938643287 40.9973926743074, 28.7616162084788 40.9973328851325, 28.7616716056801 40.9972455799338, 28.7617353534333 40.9971658686394, 28.761794674962 40.9970957570113, 28.7618577581744 40.9970514129701, 28.7620434987097 40.9969547880262, 28.7624134815729 40.9967658108122, 28.7629063799578 40.9965106191498, 28.7630535826711 40.996431801012, 28.7633855271133 40.9962338366719, 28.7639335570263 40.995829158423, 28.7641189593663 40.9956746420233, 28.7643577149541 40.9954660274128, 28.7648445162597 40.9950060202232, 28.7649412321274 40.9949030762061, 28.765002140988 40.9948233335318, 28.7650729407626 40.9946686581609, 28.7652115138908 40.9942938879703, 28.7653026395397 40.9940354524665, 28.7653385892035 40.9939286425817, 28.7653602299487 40.9938302560543, 28.7653885321786 40.9936783406814, 28.7654602029692 40.9930220032721, 28.7654792175221 40.9928367596182, 28.7654891722642 40.9926825046428, 28.7655184664311 40.9925531134112, 28.7655929366954 40.9922773477156, 28.7656475956518 40.9920774772863, 28.7656773846831 40.9919974018355, 28.7657038673169 40.9919430155041, 28.7657473989358 40.9918845220585, 28.7658065114637 40.9918251275168, 28.7658811637932 40.9917669699485, 28.7659784076925 40.99171119724, 28.7661213319725 40.9916334034829, 28.7666271658961 40.9913643970355, 28.7671685752468 40.9910839767542, 28.7674497783426 40.9909497757658, 28.7693485390521 40.9900799072117, 28.7695753163525 40.9899882327348, 28.7696566906199 40.9899576806658, 28.7706126378388 40.9896483124268, 28.7715536051195 40.9893321151329, 28.7716255989567 40.9893010078697, 28.771643819364 40.9892928288912, 28.7717036101656 40.9892533966633, 28.771782791653 40.9891871588488, 28.7719647244304 40.9889310332753, 28.7719964619853 40.9888858975872, 28.7720182144176 40.9888471440541, 28.7722940377759 40.9882440950676, 28.7722908898642 40.9881767098149, 28.7722928150965 40.9881371129311, 28.7723548365361 40.9878495466, 28.7726952155116 40.9868088597625, 28.7729421402665 40.9861360776096, 28.7729478752676 40.986127852845, 28.7729593231042 40.9861193287209, 28.7730030790125 40.9861050327547, 28.7730471368723 40.9860936132788, 28.7730788285242 40.9860760301325, 28.7731545632499 40.9860292950065, 28.7731925001871 40.9860017870575, 28.773876984357 40.9853134847498, 28.7750935570479 40.9840403417755, 28.7751176936372 40.9840137634457, 28.7751448658533 40.9839773125621, 28.7751976645731 40.9838851313028, 28.7752159214053 40.9838491277306, 28.7754891119028 40.9830773941854, 28.7755678479517 40.9828485326928, 28.775591255637 40.9827587385292, 28.7756278281436 40.9825543685052, 28.7756829003201 40.9820823229936, 28.7756838886309 40.9820255465166, 28.7756660944923 40.9819855671929, 28.7755996731494 40.9819029389871, 28.775424256575 40.9817852180756, 28.7753204115756 40.9817220890841, 28.7749357254554 40.9815635204662, 28.7740431024132 40.9812310298716, 28.7738847707421 40.9811923315166, 28.7736321557691 40.9811564396266, 28.7734919566189 40.9811385626662, 28.773444309613 40.9811263544862, 28.7733337265053 40.9810935795839, 28.7731895932221 40.9810382103034, 28.7731451639337 40.9810190146368, 28.7730320129783 40.9809581247749, 28.7729832363274 40.9809236671814, 28.7728603385735 40.9807222366959, 28.7728400903965 40.9806482924264, 28.7728391967356 40.9806131757621, 28.7729933329745 40.9798628253462, 28.7730013932157 40.9798446331658, 28.7739250588398 40.9782919637583, 28.7739535486027 40.9782545240416, 28.773998233329 40.9782181353947, 28.7744258233715 40.9779028838527, 28.7748349895027 40.9776332365451, 28.7751559195995 40.9775934090302, 28.7751141584038 40.9777738587366, 28.7750191042318 40.9780375512344, 28.7749260013644 40.9788653147694, 28.7749165312111 40.9789951121582, 28.7749161549061 40.9792153885205, 28.7749350542061 40.9794745651401, 28.7749980644222 40.9803328700103, 28.7750111172355 40.9804878335427, 28.7750251197713 40.9805291908698, 28.7751256112678 40.9807048652865, 28.7752441055187 40.9808872779783, 28.7753828421922 40.9810942336205, 28.7756377746155 40.9814734488324, 28.7756752118539 40.981528073517, 28.7757475238892 40.9816439876832, 28.7758431751623 40.9818364680329, 28.7758460837542 40.9819182676305, 28.7758419975863 40.9820435560955, 28.7758174140825 40.9823207746458, 28.7757923035727 40.9825785471421, 28.7757785000047 40.9826879027006, 28.7757261046332 40.9828454890833, 28.7753105864658 40.983961538331, 28.7752717591591 40.9840460126794, 28.7752441038268 40.9840995208383, 28.7751871471307 40.9841722562192, 28.7750608435063 40.9843317906087, 28.7747419557716 40.9846931862966, 28.774594842838 40.9848558503785, 28.7739109709499 40.9855908556995, 28.7736380073747 40.9859081704977, 28.7736042493574 40.9860116973909, 28.7734523455543 40.9865507454592, 28.7740662049203 40.9865381425997, 28.7745136835405 40.9865103691493, 28.7750095187158 40.9864620628811, 28.7753944772402 40.986401095081, 28.7759925027191 40.9862888091803, 28.7765564420292 40.9861780456907, 28.7770462311538 40.9860505595024, 28.7775027669824 40.9859298923248, 28.7778492140001 40.9858366314804, 28.7784726746748 40.9856616978326, 28.7789393871163 40.9855507764616, 28.7790983120726 40.985513007274, 28.7795629596669 40.9854332085093, 28.7799410091732 40.9853907337368, 28.7802749694348 40.9853640935957, 28.7806691771993 40.9853398123611, 28.781108909046 40.9853295501559, 28.7812570692301 40.9853271314626, 28.7816634247746 40.9853204977706, 28.7823029791417 40.9853247698495, 28.7826897362834 40.9853412828312, 28.7830303488989 40.9853697378675, 28.7834035291349 40.9854109607754, 28.7837829985717 40.9854671627759, 28.7841524455795 40.9855332004368, 28.7844956940615 40.9855964754418, 28.7859876096153 40.9859111885413, 28.7869248969254 40.9861551332674, 28.7884251517589 40.9866317084804, 28.7891767350452 40.9869393435818, 28.7898170399923 40.9872400976455, 28.7907329179147 40.9877877985519, 28.7917319232439 40.9885496267084, 28.7924113263212 40.9892050459372, 28.792709870429 40.9889607350319, 28.7933513796328 40.9885961446623, 28.7944419017539 40.9881509322741, 28.7967409701898 40.9886769212668, 28.7978669917034 40.9889391288655, 28.7985803384428 40.9891109835521, 28.7986448717004 40.9892794967775, 28.798565107423 40.9896684322437, 28.7984567672911 40.9901925810273, 28.7981803129057 40.991290981913, 28.7978706150203 40.9928244935845, 28.7982240686984 40.992960504868, 28.7972459394722 40.9972921511517, 28.7969844783268 40.997545012104, 28.7975681708227 40.9980120918553, 28.7998292014486 40.9993877926946, 28.800893440903 40.9998768992027, 28.8018925960923 41.0002200799792, 28.8029182204512 41.0004604271286, 28.8040931034959 41.0006365866465, 28.8054240706987 41.0007066598952, 28.8068506433911 41.0006089631349, 28.8080570688981 41.0004011063241, 28.8096200776763 40.9999204826729, 28.8107796937882 40.9993865214593, 28.8121651596722 40.9985117235126, 28.813224658556 40.997514157592, 28.8146994352844 40.9955139321417, 28.8156738505301 40.9946008896945, 28.8170430752372 40.9938342758215, 28.818896390567 40.9933247088106, 28.8192083116388 40.9939229660133, 28.8193257768992 40.994154700217, 28.8170465771703 40.9950054340356, 28.8165605263205 40.9952795881957, 28.8160612973494 40.9958780639092, 28.8158185977697 40.9963473078336, 28.8151577235577 40.9974074338832, 28.8146376811291 40.9981550247779, 28.8139435975376 40.9990565942919, 28.8135115149139 40.9994710239233, 28.8118043921097 41.0005659242224, 28.8114798419179 41.0010070305403, 28.8114058512684 41.0013940781347, 28.8120391707298 41.0026347251825, 28.8103029079701 41.0051390021539, 28.8101731545507 41.0055198020984, 28.8102257896098 41.0061091310889, 28.8101604056469 41.0066378165667, 28.8097038876313 41.0073423682904, 28.8095034774869 41.0074483460705, 28.8090633654749 41.0092375149405, 28.8088708476606 41.0102907321954, 28.8088824809444 41.0107796055791, 28.8089540837442 41.0116221481953, 28.8089306468431 41.012071844017, 28.8087243866952 41.0130356890528, 28.8083883957287 41.014680888688, 28.8083758720358 41.0150918909902, 28.8077511287116 41.0154694620847, 28.8074554016592 41.0154470458154, 28.8072742389154 41.0153016455649, 28.8070243245429 41.0152835723632, 28.8067011561806 41.0153654996028, 28.806120774547 41.0155369832484, 28.8060228088373 41.0158741595337, 28.8059569003228 41.0161334309773, 28.8059120162035 41.016920381521, 28.8066701541022 41.0179135593852, 28.8066764907144 41.0179250172791, 28.8067888483717 41.0181281901237, 28.8069521677926 41.0192625196378, 28.8069495389999 41.0192677347461, 28.8065213378738 41.0201169774443, 28.8064968164378 41.0201656098093, 28.8066305176332 41.0206751023442, 28.8071462413126 41.0218092915787, 28.8074031141323 41.0220097751184, 28.807517644692 41.0220612233068, 28.807853868744 41.0222122566226, 28.8079388881547 41.0223102009068, 28.8080277888889 41.0236106040674, 28.8087203896321 41.0248552090991, 28.8082494364312 41.0256592720718, 28.8082461290876 41.0256649195976, 28.8080006668664 41.0262481940484, 28.8081016748909 41.0265944608221, 28.8082260262282 41.0268597760374, 28.8086596710924 41.0277849703081, 28.8086976177699 41.0278626709633, 28.8087109604847 41.0278503667219, 28.8109676751029 41.027228790441, 28.8109669334973 41.0272456244716, 28.8107233329669 41.0326304089735, 28.8107692104122 41.034442649848, 28.8108465809173 41.0356908422356, 28.8108091048072 41.0365526215754, 28.8105727454352 41.0380950320809, 28.8099931171927 41.0398715145936, 28.8085363637369 41.0432827425581, 28.8082004618143 41.0445566894217, 28.8080318551695 41.0457623419313, 28.8079966090187 41.0460385171492, 28.8079895481474 41.0462827233301, 28.8079843419744 41.0465022526178, 28.8079913615821 41.0468453247715, 28.8080046480139 41.0472117927465, 28.8080280280838 41.0475330951432, 28.8080521118495 41.0477430586613, 28.8080856332333 41.048014066215, 28.808126011674 41.0482755208889, 28.8081766602133 41.0485561915608, 28.8084915934891 41.0499337187218, 28.8086395912148 41.0504569491503, 28.808715493613 41.0507226750552, 28.8088742113388 41.0512595079706, 28.8093144554872 41.052744435882, 28.8095266510888 41.0534566339523, 28.8098981706904 41.0546928235717, 28.8106331867538 41.0573322864621, 28.8113130677352 41.0597381164475, 28.8113925782315 41.0599680494716, 28.8114884903739 41.0602653820078, 28.8115622667495 41.0605464702481, 28.8117482464933 41.0612930198914, 28.8114254525441 41.0612786604127, 28.8110695752434 41.0612627755083, 28.8106117432003 41.0612423398831, 28.8100832586243 41.0612350790333, 28.8096350120477 41.0612335052136, 28.8091782934854 41.0612319024226, 28.8087924824853 41.0612448866616, 28.8078960645921 41.0612967278837, 28.8075368540094 41.0613174998798, 28.8072561749204 41.0613400165383, 28.8069290596419 41.0613710199589, 28.8066039130988 41.0614033943803, 28.8058041951152 41.0615015518833, 28.8052469586851 41.0615839090702, 28.8047899686562 41.0616646534866, 28.8041830763673 41.061778472684, 28.8037239921523 41.0618708453471, 28.803087574606 41.0620202558246, 28.802538523289 41.0621614512345, 28.8017346110505 41.0623852993892, 28.8006868292795 41.0627313579067)), ((28.7719530525622 40.9879913173628, 28.7715401276631 40.9882467840035, 28.7714653677098 40.9882916357111, 28.7710046631525 40.9883432663757, 28.7708391651555 40.9883478164005, 28.7705412127608 40.9883375252394, 28.7705182793458 40.9883310712115, 28.7699469652546 40.9881251735211, 28.7691723426313 40.9879315965057, 28.7689073409422 40.987906530157, 28.7675016934617 40.987836593493, 28.7663903174418 40.9878660361925, 28.765697240036 40.9873406974281, 28.7656454070166 40.9872972816127, 28.7656219844641 40.9872663196108, 28.7655402461202 40.9871316520569, 28.7654910681316 40.9870415328787, 28.7654830033577 40.9870214568236, 28.7654448994067 40.9868092688632, 28.7654353137978 40.9867432551776, 28.7654122056487 40.9866888923651, 28.7653597715677 40.9865887452109, 28.7652694821086 40.9864278561058, 28.7649622180964 40.9859813731998, 28.7649340716503 40.9859424564102, 28.7645429328153 40.985405753049, 28.76446139243 40.9853371671378, 28.7643640952759 40.9852788618206, 28.7642493741705 40.9852116191827, 28.7642373728272 40.9852053783557, 28.7628900451909 40.9846060204104, 28.7628763383177 40.9846019113787, 28.762769924853 40.9845728574927, 28.7626285071835 40.9845355903486, 28.7625370422207 40.9845158712631, 28.762256465381 40.9845040452517, 28.7617334665553 40.9844441263065, 28.7612832867695 40.9843527708647, 28.7585869271879 40.9837454349819, 28.7575517809886 40.9834712743391, 28.7566077171912 40.9831939431611, 28.7566201875249 40.9822311691974, 28.756688238202 40.9800494334612, 28.756770177809 40.9800215239926, 28.7568353746724 40.9800181139639, 28.7568949906491 40.9800228701006, 28.757452473466 40.9801070343087, 28.7575604680672 40.9801369916635, 28.7583862010472 40.9803885774268, 28.7585037371593 40.9804885645856, 28.758546147595 40.9805424946911, 28.7586049930053 40.9805883744915, 28.7587184913312 40.9806142777422, 28.7588807546368 40.9806448200523, 28.7593472221515 40.980662181274, 28.7595750686768 40.9806687448056, 28.7597541513937 40.9806706727202, 28.7601557300926 40.9806749928837, 28.7606884747267 40.9806313609235, 28.7609931436992 40.9805935033434, 28.7610857848859 40.9805739313241, 28.7612277249579 40.9805302107804, 28.7612771044255 40.9805019472788, 28.761353927622 40.980457525883, 28.7614692711148 40.9803847241665, 28.7615136855082 40.9803317280413, 28.7615850025727 40.9802913605241, 28.7616449280936 40.9802796647491, 28.7621346402868 40.9802149977903, 28.7622814671742 40.9802001207895, 28.762335811062 40.9801965920118, 28.762889259798 40.9802066455031, 28.7629701236326 40.9802363057129, 28.7630771977402 40.9803156108783, 28.7632147589662 40.9805062993463, 28.7632568635741 40.9805766790331, 28.7632985876737 40.9806676224, 28.7633448933472 40.9808038600543, 28.7634025888424 40.9809114257104, 28.7634715264358 40.9809985450589, 28.7635033954453 40.9810359083868, 28.7635565854213 40.9810940654876, 28.7637163934202 40.9812562005098, 28.7638398265677 40.9813315654211, 28.764028076457 40.981424076205, 28.7640980879321 40.9814536210586, 28.764195539442 40.9814670063819, 28.7646343445384 40.9815128447131, 28.765236722003 40.9815192981492, 28.7653725446556 40.9815125248312, 28.7655465868916 40.9814938246861, 28.7657803477169 40.9814826988909, 28.7665075451798 40.9815513579532, 28.7666002904176 40.9817009197754, 28.7666239248171 40.9818673005642, 28.7670441041428 40.9842700773181, 28.7670470179569 40.9842793775792, 28.767087238862 40.9843529250419, 28.7671033940452 40.9843785792923, 28.767106077816 40.9843812201644, 28.7674711730153 40.9846520959836, 28.7674758747731 40.9846548475684, 28.7674835987306 40.9846548293107, 28.7675635782045 40.9846534451036, 28.7676441104274 40.9846299034076, 28.7676493472504 40.9846163619056, 28.7676571835221 40.9845918664717, 28.7676597107695 40.9845830674129, 28.7676682611584 40.984316174906, 28.7675886920773 40.9834777624055, 28.7674315320623 40.9832203606622, 28.7680052755259 40.982686683468, 28.7680226646742 40.9826709333952, 28.7681873141542 40.9825333990881, 28.7684024613167 40.9823948688605, 28.7700536371778 40.9815674311973, 28.7700800794416 40.9815576356514, 28.7700996622581 40.98155244468, 28.7702275295426 40.9815193213082, 28.7702361117005 40.9815177947842, 28.7703438060361 40.981509025386, 28.7703689912304 40.9815093949038, 28.77042789555 40.9815174086423, 28.7704725702806 40.9815240045541, 28.7705414881834 40.9815420271526, 28.7708457785752 40.9816262999802, 28.7714033542218 40.9817182414758, 28.7714384221258 40.981723839583, 28.7729342393036 40.9817676755622, 28.7735092823295 40.9817836086374, 28.7737075210975 40.9817873358884, 28.7738732087402 40.9817899980006, 28.773891565892 40.9817748858361, 28.7741028117937 40.9817756010347, 28.7741614757863 40.9817775737797, 28.7742090726147 40.9817868132892, 28.7742720904143 40.9818026981101, 28.7749132942669 40.9820121995505, 28.7749657725148 40.9820338302201, 28.7750208313406 40.9820568218379, 28.7750628515757 40.9820851045065, 28.775129254878 40.9821307302599, 28.7751465202377 40.9821545132845, 28.7752483311341 40.9823160494058, 28.7752642546028 40.9823543088897, 28.7752914917761 40.9824747967421, 28.7752942639128 40.9825176951079, 28.7752990634806 40.9827071953734, 28.7752991245378 40.9827167397551, 28.7752832208987 40.9828447002779, 28.7752803259517 40.9828538440725, 28.7751355984083 40.9832648928031, 28.775112200354 40.9833155953937, 28.774863050601 40.9836545805152, 28.7747723932522 40.9837696823282, 28.774737354219 40.9838136113715, 28.7746941524005 40.9838619459116, 28.7746486312441 40.9839019915691, 28.7744064892367 40.9841118275577, 28.773913058347 40.9845015989191, 28.7736314425929 40.9847453109873, 28.7733121939586 40.985032040914, 28.7728937886293 40.9855521682418, 28.7728726930432 40.9855812186519, 28.7728096964327 40.9856719413768, 28.7726660791484 40.9859579180247, 28.7726569458877 40.9859761914797, 28.7726419766922 40.9860586894555, 28.7726549432332 40.9860970042302, 28.7726507349186 40.9861383695932, 28.7726383267281 40.9862307185977, 28.772635737708 40.9862485196712, 28.772560787067 40.9864839942783, 28.7725063804756 40.9866302643698, 28.7724835515348 40.9866887396119, 28.7722888584171 40.9871719850358, 28.7719530525622 40.9879913173628)), ((28.7746955494321 40.9770266709424, 28.7747217739688 40.977028119371, 28.7747387353952 40.9770294711329, 28.7747861427249 40.97705454979, 28.7748254390781 40.9771006106654, 28.7749301325992 40.9772842889653, 28.7749340496959 40.9773229503772, 28.7749352030439 40.9773440283794, 28.7749347267584 40.9773697686379, 28.7749215307106 40.9774152724896, 28.7748977028937 40.9774512978898, 28.7748475168554 40.9774928950839, 28.7747303628242 40.9775647654015, 28.7741998727314 40.9777859410835, 28.7740587487178 40.977842255568, 28.7739033021918 40.97790219397, 28.7738078319811 40.9779434089674, 28.7737323138371 40.9779798810329, 28.7736705584672 40.9780169541895, 28.7736234904833 40.9780492284667, 28.7734817241096 40.9781668390044, 28.7733603300008 40.9782676577893, 28.7732584544338 40.9783536531628, 28.7731510292711 40.9784446246254, 28.7730586138767 40.9785331435827, 28.7729898559608 40.9786015617021, 28.7729365218282 40.9786585337269, 28.772883027903 40.9787178397601, 28.7728285570544 40.9787847827835, 28.7727872587437 40.9788398208687, 28.7727007330985 40.9789695522308, 28.7726480825653 40.9790539019949, 28.7726127132254 40.979115838365, 28.7725815293144 40.9791826645456, 28.7725564342043 40.9792420152899, 28.7725109888685 40.9793731735156, 28.7724592862166 40.9795405518125, 28.7722680323983 40.9802106824295, 28.7721355923498 40.9806955925085, 28.7716933315617 40.980901764789, 28.7710678122879 40.9809181405869, 28.7709381831247 40.9809243320467, 28.7708697531729 40.980930356561, 28.7708204026212 40.9809381953748, 28.7705923941237 40.980989883616, 28.7704833899577 40.9810181724618, 28.7703819187059 40.9810500478637, 28.7702967965802 40.9810848763419, 28.7702348552389 40.9811121272709, 28.7701807256234 40.9811414541789, 28.7701204028273 40.9811842917722, 28.770007754438 40.9812677425775, 28.7698575198256 40.9813857174067, 28.7697736382229 40.9814554137504, 28.7697081014917 40.9815104405194, 28.7696452561777 40.9815674985502, 28.7692519947671 40.9819043713632, 28.768760598477 40.9820684065537, 28.7676166988578 40.9826820857157, 28.7676092900681 40.9826845259259, 28.7676038191074 40.9826847402647, 28.7675967614462 40.9826807019841, 28.7675418359487 40.982637961676, 28.7673506663315 40.9824776360171, 28.7673366232579 40.9824595581455, 28.7673235182247 40.9824358364611, 28.7672028450817 40.9821208409331, 28.767191688776 40.9818011484765, 28.7677239140246 40.980561288443, 28.768006366973 40.9802853549523, 28.7680338296667 40.9802590864769, 28.7682417537688 40.9801315465464, 28.7690295420459 40.9798104003408, 28.7703667814958 40.979313044668, 28.7713200970331 40.9790151813943, 28.7717756120717 40.9788560689673, 28.7728084957773 40.9784439480667, 28.7728388892688 40.9784133866297, 28.7728587466611 40.9783868460279, 28.7728858777981 40.9783462675957, 28.7729089339418 40.9783011192766, 28.7729300141296 40.9782403966582, 28.7733016929107 40.9777467932881, 28.7746614111883 40.9770356699063, 28.7746801105733 40.9770265068287, 28.7746955494321 40.9770266709424)))", {
			strokeWidth: 7,
			strokeColor: "#006aae",
			strokeOpacity: .8,
			fillOpacity: 1e-12,
			strokeDashstyle: "2 10"
		}, {
			zoom: !0
		});
		o = getParameterByName("q");
		o !== "" && $.MapLoader.push(function() {
			$($.SearchTextBox).val(o);
			$($.SearchTextBox).change();
			$($.SearchSubmit).click()
		});
		n = getParameterByName("lon");
		r = getParameterByName("lat");
		$.isITRF(n) == 6 && (s = $.MapITRFtoWgs84(n, r), n = s.x, r = s.y);
		a = getParameterByName("is3D");
		a !== "" && SH3D();
		var f = getParameterByName("zoom"),
			t = getParameterByName("angle"),
			y = getParameterByName("nomarker"),
			e = getParameterByName("noinfo"),
			u = getParameterByName("title");
		u = u === "" ? $.PopupLanguageList.current.PopupInfo : XSSDefender(u);
		i = getParameterByName("content");
		i = i === "" ? !0 : XSSDefender(i);
		e = e === "" ? !0 : undefined;
		n !== "" && r !== "" && $.MapLoader.push(function() {
			$.MapLastClickedLocation[0] = parseFloat(n);
			$.MapLastClickedLocation[1] = parseFloat(r);
			f = f !== "" ? parseInt(f) : 18;
			t = t !== "" ? parseInt(t) : 0;
			$.MapGoto($.MapLastClickedLocation[0], $.MapLastClickedLocation[1], f);
			t > 0 ? ($.NetworkSetLocation("info", $.MapLastClickedLocation[0], $.MapLastClickedLocation[1], {
				title: u,
				content: i,
				showPopover: e,
				panorama: {
					angle: t
				}
			}), $("#panorama").click(), onClickVectorClick({
				lon: $.MapLastClickedLocation[0],
				lat: $.MapLastClickedLocation[1],
				angle: t
			})) : y || $.NetworkSetLocation("info", $.MapLastClickedLocation[0], $.MapLastClickedLocation[1], {
				title: u,
				content: i,
				showPopover: e
			})
		});
		h = getParameterByName("nm");
		h !== "" && $.MapLoader.push(function() {
			var n, i, r, t, u, f;
			$("#network").click();
			h == "tubs" && $($.NetworkContainer + " #networkTab div:last-child").click();
			n = getParameterByName("start");
			n != "" && (i = parseFloat(n.split(",")[0]), r = parseFloat(n.split(",")[1]), $.NetworkSetLocation("baslangic", i, r));
			t = getParameterByName("finish");
			t != "" && (u = parseFloat(t.split(",")[0]), f = parseFloat(t.split(",")[1]), $.NetworkSetLocation("bitis", u, f))
		});
		c = getParameterByName("ktm");
		c !== "" && $.MapLoader.push(function() {
			$("#layersContainer li").each(function(n, t) {
				$(t).text() == c && $(t).click()
			})
		});
		l = getParameterByName("bs").toUpperCase();
		l !== "" && $.MapLoader.push(function() {
			var n, t, i;
			switch (l) {
				case "TRAFÝK":
				case "TRAFIK":
					$("#layerTRAFIK").click();
					break;
				case "HAVZASÝNÝRLARÝ":
				case "HAVZASINIRLARI":
					$("#havzaSinirlari").click();
					break;
				case "RAYLISÝSTEMLER":
				case "RAYLISISTEMLER":
					$("#rayliSistemler").click();
					break;
				case "SOLARHARÝTA":
				case "SOLARHARITA":
					$("#solarHarita").click();
					break;
				case "SOLARHARÝTASÝYAHBEYAZ":
				case "SOLARHARITASIYAHBEYAZ":
					$("#solarSiyahBeyaz").click();
					break;
				case "ECZANE":
					$($.BilgiSubmit + "[data-mode=NobetciEczaneler]").click();
					break;
				case "SPOR":
					$($.BilgiSubmit + "[data-mode=SporTesisleri]").click();
					break;
				case "ÝBBSOSYAL":
				case "IBBSOSYAL":
					$($.BilgiSubmit + "[data-mode=SosyalTesisler]").click();
					break;
				case "ÝBBÝLETÝÞÝM":
				case "IBBILETISIM":
					$($.BilgiSubmit + "[data-mode=IletisimNoktalari]").click();
					break;
				case "IBBWIFI":
				case "ÝBBWÝFÝ":
					$($.BilgiSubmit + "[data-mode=WifiNoktalari]").click();
					break;
				case "HIKAYE":
					$("#istanbulHikayeleri").click()
			}
			n = getParameterByName("i").toLowerCase();
			n !== "" && (n = n[0].turkishToUpper() + n.substr(1), $($.BilgiFilter + " select option").each(function() {
				this.selected = this.text == n
			}), $($.BilgiFilter + " select").change());
			t = getParameterByName("sn").toLowerCase();
			t !== "" && (setTimeout(function() {
				$("[data-story=" + t + "]").click()
			}, 500), i = getParameterByName("l").toUpperCase(), i !== "" && setTimeout(function() {
				$.HikayeGotoStory(i, !0)
			}, 1200))
		});
		v = getParameterByName("story").toUpperCase();
		v !== "" && $("#istanbulHikayeleri").click()
	}
});
Proj4js = {
	defaultDatum: "WGS84",
	transform: function(n, t, i) {
		if (!n.readyToUse) return this.reportError("Proj4js initialization for:" + n.srsCode + " not yet complete"), i;
		if (!t.readyToUse) return this.reportError("Proj4js initialization for:" + t.srsCode + " not yet complete"), i;
		if (n.srsProjNumber == "900913" && t.datumCode != "WGS84" && !t.datum_params || t.srsProjNumber == "900913" && n.datumCode != "WGS84" && !n.datum_params) {
			var r = Proj4js.WGS84;
			this.transform(n, r, i);
			n = r
		}
		return n.axis != "enu" && this.adjust_axis(n, !1, i), n.projName == "longlat" ? (i.x *= Proj4js.common.D2R, i.y *= Proj4js.common.D2R) : (n.to_meter && (i.x *= n.to_meter, i.y *= n.to_meter), n.inverse(i)), n.from_greenwich && (i.x += n.from_greenwich), i = this.datum_transform(n.datum, t.datum, i), t.from_greenwich && (i.x -= t.from_greenwich), t.projName == "longlat" ? (i.x *= Proj4js.common.R2D, i.y *= Proj4js.common.R2D) : (t.forward(i), t.to_meter && (i.x /= t.to_meter, i.y /= t.to_meter)), t.axis != "enu" && this.adjust_axis(t, !0, i), i
	},
	datum_transform: function(n, t, i) {
		return n.compare_datums(t) ? i : n.datum_type == Proj4js.common.PJD_NODATUM || t.datum_type == Proj4js.common.PJD_NODATUM ? i : (n.datum_type == Proj4js.common.PJD_GRIDSHIFT && alert("ERROR: Grid shift transformations are not implemented yet."), t.datum_type == Proj4js.common.PJD_GRIDSHIFT && alert("ERROR: Grid shift transformations are not implemented yet."), (n.es != t.es || n.a != t.a || n.datum_type == Proj4js.common.PJD_3PARAM || n.datum_type == Proj4js.common.PJD_7PARAM || t.datum_type == Proj4js.common.PJD_3PARAM || t.datum_type == Proj4js.common.PJD_7PARAM) && (n.geodetic_to_geocentric(i), (n.datum_type == Proj4js.common.PJD_3PARAM || n.datum_type == Proj4js.common.PJD_7PARAM) && n.geocentric_to_wgs84(i), (t.datum_type == Proj4js.common.PJD_3PARAM || t.datum_type == Proj4js.common.PJD_7PARAM) && t.geocentric_from_wgs84(i), t.geocentric_to_geodetic(i)), t.datum_type == Proj4js.common.PJD_GRIDSHIFT && alert("ERROR: Grid shift transformations are not implemented yet."), i)
	},
	adjust_axis: function(n, t, i) {
		for (var e = i.x, o = i.y, s = i.z || 0, r, u, f = 0; f < 3; f++)
			if (!t || f != 2 || i.z !== undefined) {
				f == 0 ? (r = e, u = "x") : f == 1 ? (r = o, u = "y") : (r = s, u = "z");
				switch (n.axis[f]) {
					case "e":
						i[u] = r;
						break;
					case "w":
						i[u] = -r;
						break;
					case "n":
						i[u] = r;
						break;
					case "s":
						i[u] = -r;
						break;
					case "u":
						i[u] !== undefined && (i.z = r);
						break;
					case "d":
						i[u] !== undefined && (i.z = -r);
						break;
					default:
						return alert("ERROR: unknow axis (" + n.axis[f] + ") - check definition of " + src.projName), null
				}
			}
		return i
	},
	reportError: function() {},
	extend: function(n, t) {
		var i, r;
		if (n = n || {}, t)
			for (i in t) r = t[i], r !== undefined && (n[i] = r);
		return n
	},
	Class: function() {
		for (var t = function() {
				this.initialize.apply(this, arguments)
			}, i = {}, r, n = 0; n < arguments.length; ++n) r = typeof arguments[n] == "function" ? arguments[n].prototype : arguments[n], Proj4js.extend(i, r);
		return t.prototype = i, t
	},
	bind: function(n, t) {
		var i = Array.prototype.slice.apply(arguments, [2]);
		return function() {
			var r = i.concat(Array.prototype.slice.apply(arguments, [0]));
			return n.apply(t, r)
		}
	},
	scriptName: "proj4js-combined.js",
	defsLookupService: "http://spatialreference.org/ref",
	libPath: null,
	getScriptLocation: function() {
		var t, n, i;
		if (this.libPath) return this.libPath;
		var r = this.scriptName,
			u = r.length,
			f = document.getElementsByTagName("script");
		for (t = 0; t < f.length; t++)
			if (n = f[t].getAttribute("src"), n && (i = n.lastIndexOf(r), i > -1 && i + u == n.length)) {
				this.libPath = n.slice(0, -u);
				break
			}
		return this.libPath || ""
	},
	loadScript: function(n, t, i, r) {
		var u = document.createElement("script");
		u.defer = !1;
		u.type = "text/javascript";
		u.id = n;
		u.src = n;
		u.onload = t;
		u.onerror = i;
		u.loadCheck = r;
		/MSIE/.test(navigator.userAgent) && (u.onreadystatechange = this.checkReadyState);
		document.getElementsByTagName("head")[0].appendChild(u)
	},
	checkReadyState: function() {
		this.readyState == "loaded" && (this.loadCheck() ? this.onload() : this.onerror())
	}
};
Proj4js.Proj = Proj4js.Class({
	readyToUse: !1,
	title: null,
	projName: null,
	units: null,
	datum: null,
	x0: 0,
	y0: 0,
	localCS: !1,
	queue: null,
	initialize: function(n, t) {
		var i, r;
		if (this.srsCodeInput = n, this.queue = [], t && this.queue.push(t), n.indexOf("GEOGCS") >= 0 || n.indexOf("GEOCCS") >= 0 || n.indexOf("PROJCS") >= 0 || n.indexOf("LOCAL_CS") >= 0) {
			this.parseWKT(n);
			this.deriveConstants();
			this.loadProjCode(this.projName);
			return
		}
		n.indexOf("urn:") == 0 ? (i = n.split(":"), (i[1] == "ogc" || i[1] == "x-ogc") && i[2] == "def" && i[3] == "crs" && (n = i[4] + ":" + i[i.length - 1])) : n.indexOf("http://") == 0 && (r = n.split("#"), r[0].match(/epsg.org/) ? n = "EPSG:" + r[1] : r[0].match(/RIG.xml/) && (n = "IGNF:" + r[1]));
		this.srsCode = n.toUpperCase();
		this.srsCode.indexOf("EPSG") == 0 ? (this.srsCode = this.srsCode, this.srsAuth = "epsg", this.srsProjNumber = this.srsCode.substring(5)) : this.srsCode.indexOf("IGNF") == 0 ? (this.srsCode = this.srsCode, this.srsAuth = "IGNF", this.srsProjNumber = this.srsCode.substring(5)) : this.srsCode.indexOf("CRS") == 0 ? (this.srsCode = this.srsCode, this.srsAuth = "CRS", this.srsProjNumber = this.srsCode.substring(4)) : (this.srsAuth = "", this.srsProjNumber = this.srsCode);
		this.loadProjDefinition()
	},
	loadProjDefinition: function() {
		if (Proj4js.defs[this.srsCode]) {
			this.defsLoaded();
			return
		}
		var n = Proj4js.getScriptLocation() + "defs/" + this.srsAuth.toUpperCase() + this.srsProjNumber + ".js";
		Proj4js.loadScript(n, Proj4js.bind(this.defsLoaded, this), Proj4js.bind(this.loadFromService, this), Proj4js.bind(this.checkDefsLoaded, this))
	},
	loadFromService: function() {
		var n = Proj4js.defsLookupService + "/" + this.srsAuth + "/" + this.srsProjNumber + "/proj4js/";
		Proj4js.loadScript(n, Proj4js.bind(this.defsLoaded, this), Proj4js.bind(this.defsFailed, this), Proj4js.bind(this.checkDefsLoaded, this))
	},
	defsLoaded: function() {
		this.parseDefs();
		this.loadProjCode(this.projName)
	},
	checkDefsLoaded: function() {
		return Proj4js.defs[this.srsCode] ? !0 : !1
	},
	defsFailed: function() {
		Proj4js.reportError("failed to load projection definition for: " + this.srsCode);
		Proj4js.defs[this.srsCode] = Proj4js.defs.WGS84;
		this.defsLoaded()
	},
	loadProjCode: function(n) {
		if (Proj4js.Proj[n]) {
			this.initTransforms();
			return
		}
		var t = Proj4js.getScriptLocation() + "projCode/" + n + ".js";
		Proj4js.loadScript(t, Proj4js.bind(this.loadProjCodeSuccess, this, n), Proj4js.bind(this.loadProjCodeFailure, this, n), Proj4js.bind(this.checkCodeLoaded, this, n))
	},
	loadProjCodeSuccess: function(n) {
		Proj4js.Proj[n].dependsOn ? this.loadProjCode(Proj4js.Proj[n].dependsOn) : this.initTransforms()
	},
	loadProjCodeFailure: function(n) {
		Proj4js.reportError("failed to find projection file for: " + n)
	},
	checkCodeLoaded: function(n) {
		return Proj4js.Proj[n] ? !0 : !1
	},
	initTransforms: function() {
		if (Proj4js.extend(this, Proj4js.Proj[this.projName]), this.init(), this.readyToUse = !0, this.queue)
			for (var n; n = this.queue.shift();) n.call(this, this)
	},
	wktRE: /^(\w+)\[(.*)\]$/,
	parseWKT: function(n) {
		var h = n.match(this.wktRE),
			f, e, s, t, u;
		if (h) {
			var c = h[1],
				v = h[2],
				l = v.split(","),
				i;
			i = c.toUpperCase() == "TOWGS84" ? c : l.shift();
			i = i.replace(/^\"/, "");
			i = i.replace(/\"$/, "");
			var r = [],
				a = 0,
				o = "";
			for (u = 0; u < l.length; ++u) {
				for (f = l[u], e = 0; e < f.length; ++e) f.charAt(e) == "[" && ++a, f.charAt(e) == "]" && --a;
				o += f;
				a === 0 ? (r.push(o), o = "") : o += ","
			}
			switch (c) {
				case "LOCAL_CS":
					this.projName = "identity";
					this.localCS = !0;
					this.srsCode = i;
					break;
				case "GEOGCS":
					this.projName = "longlat";
					this.geocsCode = i;
					this.srsCode || (this.srsCode = i);
					break;
				case "PROJCS":
					this.srsCode = i;
					break;
				case "PROJECTION":
					this.projName = Proj4js.wktProjections[i];
					break;
				case "DATUM":
					this.datumName = i;
					break;
				case "LOCAL_DATUM":
					this.datumCode = "none";
					break;
				case "SPHEROID":
					this.ellps = i;
					this.a = parseFloat(r.shift());
					this.rf = parseFloat(r.shift());
					break;
				case "PRIMEM":
					this.from_greenwich = parseFloat(r.shift());
					break;
				case "UNIT":
					this.units = i;
					this.unitsPerMeter = parseFloat(r.shift());
					break;
				case "PARAMETER":
					s = i.toLowerCase();
					t = parseFloat(r.shift());
					switch (s) {
						case "false_easting":
							this.x0 = t;
							break;
						case "false_northing":
							this.y0 = t;
							break;
						case "scale_factor":
							this.k0 = t;
							break;
						case "central_meridian":
							this.long0 = t * Proj4js.common.D2R;
							break;
						case "latitude_of_origin":
							this.lat0 = t * Proj4js.common.D2R
					}
					break;
				case "TOWGS84":
					this.datum_params = r;
					break;
				case "AXIS":
					s = i.toLowerCase();
					t = r.shift();
					switch (t) {
						case "EAST":
							t = "e";
							break;
						case "WEST":
							t = "w";
							break;
						case "NORTH":
							t = "n";
							break;
						case "SOUTH":
							t = "s";
							break;
						case "UP":
							t = "u";
							break;
						case "DOWN":
							t = "d";
							break;
						case "OTHER":
						default:
							t = " "
					}
					this.axis || (this.axis = "enu");
					switch (s) {
						case "X":
							this.axis = t + this.axis.substr(1, 2);
							break;
						case "Y":
							this.axis = this.axis.substr(0, 1) + t + this.axis.substr(2, 1);
							break;
						case "Z":
							this.axis = this.axis.substr(0, 2) + t
					}
			}
			for (u = 0; u < r.length; ++u) this.parseWKT(r[u])
		}
	},
	parseDefs: function() {
		var f, n, r, t, u, i;
		if (this.defData = Proj4js.defs[this.srsCode], this.defData) {
			for (r = this.defData.split("+"), t = 0; t < r.length; t++) {
				u = r[t].split("=");
				f = u[0].toLowerCase();
				n = u[1];
				switch (f.replace(/\s/gi, "")) {
					case "title":
						this.title = n;
						break;
					case "proj":
						this.projName = n.replace(/\s/gi, "");
						break;
					case "units":
						this.units = n.replace(/\s/gi, "");
						break;
					case "datum":
						this.datumCode = n.replace(/\s/gi, "");
						break;
					case "nadgrids":
						this.nagrids = n.replace(/\s/gi, "");
						break;
					case "ellps":
						this.ellps = n.replace(/\s/gi, "");
						break;
					case "a":
						this.a = parseFloat(n);
						break;
					case "b":
						this.b = parseFloat(n);
						break;
					case "rf":
						this.rf = parseFloat(n);
						break;
					case "lat_0":
						this.lat0 = n * Proj4js.common.D2R;
						break;
					case "lat_1":
						this.lat1 = n * Proj4js.common.D2R;
						break;
					case "lat_2":
						this.lat2 = n * Proj4js.common.D2R;
						break;
					case "lat_ts":
						this.lat_ts = n * Proj4js.common.D2R;
						break;
					case "lon_0":
						this.long0 = n * Proj4js.common.D2R;
						break;
					case "alpha":
						this.alpha = parseFloat(n) * Proj4js.common.D2R;
						break;
					case "lonc":
						this.longc = n * Proj4js.common.D2R;
						break;
					case "x_0":
						this.x0 = parseFloat(n);
						break;
					case "y_0":
						this.y0 = parseFloat(n);
						break;
					case "k_0":
						this.k0 = parseFloat(n);
						break;
					case "k":
						this.k0 = parseFloat(n);
						break;
					case "r_a":
						this.R_A = !0;
						break;
					case "zone":
						this.zone = parseInt(n);
						break;
					case "south":
						this.utmSouth = !0;
						break;
					case "towgs84":
						this.datum_params = n.split(",");
						break;
					case "to_meter":
						this.to_meter = parseFloat(n);
						break;
					case "from_greenwich":
						this.from_greenwich = n * Proj4js.common.D2R;
						break;
					case "pm":
						n = n.replace(/\s/gi, "");
						this.from_greenwich = Proj4js.PrimeMeridian[n] ? Proj4js.PrimeMeridian[n] : parseFloat(n);
						this.from_greenwich *= Proj4js.common.D2R;
						break;
					case "axis":
						n = n.replace(/\s/gi, "");
						i = "ewnsud";
						n.length == 3 && i.indexOf(n.substr(0, 1)) != -1 && i.indexOf(n.substr(1, 1)) != -1 && i.indexOf(n.substr(2, 1)) != -1 && (this.axis = n)
				}
			}
			this.deriveConstants()
		}
	},
	deriveConstants: function() {
		var n, t;
		this.nagrids == "@null" && (this.datumCode = "none");
		this.datumCode && this.datumCode != "none" && (n = Proj4js.Datum[this.datumCode], n && (this.datum_params = n.towgs84 ? n.towgs84.split(",") : null, this.ellps = n.ellipse, this.datumName = n.datumName ? n.datumName : this.datumCode));
		this.a || (t = Proj4js.Ellipsoid[this.ellps] ? Proj4js.Ellipsoid[this.ellps] : Proj4js.Ellipsoid.WGS84, Proj4js.extend(this, t));
		this.rf && !this.b && (this.b = (1 - 1 / this.rf) * this.a);
		Math.abs(this.a - this.b) < Proj4js.common.EPSLN && (this.sphere = !0, this.b = this.a);
		this.a2 = this.a * this.a;
		this.b2 = this.b * this.b;
		this.es = (this.a2 - this.b2) / this.a2;
		this.e = Math.sqrt(this.es);
		this.R_A && (this.a *= 1 - this.es * (Proj4js.common.SIXTH + this.es * (Proj4js.common.RA4 + this.es * Proj4js.common.RA6)), this.a2 = this.a * this.a, this.b2 = this.b * this.b, this.es = 0);
		this.ep2 = (this.a2 - this.b2) / this.b2;
		this.k0 || (this.k0 = 1);
		this.axis || (this.axis = "enu");
		this.datum = new Proj4js.datum(this)
	}
});
Proj4js.Proj.longlat = {
	init: function() {},
	forward: function(n) {
		return n
	},
	inverse: function(n) {
		return n
	}
};
Proj4js.Proj.identity = Proj4js.Proj.longlat;
Proj4js.defs = {
	WGS84: "+title=long/lat:WGS84 +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees",
	"EPSG:4326": "+title=long/lat:WGS84 +proj=longlat +a=6378137.0 +b=6356752.31424518 +ellps=WGS84 +datum=WGS84 +units=degrees",
	"EPSG:4269": "+title=long/lat:NAD83 +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees",
	"EPSG:3785": "+title= Google Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"
};
Proj4js.defs.GOOGLE = Proj4js.defs["EPSG:3785"];
Proj4js.defs["EPSG:900913"] = Proj4js.defs["EPSG:3785"];
Proj4js.defs["EPSG:102113"] = Proj4js.defs["EPSG:3785"];
Proj4js.common = {
	PI: 3.1415926535897931,
	HALF_PI: 1.5707963267948966,
	TWO_PI: 6.2831853071795862,
	FORTPI: .78539816339744828,
	R2D: 57.295779513082323,
	D2R: .017453292519943295,
	SEC_TO_RAD: 484813681109536e-20,
	EPSLN: 1e-10,
	MAX_ITER: 20,
	COS_67P5: .38268343236508978,
	AD_C: 1.0026,
	PJD_UNKNOWN: 0,
	PJD_3PARAM: 1,
	PJD_7PARAM: 2,
	PJD_GRIDSHIFT: 3,
	PJD_WGS84: 4,
	PJD_NODATUM: 5,
	SRS_WGS84_SEMIMAJOR: 6378137,
	SIXTH: .16666666666666666,
	RA4: .047222222222222221,
	RA6: .022156084656084655,
	RV4: .069444444444444448,
	RV6: .042438271604938273,
	msfnz: function(n, t, i) {
		var r = n * t;
		return i / Math.sqrt(1 - r * r)
	},
	tsfnz: function(n, t, i) {
		var r = n * i,
			u = .5 * n;
		return r = Math.pow((1 - r) / (1 + r), u), Math.tan(.5 * (this.HALF_PI - t)) / r
	},
	phi2z: function(n, t) {
		for (var e = .5 * n, r, u, i = this.HALF_PI - 2 * Math.atan(t), f = 0; f <= 15; f++)
			if (r = n * Math.sin(i), u = this.HALF_PI - 2 * Math.atan(t * Math.pow((1 - r) / (1 + r), e)) - i, i += u, Math.abs(u) <= 1e-10) return i;
		return alert("phi2z has NoConvergence"), -9999
	},
	qsfnz: function(n, t) {
		var i;
		return n > 1e-7 ? (i = n * t, (1 - n * n) * (t / (1 - i * i) - .5 / n * Math.log((1 - i) / (1 + i)))) : 2 * t
	},
	asinz: function(n) {
		return Math.abs(n) > 1 && (n = n > 1 ? 1 : -1), Math.asin(n)
	},
	e0fn: function(n) {
		return 1 - .25 * n * (1 + n / 16 * (3 + 1.25 * n))
	},
	e1fn: function(n) {
		return .375 * n * (1 + .25 * n * (1 + .46875 * n))
	},
	e2fn: function(n) {
		return .05859375 * n * n * (1 + .75 * n)
	},
	e3fn: function(n) {
		return n * n * n * (35 / 3072)
	},
	mlfn: function(n, t, i, r, u) {
		return n * u - t * Math.sin(2 * u) + i * Math.sin(4 * u) - r * Math.sin(6 * u)
	},
	srat: function(n, t) {
		return Math.pow((1 - n) / (1 + n), t)
	},
	sign: function(n) {
		return n < 0 ? -1 : 1
	},
	adjust_lon: function(n) {
		return Math.abs(n) < this.PI ? n : n - this.sign(n) * this.TWO_PI
	},
	adjust_lat: function(n) {
		return Math.abs(n) < this.HALF_PI ? n : n - this.sign(n) * this.PI
	},
	latiso: function(n, t, i) {
		if (Math.abs(t) > this.HALF_PI) return +Number.NaN;
		if (t == this.HALF_PI) return Number.POSITIVE_INFINITY;
		if (t == -1 * this.HALF_PI) return -1 * Number.POSITIVE_INFINITY;
		var r = n * i;
		return Math.log(Math.tan((this.HALF_PI + t) / 2)) + n * Math.log((1 - r) / (1 + r)) / 2
	},
	fL: function(n, t) {
		return 2 * Math.atan(n * Math.exp(t)) - this.HALF_PI
	},
	invlatiso: function(n, t) {
		var i = this.fL(1, t),
			r = 0,
			u = 0;
		do r = i, u = n * Math.sin(r), i = this.fL(Math.exp(n * Math.log((1 + u) / (1 - u)) / 2), t); while (Math.abs(i - r) > 1e-12);
		return i
	},
	sinh: function(n) {
		var t = Math.exp(n);
		return (t - 1 / t) / 2
	},
	cosh: function(n) {
		var t = Math.exp(n);
		return (t + 1 / t) / 2
	},
	tanh: function(n) {
		var t = Math.exp(n);
		return (t - 1 / t) / (t + 1 / t)
	},
	asinh: function(n) {
		var t = n >= 0 ? 1 : -1;
		return t * Math.log(Math.abs(n) + Math.sqrt(n * n + 1))
	},
	acosh: function(n) {
		return 2 * Math.log(Math.sqrt((n + 1) / 2) + Math.sqrt((n - 1) / 2))
	},
	atanh: function(n) {
		return Math.log((n - 1) / (n + 1)) / 2
	},
	gN: function(n, t, i) {
		var r = t * i;
		return n / Math.sqrt(1 - r * r)
	}
};
Proj4js.datum = Proj4js.Class({
	initialize: function(n) {
		if (this.datum_type = Proj4js.common.PJD_WGS84, n.datumCode && n.datumCode == "none" && (this.datum_type = Proj4js.common.PJD_NODATUM), n && n.datum_params) {
			for (var t = 0; t < n.datum_params.length; t++) n.datum_params[t] = parseFloat(n.datum_params[t]);
			(n.datum_params[0] != 0 || n.datum_params[1] != 0 || n.datum_params[2] != 0) && (this.datum_type = Proj4js.common.PJD_3PARAM);
			n.datum_params.length > 3 && (n.datum_params[3] != 0 || n.datum_params[4] != 0 || n.datum_params[5] != 0 || n.datum_params[6] != 0) && (this.datum_type = Proj4js.common.PJD_7PARAM, n.datum_params[3] *= Proj4js.common.SEC_TO_RAD, n.datum_params[4] *= Proj4js.common.SEC_TO_RAD, n.datum_params[5] *= Proj4js.common.SEC_TO_RAD, n.datum_params[6] = n.datum_params[6] / 1e6 + 1)
		}
		n && (this.a = n.a, this.b = n.b, this.es = n.es, this.ep2 = n.ep2, this.datum_params = n.datum_params)
	},
	compare_datums: function(n) {
		return this.datum_type != n.datum_type ? !1 : this.a != n.a || Math.abs(this.es - n.es) > 5e-11 ? !1 : this.datum_type == Proj4js.common.PJD_3PARAM ? this.datum_params[0] == n.datum_params[0] && this.datum_params[1] == n.datum_params[1] && this.datum_params[2] == n.datum_params[2] : this.datum_type == Proj4js.common.PJD_7PARAM ? this.datum_params[0] == n.datum_params[0] && this.datum_params[1] == n.datum_params[1] && this.datum_params[2] == n.datum_params[2] && this.datum_params[3] == n.datum_params[3] && this.datum_params[4] == n.datum_params[4] && this.datum_params[5] == n.datum_params[5] && this.datum_params[6] == n.datum_params[6] : this.datum_type == Proj4js.common.PJD_GRIDSHIFT ? strcmp(pj_param(this.params, "snadgrids").s, pj_param(n.params, "snadgrids").s) == 0 : !0
	},
	geodetic_to_geocentric: function(n) {
		var i = n.x,
			t = n.y,
			f = n.z ? n.z : 0,
			o, s, h, r, u, c, e;
		if (t < -Proj4js.common.HALF_PI && t > -1.001 * Proj4js.common.HALF_PI) t = -Proj4js.common.HALF_PI;
		else if (t > Proj4js.common.HALF_PI && t < 1.001 * Proj4js.common.HALF_PI) t = Proj4js.common.HALF_PI;
		else if (t < -Proj4js.common.HALF_PI || t > Proj4js.common.HALF_PI) return Proj4js.reportError("geocent:lat out of range:" + t), null;
		return i > Proj4js.common.PI && (i -= 2 * Proj4js.common.PI), u = Math.sin(t), e = Math.cos(t), c = u * u, r = this.a / Math.sqrt(1 - this.es * c), o = (r + f) * e * Math.cos(i), s = (r + f) * e * Math.sin(i), h = (r * (1 - this.es) + f) * u, n.x = o, n.y = s, n.z = h, 0
	},
	geocentric_to_geodetic: function(n) {
		var e = 1e-12,
			tt = e * e,
			o, s, w, i, r, h, c, l, t, a, v, b, nt, k, u = n.x,
			f = n.y,
			y = n.z ? n.z : 0,
			d, g, p;
		if (nt = !1, o = Math.sqrt(u * u + f * f), s = Math.sqrt(u * u + f * f + y * y), o / this.a < e) {
			if (nt = !0, d = 0, s / this.a < e) {
				g = Proj4js.common.HALF_PI;
				p = -this.b;
				return
			}
		} else d = Math.atan2(f, u);
		w = y / s;
		i = o / s;
		r = 1 / Math.sqrt(1 - this.es * (2 - this.es) * i * i);
		l = i * (1 - this.es) * r;
		t = w * r;
		k = 0;
		do k++, c = this.a / Math.sqrt(1 - this.es * t * t), p = o * l + y * t - c * (1 - this.es * t * t), h = this.es * c / (c + p), r = 1 / Math.sqrt(1 - h * (2 - h) * i * i), a = i * (1 - h) * r, v = w * r, b = v * l - a * t, l = a, t = v; while (b * b > tt && k < 30);
		return g = Math.atan(v / Math.abs(a)), n.x = d, n.y = g, n.z = p, n
	},
	geocentric_to_geodetic_noniter: function(n) {
		var r = n.x,
			t = n.y,
			i = n.z ? n.z : 0,
			f, e, p, o, w, h, c, b, k, l, g, a, s, u, v, y, d;
		if (r = parseFloat(r), t = parseFloat(t), i = parseFloat(i), d = !1, r != 0) f = Math.atan2(t, r);
		else if (t > 0) f = Proj4js.common.HALF_PI;
		else if (t < 0) f = -Proj4js.common.HALF_PI;
		else if (d = !0, f = 0, i > 0) e = Proj4js.common.HALF_PI;
		else if (i < 0) e = -Proj4js.common.HALF_PI;
		else {
			e = Proj4js.common.HALF_PI;
			p = -this.b;
			return
		}
		return w = r * r + t * t, o = Math.sqrt(w), h = i * Proj4js.common.AD_C, b = Math.sqrt(h * h + w), l = h / b, a = o / b, g = l * l * l, c = i + this.b * this.ep2 * g, y = o - this.a * this.es * a * a * a, k = Math.sqrt(c * c + y * y), s = c / k, u = y / k, v = this.a / Math.sqrt(1 - this.es * s * s), p = u >= Proj4js.common.COS_67P5 ? o / u - v : u <= -Proj4js.common.COS_67P5 ? o / -u - v : i / s + v * (this.es - 1), d == !1 && (e = Math.atan(s / u)), n.x = f, n.y = e, n.z = p, n
	},
	geocentric_to_wgs84: function(n) {
		if (this.datum_type == Proj4js.common.PJD_3PARAM) n.x += this.datum_params[0], n.y += this.datum_params[1], n.z += this.datum_params[2];
		else if (this.datum_type == Proj4js.common.PJD_7PARAM) {
			var f = this.datum_params[0],
				e = this.datum_params[1],
				o = this.datum_params[2],
				i = this.datum_params[3],
				r = this.datum_params[4],
				u = this.datum_params[5],
				t = this.datum_params[6],
				s = t * (n.x - u * n.y + r * n.z) + f,
				h = t * (u * n.x + n.y - i * n.z) + e,
				c = t * (-r * n.x + i * n.y + n.z) + o;
			n.x = s;
			n.y = h;
			n.z = c
		}
	},
	geocentric_from_wgs84: function(n) {
		if (this.datum_type == Proj4js.common.PJD_3PARAM) n.x -= this.datum_params[0], n.y -= this.datum_params[1], n.z -= this.datum_params[2];
		else if (this.datum_type == Proj4js.common.PJD_7PARAM) {
			var s = this.datum_params[0],
				h = this.datum_params[1],
				c = this.datum_params[2],
				f = this.datum_params[3],
				e = this.datum_params[4],
				o = this.datum_params[5],
				t = this.datum_params[6],
				i = (n.x - s) / t,
				r = (n.y - h) / t,
				u = (n.z - c) / t;
			n.x = i + o * r - e * u;
			n.y = -o * i + r + f * u;
			n.z = e * i - f * r + u
		}
	}
});
Proj4js.Point = Proj4js.Class({
	initialize: function(n, t, i) {
		if (typeof n == "object") this.x = n[0], this.y = n[1], this.z = n[2] || 0;
		else if (typeof n == "string" && typeof t == "undefined") {
			var r = n.split(",");
			this.x = parseFloat(r[0]);
			this.y = parseFloat(r[1]);
			this.z = parseFloat(r[2]) || 0
		} else this.x = n, this.y = t, this.z = i || 0
	},
	clone: function() {
		return new Proj4js.Point(this.x, this.y, this.z)
	},
	toString: function() {
		return console.info("2"), console.info(this.x), "x=" + this.x + ",y=" + this.y
	},
	toShortString: function() {
		return this.x + ", " + this.y
	}
});
Proj4js.PrimeMeridian = {
	greenwich: 0,
	lisbon: -9.131906111111,
	paris: 2.337229166667,
	bogota: -74.080916666667,
	madrid: -3.687938888889,
	rome: 12.452333333333,
	bern: 7.439583333333,
	jakarta: 106.807719444444,
	ferro: -17.666666666667,
	brussels: 4.367975,
	stockholm: 18.058277777778,
	athens: 23.7163375,
	oslo: 10.722916666667
};
Proj4js.Ellipsoid = {
	MERIT: {
		a: 6378137,
		rf: 298.257,
		ellipseName: "MERIT 1983"
	},
	SGS85: {
		a: 6378136,
		rf: 298.257,
		ellipseName: "Soviet Geodetic System 85"
	},
	GRS80: {
		a: 6378137,
		rf: 298.257222101,
		ellipseName: "GRS 1980(IUGG, 1980)"
	},
	IAU76: {
		a: 6378140,
		rf: 298.257,
		ellipseName: "IAU 1976"
	},
	airy: {
		a: 6377563.396,
		b: 6356256.91,
		ellipseName: "Airy 1830"
	},
	"APL4.": {
		a: 6378137,
		rf: 298.25,
		ellipseName: "Appl. Physics. 1965"
	},
	NWL9D: {
		a: 6378145,
		rf: 298.25,
		ellipseName: "Naval Weapons Lab., 1965"
	},
	mod_airy: {
		a: 6377340.189,
		b: 6356034.446,
		ellipseName: "Modified Airy"
	},
	andrae: {
		a: 6377104.43,
		rf: 300,
		ellipseName: "Andrae 1876 (Den., Iclnd.)"
	},
	aust_SA: {
		a: 6378160,
		rf: 298.25,
		ellipseName: "Australian Natl & S. Amer. 1969"
	},
	GRS67: {
		a: 6378160,
		rf: 298.247167427,
		ellipseName: "GRS 67(IUGG 1967)"
	},
	bessel: {
		a: 6377397.155,
		rf: 299.1528128,
		ellipseName: "Bessel 1841"
	},
	bess_nam: {
		a: 6377483.865,
		rf: 299.1528128,
		ellipseName: "Bessel 1841 (Namibia)"
	},
	clrk66: {
		a: 6378206.4,
		b: 6356583.8,
		ellipseName: "Clarke 1866"
	},
	clrk80: {
		a: 6378249.145,
		rf: 293.4663,
		ellipseName: "Clarke 1880 mod."
	},
	CPM: {
		a: 6375738.7,
		rf: 334.29,
		ellipseName: "Comm. des Poids et Mesures 1799"
	},
	delmbr: {
		a: 6376428,
		rf: 311.5,
		ellipseName: "Delambre 1810 (Belgium)"
	},
	engelis: {
		a: 6378136.05,
		rf: 298.2566,
		ellipseName: "Engelis 1985"
	},
	evrst30: {
		a: 6377276.345,
		rf: 300.8017,
		ellipseName: "Everest 1830"
	},
	evrst48: {
		a: 6377304.063,
		rf: 300.8017,
		ellipseName: "Everest 1948"
	},
	evrst56: {
		a: 6377301.243,
		rf: 300.8017,
		ellipseName: "Everest 1956"
	},
	evrst69: {
		a: 6377295.664,
		rf: 300.8017,
		ellipseName: "Everest 1969"
	},
	evrstSS: {
		a: 6377298.556,
		rf: 300.8017,
		ellipseName: "Everest (Sabah & Sarawak)"
	},
	fschr60: {
		a: 6378166,
		rf: 298.3,
		ellipseName: "Fischer (Mercury Datum) 1960"
	},
	fschr60m: {
		a: 6378155,
		rf: 298.3,
		ellipseName: "Fischer 1960"
	},
	fschr68: {
		a: 6378150,
		rf: 298.3,
		ellipseName: "Fischer 1968"
	},
	helmert: {
		a: 6378200,
		rf: 298.3,
		ellipseName: "Helmert 1906"
	},
	hough: {
		a: 6378270,
		rf: 297,
		ellipseName: "Hough"
	},
	intl: {
		a: 6378388,
		rf: 297,
		ellipseName: "International 1909 (Hayford)"
	},
	kaula: {
		a: 6378163,
		rf: 298.24,
		ellipseName: "Kaula 1961"
	},
	lerch: {
		a: 6378139,
		rf: 298.257,
		ellipseName: "Lerch 1979"
	},
	mprts: {
		a: 6397300,
		rf: 191,
		ellipseName: "Maupertius 1738"
	},
	new_intl: {
		a: 6378157.5,
		b: 6356772.2,
		ellipseName: "New International 1967"
	},
	plessis: {
		a: 6376523,
		rf: 6355863,
		ellipseName: "Plessis 1817 (France)"
	},
	krass: {
		a: 6378245,
		rf: 298.3,
		ellipseName: "Krassovsky, 1942"
	},
	SEasia: {
		a: 6378155,
		b: 6356773.3205,
		ellipseName: "Southeast Asia"
	},
	walbeck: {
		a: 6376896,
		b: 6355834.8467,
		ellipseName: "Walbeck"
	},
	WGS60: {
		a: 6378165,
		rf: 298.3,
		ellipseName: "WGS 60"
	},
	WGS66: {
		a: 6378145,
		rf: 298.25,
		ellipseName: "WGS 66"
	},
	WGS72: {
		a: 6378135,
		rf: 298.26,
		ellipseName: "WGS 72"
	},
	WGS84: {
		a: 6378137,
		rf: 298.257223563,
		ellipseName: "WGS 84"
	},
	sphere: {
		a: 6370997,
		b: 6370997,
		ellipseName: "Normal Sphere (r=6370997)"
	}
};
Proj4js.Datum = {
	WGS84: {
		towgs84: "0,0,0",
		ellipse: "WGS84",
		datumName: "WGS84"
	},
	GGRS87: {
		towgs84: "-199.87,74.79,246.62",
		ellipse: "GRS80",
		datumName: "Greek_Geodetic_Reference_System_1987"
	},
	NAD83: {
		towgs84: "0,0,0",
		ellipse: "GRS80",
		datumName: "North_American_Datum_1983"
	},
	NAD27: {
		nadgrids: "@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",
		ellipse: "clrk66",
		datumName: "North_American_Datum_1927"
	},
	potsdam: {
		towgs84: "606.0,23.0,413.0",
		ellipse: "bessel",
		datumName: "Potsdam Rauenberg 1950 DHDN"
	},
	carthage: {
		towgs84: "-263.0,6.0,431.0",
		ellipse: "clark80",
		datumName: "Carthage 1934 Tunisia"
	},
	hermannskogel: {
		towgs84: "653.0,-212.0,449.0",
		ellipse: "bessel",
		datumName: "Hermannskogel"
	},
	ire65: {
		towgs84: "482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",
		ellipse: "mod_airy",
		datumName: "Ireland 1965"
	},
	nzgd49: {
		towgs84: "59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",
		ellipse: "intl",
		datumName: "New Zealand Geodetic Datum 1949"
	},
	OSGB36: {
		towgs84: "446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",
		ellipse: "airy",
		datumName: "Airy 1830"
	}
};
Proj4js.WGS84 = new Proj4js.Proj("WGS84");
Proj4js.Datum.OSB36 = Proj4js.Datum.OSGB36;
Proj4js.wktProjections = {
	"Lambert Tangential Conformal Conic Projection": "lcc",
	Mercator: "merc",
	"Popular Visualisation Pseudo Mercator": "merc",
	Transverse_Mercator: "tmerc",
	"Transverse Mercator": "tmerc",
	"Lambert Azimuthal Equal Area": "laea",
	"Universal Transverse Mercator System": "utm"
};
Proj4js.Proj.aea = {
	init: function() {
		if (Math.abs(this.lat1 + this.lat2) < Proj4js.common.EPSLN) {
			Proj4js.reportError("aeaInitEqualLatitudes");
			return
		}
		this.temp = this.b / this.a;
		this.es = 1 - Math.pow(this.temp, 2);
		this.e3 = Math.sqrt(this.es);
		this.sin_po = Math.sin(this.lat1);
		this.cos_po = Math.cos(this.lat1);
		this.t1 = this.sin_po;
		this.con = this.sin_po;
		this.ms1 = Proj4js.common.msfnz(this.e3, this.sin_po, this.cos_po);
		this.qs1 = Proj4js.common.qsfnz(this.e3, this.sin_po, this.cos_po);
		this.sin_po = Math.sin(this.lat2);
		this.cos_po = Math.cos(this.lat2);
		this.t2 = this.sin_po;
		this.ms2 = Proj4js.common.msfnz(this.e3, this.sin_po, this.cos_po);
		this.qs2 = Proj4js.common.qsfnz(this.e3, this.sin_po, this.cos_po);
		this.sin_po = Math.sin(this.lat0);
		this.cos_po = Math.cos(this.lat0);
		this.t3 = this.sin_po;
		this.qs0 = Proj4js.common.qsfnz(this.e3, this.sin_po, this.cos_po);
		this.ns0 = Math.abs(this.lat1 - this.lat2) > Proj4js.common.EPSLN ? (this.ms1 * this.ms1 - this.ms2 * this.ms2) / (this.qs2 - this.qs1) : this.con;
		this.c = this.ms1 * this.ms1 + this.ns0 * this.qs1;
		this.rh = this.a * Math.sqrt(this.c - this.ns0 * this.qs0) / this.ns0
	},
	forward: function(n) {
		var u = n.x,
			t = n.y;
		this.sin_phi = Math.sin(t);
		this.cos_phi = Math.cos(t);
		var f = Proj4js.common.qsfnz(this.e3, this.sin_phi, this.cos_phi),
			i = this.a * Math.sqrt(this.c - this.ns0 * f) / this.ns0,
			r = this.ns0 * Proj4js.common.adjust_lon(u - this.long0),
			e = i * Math.sin(r) + this.x0,
			o = this.rh - i * Math.cos(r) + this.y0;
		return n.x = e, n.y = o, n
	},
	inverse: function(n) {
		var r, i, t, u, e, f;
		return n.x -= this.x0, n.y = this.rh - n.y + this.y0, this.ns0 >= 0 ? (r = Math.sqrt(n.x * n.x + n.y * n.y), t = 1) : (r = -Math.sqrt(n.x * n.x + n.y * n.y), t = -1), u = 0, r != 0 && (u = Math.atan2(t * n.x, t * n.y)), t = r * this.ns0 / this.a, i = (this.c - t * t) / this.ns0, this.e3 >= 1e-10 ? (t = 1 - .5 * (1 - this.es) * Math.log((1 - this.e3) / (1 + this.e3)) / this.e3, f = Math.abs(Math.abs(t) - Math.abs(i)) > 1e-10 ? this.phi1z(this.e3, i) : i >= 0 ? .5 * PI : -.5 * PI) : f = this.phi1z(e3, i), e = Proj4js.common.adjust_lon(u / this.ns0 + this.long0), n.x = e, n.y = f, n
	},
	phi1z: function(n, t) {
		var r, u, f, i = Proj4js.common.asinz(.5 * t),
			o, e;
		if (n < Proj4js.common.EPSLN) return i;
		for (o = n * n, e = 1; e <= 25; e++)
			if (sinphi = Math.sin(i), cosphi = Math.cos(i), r = n * sinphi, u = 1 - r * r, f = .5 * u * u / cosphi * (t / (1 - o) - sinphi / u + .5 / n * Math.log((1 - r) / (1 + r))), i = i + f, Math.abs(f) <= 1e-7) return i;
		return Proj4js.reportError("aea:phi1z:Convergence error"), null
	}
};
Proj4js.Proj.sterea = {
	dependsOn: "gauss",
	init: function() {
		if (Proj4js.Proj.gauss.init.apply(this), !this.rc) {
			Proj4js.reportError("sterea:init:E_ERROR_0");
			return
		}
		this.sinc0 = Math.sin(this.phic0);
		this.cosc0 = Math.cos(this.phic0);
		this.R2 = 2 * this.rc;
		this.title || (this.title = "Oblique Stereographic Alternative")
	},
	forward: function(n) {
		return n.x = Proj4js.common.adjust_lon(n.x - this.long0), Proj4js.Proj.gauss.forward.apply(this, [n]), sinc = Math.sin(n.y), cosc = Math.cos(n.y), cosl = Math.cos(n.x), k = this.k0 * this.R2 / (1 + this.sinc0 * sinc + this.cosc0 * cosc * cosl), n.x = k * cosc * Math.sin(n.x), n.y = k * (this.cosc0 * sinc - this.sinc0 * cosc * cosl), n.x = this.a * n.x + this.x0, n.y = this.a * n.y + this.y0, n
	},
	inverse: function(n) {
		var t, i;
		return n.x = (n.x - this.x0) / this.a, n.y = (n.y - this.y0) / this.a, n.x /= this.k0, n.y /= this.k0, (rho = Math.sqrt(n.x * n.x + n.y * n.y)) ? (c = 2 * Math.atan2(rho, this.R2), sinc = Math.sin(c), cosc = Math.cos(c), i = Math.asin(cosc * this.sinc0 + n.y * sinc * this.cosc0 / rho), t = Math.atan2(n.x * sinc, rho * this.cosc0 * cosc - n.y * this.sinc0 * sinc)) : (i = this.phic0, t = 0), n.x = t, n.y = i, Proj4js.Proj.gauss.inverse.apply(this, [n]), n.x = Proj4js.common.adjust_lon(n.x + this.long0), n
	}
};
Proj4js.Proj.poly = {
	init: function() {
		(this.lat0 = 0) && (this.lat0 = 90);
		this.temp = this.b / this.a;
		this.es = 1 - Math.pow(this.temp, 2);
		this.e = Math.sqrt(this.es);
		this.e0 = Proj4js.common.e0fn(this.es);
		this.e1 = Proj4js.common.e1fn(this.es);
		this.e2 = Proj4js.common.e2fn(this.es);
		this.e3 = Proj4js.common.e3fn(this.es);
		this.ml0 = Proj4js.common.mlfn(this.e0, this.e1, this.e2, this.e3, this.lat0)
	},
	forward: function(n) {
		var t, o, i, s, u, f, e, h = n.x,
			r = n.y;
		return i = Proj4js.common.adjust_lon(h - this.long0), Math.abs(r) <= 1e-7 ? (f = this.x0 + this.a * i, e = this.y0 - this.a * this.ml0) : (t = Math.sin(r), o = Math.cos(r), s = Proj4js.common.mlfn(this.e0, this.e1, this.e2, this.e3, r), u = Proj4js.common.msfnz(this.e, t, o), i = t, f = this.x0 + this.a * u * Math.sin(i) / t, e = this.y0 + this.a * (s - this.ml0 + u * (1 - Math.cos(i)) / t)), n.x = f, n.y = e, n
	},
	inverse: function(n) {
		var t, f, e, i, u, r;
		if (n.x -= this.x0, n.y -= this.y0, t = this.ml0 + n.y / this.a, i = 0, Math.abs(t) <= 1e-7) u = n.x / this.a + this.long0, r = 0;
		else {
			if (f = t * t + n.x / this.a * (n.x / this.a), i = phi4z(this.es, this.e0, this.e1, this.e2, this.e3, this.al, f, e, r), i != 1) return i;
			u = Proj4js.common.adjust_lon(Proj4js.common.asinz(n.x * e / this.a) / Math.sin(r) + this.long0)
		}
		return n.x = u, n.y = r, n
	}
};
Proj4js.Proj.equi = {
	init: function() {
		this.x0 || (this.x0 = 0);
		this.y0 || (this.y0 = 0);
		this.lat0 || (this.lat0 = 0);
		this.long0 || (this.long0 = 0)
	},
	forward: function(n) {
		var i = n.x,
			r = n.y,
			u = Proj4js.common.adjust_lon(i - this.long0),
			t = this.x0 + this.a * u * Math.cos(this.lat0),
			f = this.y0 + this.a * r;
		return this.t1 = t, this.t2 = Math.cos(this.lat0), n.x = t, n.y = f, n
	},
	inverse: function(n) {
		var t, i;
		n.x -= this.x0;
		n.y -= this.y0;
		t = n.y / this.a;
		Math.abs(t) > Proj4js.common.HALF_PI && Proj4js.reportError("equi:Inv:DataError");
		i = Proj4js.common.adjust_lon(this.long0 + n.x / (this.a * Math.cos(this.lat0)));
		n.x = i;
		n.y = t
	}
};
Proj4js.Proj.merc = {
	init: function() {
		this.lat_ts && (this.k0 = this.sphere ? Math.cos(this.lat_ts) : Proj4js.common.msfnz(this.es, Math.sin(this.lat_ts), Math.cos(this.lat_ts)))
	},
	forward: function(n) {
		var i = n.x,
			t = n.y,
			r, u, f, e;
		return t * Proj4js.common.R2D > 90 && t * Proj4js.common.R2D < -90 && i * Proj4js.common.R2D > 180 && i * Proj4js.common.R2D < -180 ? (Proj4js.reportError("merc:forward: llInputOutOfRange: " + i + " : " + t), null) : Math.abs(Math.abs(t) - Proj4js.common.HALF_PI) <= Proj4js.common.EPSLN ? (Proj4js.reportError("merc:forward: ll2mAtPoles"), null) : (this.sphere ? (r = this.x0 + this.a * this.k0 * Proj4js.common.adjust_lon(i - this.long0), u = this.y0 + this.a * this.k0 * Math.log(Math.tan(Proj4js.common.FORTPI + .5 * t))) : (f = Math.sin(t), e = Proj4js.common.tsfnz(this.e, t, f), r = this.x0 + this.a * this.k0 * Proj4js.common.adjust_lon(i - this.long0), u = this.y0 - this.a * this.k0 * Math.log(e)), n.x = r, n.y = u, n)
	},
	inverse: function(n) {
		var f = n.x - this.x0,
			i = n.y - this.y0,
			r, t, u;
		if (this.sphere) t = Proj4js.common.HALF_PI - 2 * Math.atan(Math.exp(-i / this.a * this.k0));
		else if (u = Math.exp(-i / (this.a * this.k0)), t = Proj4js.common.phi2z(this.e, u), t == -9999) return Proj4js.reportError("merc:inverse: lat = -9999"), null;
		return r = Proj4js.common.adjust_lon(this.long0 + f / (this.a * this.k0)), n.x = r, n.y = t, n
	}
};
Proj4js.Proj.utm = {
	dependsOn: "tmerc",
	init: function() {
		if (!this.zone) {
			Proj4js.reportError("utm:init: zone must be specified for UTM");
			return
		}
		this.lat0 = 0;
		this.long0 = (6 * Math.abs(this.zone) - 183) * Proj4js.common.D2R;
		this.x0 = 5e5;
		this.y0 = this.utmSouth ? 1e7 : 0;
		this.k0 = .9996;
		Proj4js.Proj.tmerc.init.apply(this);
		this.forward = Proj4js.Proj.tmerc.forward;
		this.inverse = Proj4js.Proj.tmerc.inverse
	}
};
Proj4js.Proj.eqdc = {
	init: function() {
		this.mode || (this.mode = 0);
		this.temp = this.b / this.a;
		this.es = 1 - Math.pow(this.temp, 2);
		this.e = Math.sqrt(this.es);
		this.e0 = Proj4js.common.e0fn(this.es);
		this.e1 = Proj4js.common.e1fn(this.es);
		this.e2 = Proj4js.common.e2fn(this.es);
		this.e3 = Proj4js.common.e3fn(this.es);
		this.sinphi = Math.sin(this.lat1);
		this.cosphi = Math.cos(this.lat1);
		this.ms1 = Proj4js.common.msfnz(this.e, this.sinphi, this.cosphi);
		this.ml1 = Proj4js.common.mlfn(this.e0, this.e1, this.e2, this.e3, this.lat1);
		this.mode != 0 ? (Math.abs(this.lat1 + this.lat2) < Proj4js.common.EPSLN && Proj4js.reportError("eqdc:Init:EqualLatitudes"), this.sinphi = Math.sin(this.lat2), this.cosphi = Math.cos(this.lat2), this.ms2 = Proj4js.common.msfnz(this.e, this.sinphi, this.cosphi), this.ml2 = Proj4js.common.mlfn(this.e0, this.e1, this.e2, this.e3, this.lat2), this.ns = Math.abs(this.lat1 - this.lat2) >= Proj4js.common.EPSLN ? (this.ms1 - this.ms2) / (this.ml2 - this.ml1) : this.sinphi) : this.ns = this.sinphi;
		this.g = this.ml1 + this.ms1 / this.ns;
		this.ml0 = Proj4js.common.mlfn(this.e0, this.e1, this.e2, this.e3, this.lat0);
		this.rh = this.a * (this.g - this.ml0)
	},
	forward: function(n) {
		var r = n.x,
			u = n.y,
			f = Proj4js.common.mlfn(this.e0, this.e1, this.e2, this.e3, u),
			t = this.a * (this.g - f),
			i = this.ns * Proj4js.common.adjust_lon(r - this.long0),
			e = this.x0 + t * Math.sin(i),
			o = this.y0 + this.rh - t * Math.cos(i);
		return n.x = e, n.y = o, n
	},
	inverse: function(n) {
		var i, t, r;
		n.x -= this.x0;
		n.y = this.rh - n.y + this.y0;
		this.ns >= 0 ? (i = Math.sqrt(n.x * n.x + n.y * n.y), t = 1) : (i = -Math.sqrt(n.x * n.x + n.y * n.y), t = -1);
		r = 0;
		i != 0 && (r = Math.atan2(t * n.x, t * n.y));
		var u = this.g - i / this.a,
			f = this.phi3z(u, this.e0, this.e1, this.e2, this.e3),
			e = Proj4js.common.adjust_lon(this.long0 + r / this.ns);
		return n.x = e, n.y = f, n
	},
	phi3z: function(n, t, i, r, u) {
		for (var e, f = n, o = 0; o < 15; o++)
			if (e = (n + i * Math.sin(2 * f) - r * Math.sin(4 * f) + u * Math.sin(6 * f)) / t - f, f += e, Math.abs(e) <= 1e-10) return f;
		return Proj4js.reportError("PHI3Z-CONV:Latitude failed to converge after 15 iterations"), null
	}
};
Proj4js.Proj.tmerc = {
	init: function() {
		this.e0 = Proj4js.common.e0fn(this.es);
		this.e1 = Proj4js.common.e1fn(this.es);
		this.e2 = Proj4js.common.e2fn(this.es);
		this.e3 = Proj4js.common.e3fn(this.es);
		this.ml0 = this.a * Proj4js.common.mlfn(this.e0, this.e1, this.e2, this.e3, this.lat0)
	},
	forward: function(n) {
		var p = n.x,
			u = n.y,
			s = Proj4js.common.adjust_lon(p - this.long0),
			t, h, c, w = Math.sin(u),
			o = Math.cos(u),
			i, l, y;
		if (this.sphere) {
			if (i = o * Math.sin(s), Math.abs(Math.abs(i) - 1) < 1e-10) return Proj4js.reportError("tmerc:forward: Point projects into infinity"), 93;
			h = .5 * this.a * this.k0 * Math.log((1 + i) / (1 - i));
			t = Math.acos(o * Math.cos(s) / Math.sqrt(1 - i * i));
			u < 0 && (t = -t);
			c = this.a * this.k0 * (t - this.lat0)
		} else {
			var a = o * s,
				f = Math.pow(a, 2),
				e = this.ep2 * Math.pow(o, 2),
				v = Math.tan(u),
				r = Math.pow(v, 2);
			t = 1 - this.es * Math.pow(w, 2);
			l = this.a / Math.sqrt(t);
			y = this.a * Proj4js.common.mlfn(this.e0, this.e1, this.e2, this.e3, u);
			h = this.k0 * l * a * (1 + f / 6 * (1 - r + e + f / 20 * (5 - 18 * r + Math.pow(r, 2) + 72 * e - 58 * this.ep2))) + this.x0;
			c = this.k0 * (y - this.ml0 + l * v * f * (.5 + f / 24 * (5 - r + 9 * e + 4 * Math.pow(e, 2) + f / 30 * (61 - 58 * r + Math.pow(r, 2) + 600 * e - 330 * this.ep2)))) + this.y0
		}
		return n.x = h, n.y = c, n
	},
	inverse: function(n) {
		var i, t, c, l, r, o, b, a;
		if (this.sphere) {
			var p = Math.exp(n.x / (this.a * this.k0)),
				s = .5 * (p - 1 / p),
				w = this.lat0 + n.y / (this.a * this.k0),
				h = Math.cos(w);
			i = Math.sqrt((1 - h * h) / (1 + s * s));
			r = Proj4js.common.asinz(i);
			w < 0 && (r = -r);
			o = s == 0 && h == 0 ? this.long0 : Proj4js.common.adjust_lon(Math.atan2(s, h) + this.long0)
		} else {
			for (b = n.x - this.x0, a = n.y - this.y0, i = (this.ml0 + a / this.k0) / this.a, t = i, l = 0;; l++) {
				if (c = (i + this.e1 * Math.sin(2 * t) - this.e2 * Math.sin(4 * t) + this.e3 * Math.sin(6 * t)) / this.e0 - t, t += c, Math.abs(c) <= Proj4js.common.EPSLN) break;
				if (l >= 6) return Proj4js.reportError("tmerc:inverse: Latitude failed to converge"), 95
			}
			if (Math.abs(t) < Proj4js.common.HALF_PI) {
				var tt = Math.sin(t),
					k = Math.cos(t),
					d = Math.tan(t),
					u = this.ep2 * Math.pow(k, 2),
					v = Math.pow(u, 2),
					f = Math.pow(d, 2),
					g = Math.pow(f, 2);
				i = 1 - this.es * Math.pow(tt, 2);
				var y = this.a / Math.sqrt(i),
					it = y * (1 - this.es) / i,
					nt = b / (y * this.k0),
					e = Math.pow(nt, 2);
				r = t - y * d * e / it * (.5 - e / 24 * (5 + 3 * f + 10 * u - 4 * v - 9 * this.ep2 - e / 30 * (61 + 90 * f + 298 * u + 45 * g - 252 * this.ep2 - 3 * v)));
				o = Proj4js.common.adjust_lon(this.long0 + nt * (1 - e / 6 * (1 + 2 * f + u - e / 20 * (5 - 2 * u + 28 * f - 3 * v + 8 * this.ep2 + 24 * g))) / k)
			} else r = Proj4js.common.HALF_PI * Proj4js.common.sign(a), o = this.long0
		}
		return n.x = o, n.y = r, n
	}
};
Proj4js.defs.GOOGLE = "+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs";
Proj4js.defs["EPSG:900913"] = Proj4js.defs.GOOGLE;
Proj4js.Proj.gstmerc = {
	init: function() {
		var i = this.b / this.a;
		this.e = Math.sqrt(1 - i * i);
		this.lc = this.long0;
		this.rs = Math.sqrt(1 + this.e * this.e * Math.pow(Math.cos(this.lat0), 4) / (1 - this.e * this.e));
		var n = Math.sin(this.lat0),
			t = Math.asin(n / this.rs),
			r = Math.sin(t);
		this.cp = Proj4js.common.latiso(0, t, r) - this.rs * Proj4js.common.latiso(this.e, this.lat0, n);
		this.n2 = this.k0 * this.a * Math.sqrt(1 - this.e * this.e) / (1 - this.e * this.e * n * n);
		this.xs = this.x0;
		this.ys = this.y0 - this.n2 * t;
		this.title || (this.title = "Gauss Schreiber transverse mercator")
	},
	forward: function(n) {
		var f = n.x,
			t = n.y,
			i = this.rs * (f - this.lc),
			r = this.cp + this.rs * Proj4js.common.latiso(this.e, t, Math.sin(t)),
			u = Math.asin(Math.sin(i) / Proj4js.common.cosh(r)),
			e = Proj4js.common.latiso(0, u, Math.sin(u));
		return n.x = this.xs + this.n2 * e, n.y = this.ys + this.n2 * Math.atan(Proj4js.common.sinh(r) / Math.cos(i)), n
	},
	inverse: function(n) {
		var t = n.x,
			i = n.y,
			u = Math.atan(Proj4js.common.sinh((t - this.xs) / this.n2) / Math.cos((i - this.ys) / this.n2)),
			r = Math.asin(Math.sin((i - this.ys) / this.n2) / Proj4js.common.cosh((t - this.xs) / this.n2)),
			f = Proj4js.common.latiso(0, r, Math.sin(r));
		return n.x = this.lc + u / this.rs, n.y = Proj4js.common.invlatiso(this.e, (f - this.cp) / this.rs), n
	}
};
Proj4js.Proj.ortho = {
	init: function() {
		this.sin_p14 = Math.sin(this.lat0);
		this.cos_p14 = Math.cos(this.lat0)
	},
	forward: function(n) {
		var i, t, r, u, f, e, c = n.x,
			o = n.y,
			s, h;
		return r = Proj4js.common.adjust_lon(c - this.long0), i = Math.sin(o), t = Math.cos(o), u = Math.cos(r), e = this.sin_p14 * i + this.cos_p14 * t * u, f = 1, e > 0 || Math.abs(e) <= Proj4js.common.EPSLN ? (s = this.a * f * t * Math.sin(r), h = this.y0 + this.a * f * (this.cos_p14 * i - this.sin_p14 * t * u)) : Proj4js.reportError("orthoFwdPointError"), n.x = s, n.y = h, n
	},
	inverse: function(n) {
		var t, r, o, u, f, e, i;
		return n.x -= this.x0, n.y -= this.y0, t = Math.sqrt(n.x * n.x + n.y * n.y), t > this.a + 1e-7 && Proj4js.reportError("orthoInvDataError"), r = Proj4js.common.asinz(t / this.a), o = Math.sin(r), u = Math.cos(r), e = this.long0, Math.abs(t) <= Proj4js.common.EPSLN && (i = this.lat0), i = Proj4js.common.asinz(u * this.sin_p14 + n.y * o * this.cos_p14 / t), f = Math.abs(this.lat0) - Proj4js.common.HALF_PI, Math.abs(f) <= Proj4js.common.EPSLN && (e = this.lat0 >= 0 ? Proj4js.common.adjust_lon(this.long0 + Math.atan2(n.x, -n.y)) : Proj4js.common.adjust_lon(this.long0 - Math.atan2(-n.x, n.y))), f = u - this.sin_p14 * Math.sin(i), n.x = e, n.y = i, n
	}
};
Proj4js.Proj.somerc = {
	init: function() {
		var i = this.lat0;
		this.lambda0 = this.long0;
		var t = Math.sin(i),
			f = this.a,
			e = this.rf,
			u = 1 / e,
			n = 2 * u - Math.pow(u, 2),
			r = this.e = Math.sqrt(n);
		this.R = this.k0 * f * Math.sqrt(1 - n) / (1 - n * Math.pow(t, 2));
		this.alpha = Math.sqrt(1 + n / (1 - n) * Math.pow(Math.cos(i), 4));
		this.b0 = Math.asin(t / this.alpha);
		this.K = Math.log(Math.tan(Math.PI / 4 + this.b0 / 2)) - this.alpha * Math.log(Math.tan(Math.PI / 4 + i / 2)) + this.alpha * r / 2 * Math.log((1 + r * t) / (1 - r * t))
	},
	forward: function(n) {
		var u = Math.log(Math.tan(Math.PI / 4 - n.y / 2)),
			f = this.e / 2 * Math.log((1 + this.e * Math.sin(n.y)) / (1 - this.e * Math.sin(n.y))),
			e = -this.alpha * (u + f) + this.K,
			t = 2 * (Math.atan(Math.exp(e)) - Math.PI / 4),
			i = this.alpha * (n.x - this.lambda0),
			o = Math.atan(Math.sin(i) / (Math.sin(this.b0) * Math.tan(t) + Math.cos(this.b0) * Math.cos(i))),
			r = Math.asin(Math.cos(this.b0) * Math.sin(t) - Math.sin(this.b0) * Math.cos(t) * Math.cos(i));
		return n.y = this.R / 2 * Math.log((1 + Math.sin(r)) / (1 - Math.sin(r))) + this.y0, n.x = this.R * o + this.x0, n
	},
	inverse: function(n) {
		for (var o = n.x - this.x0, s = n.y - this.y0, i = o / this.R, r = 2 * (Math.atan(Math.exp(s / this.R)) - Math.PI / 4), u = Math.asin(Math.cos(this.b0) * Math.sin(r) + Math.sin(this.b0) * Math.cos(r) * Math.cos(i)), h = Math.atan(Math.sin(i) / (Math.cos(this.b0) * Math.cos(i) - Math.sin(this.b0) * Math.tan(r))), c = this.lambda0 + h / this.alpha, f = 0, t = u, e = -1e3, l = 0; Math.abs(t - e) > 1e-7;) {
			if (++l > 20) {
				Proj4js.reportError("omercFwdInfinity");
				return
			}
			f = 1 / this.alpha * (Math.log(Math.tan(Math.PI / 4 + u / 2)) - this.K) + this.e * Math.log(Math.tan(Math.PI / 4 + Math.asin(this.e * Math.sin(t)) / 2));
			e = t;
			t = 2 * Math.atan(Math.exp(f)) - Math.PI / 2
		}
		return n.x = c, n.y = t, n
	}
};
Proj4js.Proj.stere = {
	ssfn_: function(n, t, i) {
		return t *= i, Math.tan(.5 * (Proj4js.common.HALF_PI + n)) * Math.pow((1 - t) / (1 + t), .5 * i)
	},
	TOL: 1e-8,
	NITER: 8,
	CONV: 1e-10,
	S_POLE: 0,
	N_POLE: 1,
	OBLIQ: 2,
	EQUIT: 3,
	init: function() {
		var n, t;
		if (this.phits = this.lat_ts ? this.lat_ts : Proj4js.common.HALF_PI, n = Math.abs(this.lat0), this.mode = Math.abs(n) - Proj4js.common.HALF_PI < Proj4js.common.EPSLN ? this.lat0 < 0 ? this.S_POLE : this.N_POLE : n > Proj4js.common.EPSLN ? this.OBLIQ : this.EQUIT, this.phits = Math.abs(this.phits), this.es) switch (this.mode) {
			case this.N_POLE:
			case this.S_POLE:
				Math.abs(this.phits - Proj4js.common.HALF_PI) < Proj4js.common.EPSLN ? this.akm1 = 2 * this.k0 / Math.sqrt(Math.pow(1 + this.e, 1 + this.e) * Math.pow(1 - this.e, 1 - this.e)) : (n = Math.sin(this.phits), this.akm1 = Math.cos(this.phits) / Proj4js.common.tsfnz(this.e, this.phits, n), n *= this.e, this.akm1 /= Math.sqrt(1 - n * n));
				break;
			case this.EQUIT:
				this.akm1 = 2 * this.k0;
				break;
			case this.OBLIQ:
				n = Math.sin(this.lat0);
				t = 2 * Math.atan(this.ssfn_(this.lat0, n, this.e)) - Proj4js.common.HALF_PI;
				n *= this.e;
				this.akm1 = 2 * this.k0 * Math.cos(this.lat0) / Math.sqrt(1 - n * n);
				this.sinX1 = Math.sin(t);
				this.cosX1 = Math.cos(t)
		} else switch (this.mode) {
			case this.OBLIQ:
				this.sinph0 = Math.sin(this.lat0);
				this.cosph0 = Math.cos(this.lat0);
			case this.EQUIT:
				this.akm1 = 2 * this.k0;
				break;
			case this.S_POLE:
			case this.N_POLE:
				this.akm1 = Math.abs(this.phits - Proj4js.common.HALF_PI) >= Proj4js.common.EPSLN ? Math.cos(this.phits) / Math.tan(Proj4js.common.FORTPI - .5 * this.phits) : 2 * this.k0
		}
	},
	forward: function(n) {
		var e = n.x,
			r, u, t, f, o, i, s;
		if (e = Proj4js.common.adjust_lon(e - this.long0), r = n.y, this.sphere) {
			f = Math.sin(r);
			o = Math.cos(r);
			i = Math.cos(e);
			s = Math.sin(e);
			switch (this.mode) {
				case this.EQUIT:
					t = 1 + o * i;
					t <= Proj4js.common.EPSLN && F_ERROR;
					t = this.akm1 / t;
					u = t * o * s;
					t *= f;
					break;
				case this.OBLIQ:
					t = 1 + this.sinph0 * f + this.cosph0 * o * i;
					t <= Proj4js.common.EPSLN && F_ERROR;
					t = this.akm1 / t;
					u = t * o * s;
					t *= this.cosph0 * f - this.sinph0 * o * i;
					break;
				case this.N_POLE:
					i = -i;
					r = -r;
				case this.S_POLE:
					Math.abs(r - Proj4js.common.HALF_PI) < this.TOL && F_ERROR;
					t = this.akm1 * Math.tan(Proj4js.common.FORTPI + .5 * r);
					u = s * t;
					t *= i
			}
		} else {
			i = Math.cos(e);
			s = Math.sin(e);
			f = Math.sin(r);
			(this.mode == this.OBLIQ || this.mode == this.EQUIT) && (X = 2 * Math.atan(this.ssfn_(r, f, this.e)), sinX = Math.sin(X - Proj4js.common.HALF_PI), cosX = Math.cos(X));
			switch (this.mode) {
				case this.OBLIQ:
					A = this.akm1 / (this.cosX1 * (1 + this.sinX1 * sinX + this.cosX1 * cosX * i));
					t = A * (this.cosX1 * sinX - this.sinX1 * cosX * i);
					u = A * cosX;
					break;
				case this.EQUIT:
					A = 2 * this.akm1 / (1 + cosX * i);
					t = A * sinX;
					u = A * cosX;
					break;
				case this.S_POLE:
					r = -r;
					i = -i;
					f = -f;
				case this.N_POLE:
					u = this.akm1 * Proj4js.common.tsfnz(this.e, r, f);
					t = -u * i
			}
			u = u * s
		}
		return n.x = u * this.a + this.x0, n.y = t * this.a + this.y0, n
	},
	inverse: function(n) {
		var i = (n.x - this.x0) / this.a,
			t = (n.y - this.y0) / this.a,
			f, r, v, e, o = 0,
			h = 0,
			c, y = 0,
			p = 0,
			w, l, u, a, s;
		if (this.sphere) {
			u = Math.sqrt(i * i + t * t);
			l = 2 * Math.atan(u / this.akm1);
			a = Math.sin(l);
			s = Math.cos(l);
			f = 0;
			switch (this.mode) {
				case this.EQUIT:
					r = Math.abs(u) <= Proj4js.common.EPSLN ? 0 : Math.asin(t * a / u);
					(s != 0 || i != 0) && (f = Math.atan2(i * a, s * u));
					break;
				case this.OBLIQ:
					r = Math.abs(u) <= Proj4js.common.EPSLN ? this.phi0 : Math.asin(s * sinph0 + t * a * cosph0 / u);
					l = s - sinph0 * Math.sin(r);
					(l != 0 || i != 0) && (f = Math.atan2(i * a * cosph0, l * u));
					break;
				case this.N_POLE:
					t = -t;
				case this.S_POLE:
					r = Math.abs(u) <= Proj4js.common.EPSLN ? this.phi0 : Math.asin(this.mode == this.S_POLE ? -s : s);
					f = i == 0 && t == 0 ? 0 : Math.atan2(i, t)
			}
			n.x = Proj4js.common.adjust_lon(f + this.long0);
			n.y = r
		} else {
			c = Math.sqrt(i * i + t * t);
			switch (this.mode) {
				case this.OBLIQ:
				case this.EQUIT:
					o = 2 * Math.atan2(c * this.cosX1, this.akm1);
					v = Math.cos(o);
					e = Math.sin(o);
					h = c == 0 ? Math.asin(v * this.sinX1) : Math.asin(v * this.sinX1 + t * e * this.cosX1 / c);
					o = Math.tan(.5 * (Proj4js.common.HALF_PI + h));
					i *= e;
					t = c * this.cosX1 * v - t * this.sinX1 * e;
					p = Proj4js.common.HALF_PI;
					y = .5 * this.e;
					break;
				case this.N_POLE:
					t = -t;
				case this.S_POLE:
					o = -c / this.akm1;
					h = Proj4js.common.HALF_PI - 2 * Math.atan(o);
					p = -Proj4js.common.HALF_PI;
					y = -.5 * this.e
			}
			for (w = this.NITER; w--; h = r)
				if (e = this.e * Math.sin(h), r = 2 * Math.atan(o * Math.pow((1 + e) / (1 - e), y)) - p, Math.abs(h - r) < this.CONV) return this.mode == this.S_POLE && (r = -r), f = i == 0 && t == 0 ? 0 : Math.atan2(i, t), n.x = Proj4js.common.adjust_lon(f + this.long0), n.y = r, n
		}
	}
};
Proj4js.Proj.nzmg = {
	iterations: 1,
	init: function() {
		this.A = [];
		this.A[1] = .6399175073;
		this.A[2] = -.1358797613;
		this.A[3] = .063294409;
		this.A[4] = -.02526853;
		this.A[5] = .0117879;
		this.A[6] = -.0055161;
		this.A[7] = .0026906;
		this.A[8] = -.001333;
		this.A[9] = .00067;
		this.A[10] = -.00034;
		this.B_re = [];
		this.B_im = [];
		this.B_re[1] = .7557853228;
		this.B_im[1] = 0;
		this.B_re[2] = .249204646;
		this.B_im[2] = .003371507;
		this.B_re[3] = -.001541739;
		this.B_im[3] = .04105856;
		this.B_re[4] = -.10162907;
		this.B_im[4] = .01727609;
		this.B_re[5] = -.26623489;
		this.B_im[5] = -.36249218;
		this.B_re[6] = -.6870983;
		this.B_im[6] = -1.1651967;
		this.C_re = [];
		this.C_im = [];
		this.C_re[1] = 1.3231270439;
		this.C_im[1] = 0;
		this.C_re[2] = -.577245789;
		this.C_im[2] = -.007809598;
		this.C_re[3] = .508307513;
		this.C_im[3] = -.112208952;
		this.C_re[4] = -.15094762;
		this.C_im[4] = .18200602;
		this.C_re[5] = 1.01418179;
		this.C_im[5] = 1.64497696;
		this.C_re[6] = 1.9660549;
		this.C_im[6] = 2.5127645;
		this.D = [];
		this.D[1] = 1.5627014243;
		this.D[2] = .5185406398;
		this.D[3] = -.03333098;
		this.D[4] = -.1052906;
		this.D[5] = -.0368594;
		this.D[6] = .007317;
		this.D[7] = .0122;
		this.D[8] = .00394;
		this.D[9] = -.0013
	},
	forward: function(t) {
		var a = t.x,
			v = t.y,
			p = v - this.lat0,
			w = a - this.long0,
			b = p / Proj4js.common.SEC_TO_RAD * 1e-5,
			k = w,
			u = 1,
			f = 0;
		for (n = 1; n <= 10; n++) u = u * b, f = f + this.A[n] * u;
		var s = f,
			h = k,
			i = 1,
			r = 0,
			c, l, e = 0,
			o = 0;
		for (n = 1; n <= 6; n++) c = i * s - r * h, l = r * s + i * h, i = c, r = l, e = e + this.B_re[n] * i - this.B_im[n] * r, o = o + this.B_im[n] * i + this.B_re[n] * r;
		return x = o * this.a + this.x0, y = e * this.a + this.y0, t.x = x, t.y = y, t
	},
	inverse: function(t) {
		var rt = t.x,
			ut = t.y,
			ft = rt - this.x0,
			et = ut - this.y0,
			p = et / this.a,
			w = ft / this.a,
			h = 1,
			c = 0,
			g, nt, f = 0,
			e = 0,
			o, s, b, tt, it;
		for (n = 1; n <= 6; n++) g = h * p - c * w, nt = c * p + h * w, h = g, c = nt, f = f + this.C_re[n] * h - this.C_im[n] * c, e = e + this.C_im[n] * h + this.C_re[n] * c;
		for (i = 0; i < this.iterations; i++) {
			var r = f,
				u = e,
				l, a, v = p,
				y = w;
			for (n = 2; n <= 6; n++) l = r * f - u * e, a = u * f + r * e, r = l, u = a, v = v + (n - 1) * (this.B_re[n] * r - this.B_im[n] * u), y = y + (n - 1) * (this.B_im[n] * r + this.B_re[n] * u);
			for (r = 1, u = 0, o = this.B_re[1], s = this.B_im[1], n = 2; n <= 6; n++) l = r * f - u * e, a = u * f + r * e, r = l, u = a, o = o + n * (this.B_re[n] * r - this.B_im[n] * u), s = s + n * (this.B_im[n] * r + this.B_re[n] * u);
			b = o * o + s * s;
			f = (v * o + y * s) / b;
			e = (y * o - v * s) / b
		}
		var ot = f,
			st = e,
			k = 1,
			d = 0;
		for (n = 1; n <= 9; n++) k = k * ot, d = d + this.D[n] * k;
		return tt = this.lat0 + d * Proj4js.common.SEC_TO_RAD * 1e5, it = this.long0 + st, t.x = it, t.y = tt, t
	}
};
Proj4js.Proj.mill = {
	init: function() {},
	forward: function(n) {
		var t = n.x,
			i = n.y,
			r = Proj4js.common.adjust_lon(t - this.long0),
			u = this.x0 + this.a * r,
			f = this.y0 + this.a * Math.log(Math.tan(Proj4js.common.PI / 4 + i / 2.5)) * 1.25;
		return n.x = u, n.y = f, n
	},
	inverse: function(n) {
		n.x -= this.x0;
		n.y -= this.y0;
		var t = Proj4js.common.adjust_lon(this.long0 + n.x / this.a),
			i = 2.5 * (Math.atan(Math.exp(.8 * n.y / this.a)) - Proj4js.common.PI / 4);
		return n.x = t, n.y = i, n
	}
};
Proj4js.Proj.gnom = {
	init: function() {
		this.sin_p14 = Math.sin(this.lat0);
		this.cos_p14 = Math.cos(this.lat0);
		this.infinity_dist = 1e3 * this.a;
		this.rc = 1
	},
	forward: function(n) {
		var r, t, u, f, e, i, s = n.x,
			o = n.y;
		return u = Proj4js.common.adjust_lon(s - this.long0), r = Math.sin(o), t = Math.cos(o), f = Math.cos(u), i = this.sin_p14 * r + this.cos_p14 * t * f, e = 1, i > 0 || Math.abs(i) <= Proj4js.common.EPSLN ? (x = this.x0 + this.a * e * t * Math.sin(u) / i, y = this.y0 + this.a * e * (this.cos_p14 * r - this.sin_p14 * t * f) / i) : (Proj4js.reportError("orthoFwdPointError"), x = this.x0 + this.infinity_dist * t * Math.sin(u), y = this.y0 + this.infinity_dist * (this.cos_p14 * r - this.sin_p14 * t * f)), n.x = x, n.y = y, n
	},
	inverse: function(n) {
		var i, r, u, f, t, e;
		return n.x = (n.x - this.x0) / this.a, n.y = (n.y - this.y0) / this.a, n.x /= this.k0, n.y /= this.k0, (i = Math.sqrt(n.x * n.x + n.y * n.y)) ? (f = Math.atan2(i, this.rc), r = Math.sin(f), u = Math.cos(f), e = Proj4js.common.asinz(u * this.sin_p14 + n.y * r * this.cos_p14 / i), t = Math.atan2(n.x * r, i * this.cos_p14 * u - n.y * this.sin_p14 * r), t = Proj4js.common.adjust_lon(this.long0 + t)) : (e = this.phic0, t = 0), n.x = t, n.y = e, n
	}
};
Proj4js.Proj.sinu = {
	init: function() {
		this.R = 6370997
	},
	forward: function(n) {
		var t, i, r, f = n.x,
			u = n.y;
		return r = Proj4js.common.adjust_lon(f - this.long0), t = this.R * r * Math.cos(u) + this.x0, i = this.R * u + this.y0, n.x = t, n.y = i, n
	},
	inverse: function(n) {
		var t, i, r;
		return n.x -= this.x0, n.y -= this.y0, t = n.y / this.R, Math.abs(t) > Proj4js.common.HALF_PI && Proj4js.reportError("sinu:Inv:DataError"), i = Math.abs(t) - Proj4js.common.HALF_PI, Math.abs(i) > Proj4js.common.EPSLN ? (i = this.long0 + n.x / (this.R * Math.cos(t)), r = Proj4js.common.adjust_lon(i)) : r = this.long0, n.x = r, n.y = t, n
	}
};
Proj4js.Proj.vandg = {
	init: function() {
		this.R = 6370997
	},
	forward: function(n) {
		var y = n.x,
			u = n.y,
			f = Proj4js.common.adjust_lon(y - this.long0),
			s, h, e;
		Math.abs(u) <= Proj4js.common.EPSLN && (s = this.x0 + this.R * f, h = this.y0);
		e = Proj4js.common.asinz(2 * Math.abs(u / Proj4js.common.PI));
		(Math.abs(f) <= Proj4js.common.EPSLN || Math.abs(Math.abs(u) - Proj4js.common.HALF_PI) <= Proj4js.common.EPSLN) && (s = this.x0, h = u >= 0 ? this.y0 + Proj4js.common.PI * this.R * Math.tan(.5 * e) : this.y0 + Proj4js.common.PI * this.R * -Math.tan(.5 * e));
		var o = .5 * Math.abs(Proj4js.common.PI / f - f / Proj4js.common.PI),
			c = o * o,
			l = Math.sin(e),
			a = Math.cos(e),
			i = a / (l + a - 1),
			p = i * i,
			v = i * (2 / l - 1),
			r = v * v,
			t = Proj4js.common.PI * this.R * (o * (i - r) + Math.sqrt(c * (i - r) * (i - r) - (r + c) * (p - r))) / (r + c);
		return f < 0 && (t = -t), s = this.x0 + t, t = Math.abs(t / (Proj4js.common.PI * this.R)), h = u >= 0 ? this.y0 + Proj4js.common.PI * this.R * Math.sqrt(1 - t * t - 2 * o * t) : this.y0 - Proj4js.common.PI * this.R * Math.sqrt(1 - t * t - 2 * o * t), n.x = s, n.y = h, n
	},
	inverse: function(n) {
		var r, t, e, o, u, i, h, s, f, c, l;
		return n.x -= this.x0, n.y -= this.y0, f = Proj4js.common.PI * this.R, r = n.x / f, t = n.y / f, e = r * r + t * t, o = -Math.abs(t) * (1 + e), u = o - 2 * t * t + r * r, i = -2 * o + 1 + 2 * t * t + e * e, l = t * t / i + (2 * u * u * u / i / i / i - 9 * o * u / i / i) / 27, h = (o - u * u / 3 / i) / i, s = 2 * Math.sqrt(-h / 3), f = 3 * l / h / s, Math.abs(f) > 1 && (f = f >= 0 ? 1 : -1), c = Math.acos(f) / 3, lat = n.y >= 0 ? (-s * Math.cos(c + Proj4js.common.PI / 3) - u / 3 / i) * Proj4js.common.PI : -(-s * Math.cos(c + Proj4js.common.PI / 3) - u / 3 / i) * Proj4js.common.PI, Math.abs(r) < Proj4js.common.EPSLN && (lon = this.long0), lon = Proj4js.common.adjust_lon(this.long0 + Proj4js.common.PI * (e - 1 + Math.sqrt(1 + 2 * (r * r - t * t) + e * e)) / 2 / r), n.x = lon, n.y = lat, n
	}
};
Proj4js.Proj.cea = {
	init: function() {},
	forward: function(n) {
		var r = n.x,
			u = n.y,
			t, i;
		return dlon = Proj4js.common.adjust_lon(r - this.long0), t = this.x0 + this.a * dlon * Math.cos(this.lat_ts), i = this.y0 + this.a * Math.sin(u) / Math.cos(this.lat_ts), n.x = t, n.y = i, n
	},
	inverse: function(n) {
		n.x -= this.x0;
		n.y -= this.y0;
		var t = Proj4js.common.adjust_lon(this.long0 + n.x / this.a / Math.cos(this.lat_ts)),
			i = Math.asin(n.y / this.a * Math.cos(this.lat_ts));
		return n.x = t, n.y = i, n
	}
};
Proj4js.Proj.eqc = {
	init: function() {
		this.x0 || (this.x0 = 0);
		this.y0 || (this.y0 = 0);
		this.lat0 || (this.lat0 = 0);
		this.long0 || (this.long0 = 0);
		this.lat_ts || (this.lat_ts = 0);
		this.title || (this.title = "Equidistant Cylindrical (Plate Carre)");
		this.rc = Math.cos(this.lat_ts)
	},
	forward: function(n) {
		var t = n.x,
			i = n.y,
			r = Proj4js.common.adjust_lon(t - this.long0),
			u = Proj4js.common.adjust_lat(i - this.lat0);
		return n.x = this.x0 + this.a * r * this.rc, n.y = this.y0 + this.a * u, n
	},
	inverse: function(n) {
		var t = n.x,
			i = n.y;
		return n.x = Proj4js.common.adjust_lon(this.long0 + (t - this.x0) / (this.a * this.rc)), n.y = Proj4js.common.adjust_lat(this.lat0 + (i - this.y0) / this.a), n
	}
};
Proj4js.Proj.cass = {
	init: function() {
		this.sphere || (this.en = this.pj_enfn(this.es), this.m0 = this.pj_mlfn(this.lat0, Math.sin(this.lat0), Math.cos(this.lat0), this.en))
	},
	C1: .16666666666666666,
	C2: .0083333333333333332,
	C3: .041666666666666664,
	C4: .33333333333333331,
	C5: .066666666666666666,
	forward: function(n) {
		var u, r, i = n.x,
			t = n.y;
		return i = Proj4js.common.adjust_lon(i - this.long0), this.sphere ? (u = Math.asin(Math.cos(t) * Math.sin(i)), r = Math.atan2(Math.tan(t), Math.cos(i)) - this.phi0) : (this.n = Math.sin(t), this.c = Math.cos(t), r = this.pj_mlfn(t, this.n, this.c, this.en), this.n = 1 / Math.sqrt(1 - this.es * this.n * this.n), this.tn = Math.tan(t), this.t = this.tn * this.tn, this.a1 = i * this.c, this.c *= this.es * this.c / (1 - this.es), this.a2 = this.a1 * this.a1, u = this.n * this.a1 * (1 - this.a2 * this.t * (this.C1 - (8 - this.t + 8 * this.c) * this.a2 * this.C2)), r -= this.m0 - this.n * this.tn * this.a2 * (.5 + (5 - this.t + 6 * this.c) * this.a2 * this.C3)), n.x = this.a * u + this.x0, n.y = this.a * r + this.y0, n
	},
	inverse: function(n) {
		n.x -= this.x0;
		n.y -= this.y0;
		var t = n.x / this.a,
			i = n.y / this.a;
		return this.sphere ? (this.dd = i + this.lat0, phi = Math.asin(Math.sin(this.dd) * Math.cos(t)), lam = Math.atan2(Math.tan(t), Math.cos(this.dd))) : (ph1 = this.pj_inv_mlfn(this.m0 + i, this.es, this.en), this.tn = Math.tan(ph1), this.t = this.tn * this.tn, this.n = Math.sin(ph1), this.r = 1 / (1 - this.es * this.n * this.n), this.n = Math.sqrt(this.r), this.r *= (1 - this.es) * this.n, this.dd = t / this.n, this.d2 = this.dd * this.dd, phi = ph1 - this.n * this.tn / this.r * this.d2 * (.5 - (1 + 3 * this.t) * this.d2 * this.C3), lam = this.dd * (1 + this.t * this.d2 * (-this.C4 + (1 + 3 * this.t) * this.d2 * this.C5)) / Math.cos(ph1)), n.x = Proj4js.common.adjust_lon(this.long0 + lam), n.y = phi, n
	},
	pj_enfn: function(n) {
		en = [];
		en[0] = this.C00 - n * (this.C02 + n * (this.C04 + n * (this.C06 + n * this.C08)));
		en[1] = n * (this.C22 - n * (this.C04 + n * (this.C06 + n * this.C08)));
		var t = n * n;
		return en[2] = t * (this.C44 - n * (this.C46 + n * this.C48)), t *= n, en[3] = t * (this.C66 - n * this.C68), en[4] = t * n * this.C88, en
	},
	pj_mlfn: function(n, t, i, r) {
		return i *= t, t *= t, r[0] * n - i * (r[1] + t * (r[2] + t * (r[3] + t * r[4])))
	},
	pj_inv_mlfn: function(n, r, u) {
		for (k = 1 / (1 - r), phi = n, i = Proj4js.common.MAX_ITER; i; --i)
			if (s = Math.sin(phi), t = 1 - r * s * s, t = (this.pj_mlfn(phi, s, Math.cos(phi), u) - n) * t * Math.sqrt(t) * k, phi -= t, Math.abs(t) < Proj4js.common.EPSLN) return phi;
		return Proj4js.reportError("cass:pj_inv_mlfn: Convergence error"), phi
	},
	C00: 1,
	C02: .25,
	C04: .046875,
	C06: .01953125,
	C08: .01068115234375,
	C22: .75,
	C44: .46875,
	C46: .013020833333333334,
	C48: .007120768229166667,
	C66: .36458333333333331,
	C68: .005696614583333333,
	C88: .3076171875
};
Proj4js.Proj.gauss = {
	init: function() {
		sphi = Math.sin(this.lat0);
		cphi = Math.cos(this.lat0);
		cphi *= cphi;
		this.rc = Math.sqrt(1 - this.es) / (1 - this.es * sphi * sphi);
		this.C = Math.sqrt(1 + this.es * cphi * cphi / (1 - this.es));
		this.phic0 = Math.asin(sphi / this.C);
		this.ratexp = .5 * this.C * this.e;
		this.K = Math.tan(.5 * this.phic0 + Proj4js.common.FORTPI) / (Math.pow(Math.tan(.5 * this.lat0 + Proj4js.common.FORTPI), this.C) * Proj4js.common.srat(this.e * sphi, this.ratexp))
	},
	forward: function(n) {
		var i = n.x,
			t = n.y;
		return n.y = 2 * Math.atan(this.K * Math.pow(Math.tan(.5 * t + Proj4js.common.FORTPI), this.C) * Proj4js.common.srat(this.e * Math.sin(t), this.ratexp)) - Proj4js.common.HALF_PI, n.x = this.C * i, n
	},
	inverse: function(n) {
		var r = n.x / this.C,
			t = n.y,
			i;
		for (num = Math.pow(Math.tan(.5 * t + Proj4js.common.FORTPI) / this.K, 1 / this.C), i = Proj4js.common.MAX_ITER; i > 0; --i) {
			if (t = 2 * Math.atan(num * Proj4js.common.srat(this.e * Math.sin(n.y), -.5 * this.e)) - Proj4js.common.HALF_PI, Math.abs(t - n.y) < 1e-14) break;
			n.y = t
		}
		return i ? (n.x = r, n.y = t, n) : (Proj4js.reportError("gauss:inverse:convergence failed"), null)
	}
};
Proj4js.Proj.omerc = {
	init: function() {
		this.mode || (this.mode = 0);
		this.lon1 || (this.lon1 = 0, this.mode = 1);
		this.lon2 || (this.lon2 = 0);
		this.lat2 || (this.lat2 = 0);
		var t = this.b / this.a,
			n = 1 - Math.pow(t, 2),
			i = Math.sqrt(n);
		this.sin_p20 = Math.sin(this.lat0);
		this.cos_p20 = Math.cos(this.lat0);
		this.con = 1 - this.es * this.sin_p20 * this.sin_p20;
		this.com = Math.sqrt(1 - n);
		this.bl = Math.sqrt(1 + this.es * Math.pow(this.cos_p20, 4) / (1 - n));
		this.al = this.a * this.bl * this.k0 * this.com / this.con;
		Math.abs(this.lat0) < Proj4js.common.EPSLN ? (this.ts = 1, this.d = 1, this.el = 1) : (this.ts = Proj4js.common.tsfnz(this.e, this.lat0, this.sin_p20), this.con = Math.sqrt(this.con), this.d = this.bl * this.com / (this.cos_p20 * this.con), this.f = this.d * this.d - 1 > 0 ? this.lat0 >= 0 ? this.d + Math.sqrt(this.d * this.d - 1) : this.d - Math.sqrt(this.d * this.d - 1) : this.d, this.el = this.f * Math.pow(this.ts, this.bl));
		this.mode != 0 ? (this.g = .5 * (this.f - 1 / this.f), this.gama = Proj4js.common.asinz(Math.sin(this.alpha) / this.d), this.longc = this.longc - Proj4js.common.asinz(this.g * Math.tan(this.gama)) / this.bl, this.con = Math.abs(this.lat0), this.con > Proj4js.common.EPSLN && Math.abs(this.con - Proj4js.common.HALF_PI) > Proj4js.common.EPSLN ? (this.singam = Math.sin(this.gama), this.cosgam = Math.cos(this.gama), this.sinaz = Math.sin(this.alpha), this.cosaz = Math.cos(this.alpha), this.u = this.lat0 >= 0 ? this.al / this.bl * Math.atan(Math.sqrt(this.d * this.d - 1) / this.cosaz) : -(this.al / this.bl) * Math.atan(Math.sqrt(this.d * this.d - 1) / this.cosaz)) : Proj4js.reportError("omerc:Init:DataError")) : (this.sinphi = Math.sin(this.at1), this.ts1 = Proj4js.common.tsfnz(this.e, this.lat1, this.sinphi), this.sinphi = Math.sin(this.lat2), this.ts2 = Proj4js.common.tsfnz(this.e, this.lat2, this.sinphi), this.h = Math.pow(this.ts1, this.bl), this.l = Math.pow(this.ts2, this.bl), this.f = this.el / this.h, this.g = .5 * (this.f - 1 / this.f), this.j = (this.el * this.el - this.l * this.h) / (this.el * this.el + this.l * this.h), this.p = (this.l - this.h) / (this.l + this.h), this.dlon = this.lon1 - this.lon2, this.dlon < -Proj4js.common.PI && (this.lon2 = this.lon2 - 2 * Proj4js.common.PI), this.dlon > Proj4js.common.PI && (this.lon2 = this.lon2 + 2 * Proj4js.common.PI), this.dlon = this.lon1 - this.lon2, this.longc = .5 * (this.lon1 + this.lon2) - Math.atan(this.j * Math.tan(.5 * this.bl * this.dlon) / this.p) / this.bl, this.dlon = Proj4js.common.adjust_lon(this.lon1 - this.longc), this.gama = Math.atan(Math.sin(this.bl * this.dlon) / this.g), this.alpha = Proj4js.common.asinz(this.d * Math.sin(this.gama)), Math.abs(this.lat1 - this.lat2) <= Proj4js.common.EPSLN ? Proj4js.reportError("omercInitDataError") : this.con = Math.abs(this.lat1), this.con <= Proj4js.common.EPSLN || Math.abs(this.con - HALF_PI) <= Proj4js.common.EPSLN ? Proj4js.reportError("omercInitDataError") : Math.abs(Math.abs(this.lat0) - Proj4js.common.HALF_PI) <= Proj4js.common.EPSLN && Proj4js.reportError("omercInitDataError"), this.singam = Math.sin(this.gam), this.cosgam = Math.cos(this.gam), this.sinaz = Math.sin(this.alpha), this.cosaz = Math.cos(this.alpha), this.u = this.lat0 >= 0 ? this.al / this.bl * Math.atan(Math.sqrt(this.d * this.d - 1) / this.cosaz) : -(this.al / this.bl) * Math.atan(Math.sqrt(this.d * this.d - 1) / this.cosaz))
	},
	forward: function(n) {
		var c, l, f, i, t, o, r, s, h, e, a, p = n.x,
			u = n.y,
			v, y;
		return c = Math.sin(u), e = Proj4js.common.adjust_lon(p - this.longc), o = Math.sin(this.bl * e), Math.abs(Math.abs(u) - Proj4js.common.HALF_PI) > Proj4js.common.EPSLN ? (a = Proj4js.common.tsfnz(this.e, u, c), i = this.el / Math.pow(a, this.bl), h = .5 * (i - 1 / i), l = .5 * (i + 1 / i), r = (h * this.singam - o * this.cosgam) / l, f = Math.cos(this.bl * e), Math.abs(f) < 1e-7 ? t = this.al * this.bl * e : (t = this.al * Math.atan((h * this.cosgam + o * this.singam) / f) / this.bl, f < 0 && (t = t + Proj4js.common.PI * this.al / this.bl))) : (r = u >= 0 ? this.singam : -this.singam, t = this.al * u / this.bl), Math.abs(Math.abs(r) - 1) <= Proj4js.common.EPSLN && Proj4js.reportError("omercFwdInfinity"), s = .5 * this.al * Math.log((1 - r) / (1 + r)) / this.bl, t = t - this.u, v = this.x0 + s * this.cosaz + t * this.sinaz, y = this.y0 + t * this.cosaz - s * this.sinaz, n.x = v, n.y = y, n
	},
	inverse: function(n) {
		var o, s, u, h, r, t, f, c, e, i, l;
		return n.x -= this.x0, n.y -= this.y0, l = 0, h = n.x * this.cosaz - n.y * this.sinaz, r = n.y * this.cosaz + n.x * this.sinaz, r = r + this.u, t = Math.exp(-this.bl * h / this.al), f = .5 * (t - 1 / t), s = .5 * (t + 1 / t), e = Math.sin(this.bl * r / this.al), i = (e * this.cosgam + f * this.singam) / s, Math.abs(Math.abs(i) - 1) <= Proj4js.common.EPSLN ? (lon = this.longc, lat = i >= 0 ? Proj4js.common.HALF_PI : -Proj4js.common.HALF_PI) : (u = 1 / this.bl, c = Math.pow(this.el / Math.sqrt((1 + i) / (1 - i)), u), lat = Proj4js.common.phi2z(this.e, c), o = this.longc - Math.atan2(f * this.cosgam - e * this.singam, u) / this.bl, lon = Proj4js.common.adjust_lon(o)), n.x = lon, n.y = lat, n
	}
};
Proj4js.Proj.lcc = {
	init: function() {
		var n;
		if (this.lat2 || (this.lat2 = this.lat0), this.k0 || (this.k0 = 1), Math.abs(this.lat1 + this.lat2) < Proj4js.common.EPSLN) {
			Proj4js.reportError("lcc:init: Equal Latitudes");
			return
		}
		n = this.b / this.a;
		this.e = Math.sqrt(1 - n * n);
		var t = Math.sin(this.lat1),
			f = Math.cos(this.lat1),
			i = Proj4js.common.msfnz(this.e, t, f),
			r = Proj4js.common.tsfnz(this.e, this.lat1, t),
			u = Math.sin(this.lat2),
			e = Math.cos(this.lat2),
			o = Proj4js.common.msfnz(this.e, u, e),
			s = Proj4js.common.tsfnz(this.e, this.lat2, u),
			h = Proj4js.common.tsfnz(this.e, this.lat0, Math.sin(this.lat0));
		this.ns = Math.abs(this.lat1 - this.lat2) > Proj4js.common.EPSLN ? Math.log(i / o) / Math.log(r / s) : t;
		this.f0 = i / (this.ns * Math.pow(r, this.ns));
		this.rh = this.a * this.f0 * Math.pow(h, this.ns);
		this.title || (this.title = "Lambert Conformal Conic")
	},
	forward: function(n) {
		var i = n.x,
			t = n.y,
			r, e, u, f;
		if (!(t <= 90) || !(t >= -90) || !(i <= 180) || !(i >= -180)) return Proj4js.reportError("lcc:forward: llInputOutOfRange: " + i + " : " + t), null;
		if (r = Math.abs(Math.abs(t) - Proj4js.common.HALF_PI), r > Proj4js.common.EPSLN) e = Proj4js.common.tsfnz(this.e, t, Math.sin(t)), u = this.a * this.f0 * Math.pow(e, this.ns);
		else {
			if (r = t * this.ns, r <= 0) return Proj4js.reportError("lcc:forward: No Projection"), null;
			u = 0
		}
		return f = this.ns * Proj4js.common.adjust_lon(i - this.long0), n.x = this.k0 * u * Math.sin(f) + this.x0, n.y = this.k0 * (this.rh - u * Math.cos(f)) + this.y0, n
	},
	inverse: function(n) {
		var i, t, o, f, s, r = (n.x - this.x0) / this.k0,
			u = this.rh - (n.y - this.y0) / this.k0,
			e;
		if (this.ns > 0 ? (i = Math.sqrt(r * r + u * u), t = 1) : (i = -Math.sqrt(r * r + u * u), t = -1), e = 0, i != 0 && (e = Math.atan2(t * r, t * u)), i != 0 || this.ns > 0) {
			if (t = 1 / this.ns, o = Math.pow(i / (this.a * this.f0), t), f = Proj4js.common.phi2z(this.e, o), f == -9999) return null
		} else f = -Proj4js.common.HALF_PI;
		return s = Proj4js.common.adjust_lon(e / this.ns + this.long0), n.x = s, n.y = f, n
	}
};
Proj4js.Proj.laea = {
	S_POLE: 1,
	N_POLE: 2,
	EQUIT: 3,
	OBLIQ: 4,
	init: function() {
		var t = Math.abs(this.lat0),
			n;
		if (this.mode = Math.abs(t - Proj4js.common.HALF_PI) < Proj4js.common.EPSLN ? this.lat0 < 0 ? this.S_POLE : this.N_POLE : Math.abs(t) < Proj4js.common.EPSLN ? this.EQUIT : this.OBLIQ, this.es > 0) {
			this.qp = Proj4js.common.qsfnz(this.e, 1);
			this.mmf = .5 / (1 - this.es);
			this.apa = this.authset(this.es);
			switch (this.mode) {
				case this.N_POLE:
				case this.S_POLE:
					this.dd = 1;
					break;
				case this.EQUIT:
					this.rq = Math.sqrt(.5 * this.qp);
					this.dd = 1 / this.rq;
					this.xmf = 1;
					this.ymf = .5 * this.qp;
					break;
				case this.OBLIQ:
					this.rq = Math.sqrt(.5 * this.qp);
					n = Math.sin(this.lat0);
					this.sinb1 = Proj4js.common.qsfnz(this.e, n) / this.qp;
					this.cosb1 = Math.sqrt(1 - this.sinb1 * this.sinb1);
					this.dd = Math.cos(this.lat0) / (Math.sqrt(1 - this.es * n * n) * this.rq * this.cosb1);
					this.ymf = (this.xmf = this.rq) / this.dd;
					this.xmf *= this.dd
			}
		} else this.mode == this.OBLIQ && (this.sinph0 = Math.sin(this.lat0), this.cosph0 = Math.cos(this.lat0))
	},
	forward: function(n) {
		var o, t, f = n.x,
			e = n.y,
			i, l, s;
		if (f = Proj4js.common.adjust_lon(f - this.long0), this.sphere) {
			s = Math.sin(e);
			l = Math.cos(e);
			i = Math.cos(f);
			switch (this.mode) {
				case this.OBLIQ:
				case this.EQUIT:
					if (t = this.mode == this.EQUIT ? 1 + l * i : 1 + this.sinph0 * s + this.cosph0 * l * i, t <= Proj4js.common.EPSLN) return Proj4js.reportError("laea:fwd:y less than eps"), null;
					t = Math.sqrt(2 / t);
					o = t * l * Math.sin(f);
					t *= this.mode == this.EQUIT ? s : this.cosph0 * s - this.sinph0 * l * i;
					break;
				case this.N_POLE:
					i = -i;
				case this.S_POLE:
					if (Math.abs(e + this.phi0) < Proj4js.common.EPSLN) return Proj4js.reportError("laea:fwd:phi < eps"), null;
					t = Proj4js.common.FORTPI - e * .5;
					t = 2 * (this.mode == this.S_POLE ? Math.cos(t) : Math.sin(t));
					o = t * Math.sin(f);
					t *= i
			}
		} else {
			var i, a, s, u, h = 0,
				c = 0,
				r = 0;
			i = Math.cos(f);
			a = Math.sin(f);
			s = Math.sin(e);
			u = Proj4js.common.qsfnz(this.e, s);
			(this.mode == this.OBLIQ || this.mode == this.EQUIT) && (h = u / this.qp, c = Math.sqrt(1 - h * h));
			switch (this.mode) {
				case this.OBLIQ:
					r = 1 + this.sinb1 * h + this.cosb1 * c * i;
					break;
				case this.EQUIT:
					r = 1 + c * i;
					break;
				case this.N_POLE:
					r = Proj4js.common.HALF_PI + e;
					u = this.qp - u;
					break;
				case this.S_POLE:
					r = e - Proj4js.common.HALF_PI;
					u = this.qp + u
			}
			if (Math.abs(r) < Proj4js.common.EPSLN) return Proj4js.reportError("laea:fwd:b < eps"), null;
			switch (this.mode) {
				case this.OBLIQ:
				case this.EQUIT:
					r = Math.sqrt(2 / r);
					t = this.mode == this.OBLIQ ? this.ymf * r * (this.cosb1 * h - this.sinb1 * c * i) : (r = Math.sqrt(2 / (1 + c * i))) * h * this.ymf;
					o = this.xmf * r * c * a;
					break;
				case this.N_POLE:
				case this.S_POLE:
					u >= 0 ? (o = (r = Math.sqrt(u)) * a, t = i * (this.mode == this.S_POLE ? r : -r)) : o = t = 0
			}
		}
		return n.x = this.a * o + this.x0, n.y = this.a * t + this.y0, n
	},
	inverse: function(n) {
		var r, t, h, f, s, i, l, e, c, o, u;
		if (n.x -= this.x0, n.y -= this.y0, r = n.x / this.a, t = n.y / this.a, this.sphere) {
			if (h = 0, s = 0, f = Math.sqrt(r * r + t * t), i = f * .5, i > 1) return Proj4js.reportError("laea:Inv:DataError"), null;
			i = 2 * Math.asin(i);
			(this.mode == this.OBLIQ || this.mode == this.EQUIT) && (s = Math.sin(i), h = Math.cos(i));
			switch (this.mode) {
				case this.EQUIT:
					i = Math.abs(f) <= Proj4js.common.EPSLN ? 0 : Math.asin(t * s / f);
					r *= s;
					t = h * f;
					break;
				case this.OBLIQ:
					i = Math.abs(f) <= Proj4js.common.EPSLN ? this.phi0 : Math.asin(h * sinph0 + t * s * cosph0 / f);
					r *= s * cosph0;
					t = (h - Math.sin(i) * sinph0) * f;
					break;
				case this.N_POLE:
					t = -t;
					i = Proj4js.common.HALF_PI - i;
					break;
				case this.S_POLE:
					i -= Proj4js.common.HALF_PI
			}
			lam = t == 0 && (this.mode == this.EQUIT || this.mode == this.OBLIQ) ? 0 : Math.atan2(r, t)
		} else {
			u = 0;
			switch (this.mode) {
				case this.EQUIT:
				case this.OBLIQ:
					if (r /= this.dd, t *= this.dd, o = Math.sqrt(r * r + t * t), o < Proj4js.common.EPSLN) return n.x = 0, n.y = this.phi0, n;
					e = 2 * Math.asin(.5 * o / this.rq);
					l = Math.cos(e);
					r *= e = Math.sin(e);
					this.mode == this.OBLIQ ? (u = l * this.sinb1 + t * e * this.cosb1 / o, c = this.qp * u, t = o * this.cosb1 * l - t * this.sinb1 * e) : (u = t * e / o, c = this.qp * u, t = o * l);
					break;
				case this.N_POLE:
					t = -t;
				case this.S_POLE:
					if (c = r * r + t * t, !c) return n.x = 0, n.y = this.phi0, n;
					u = 1 - c / this.qp;
					this.mode == this.S_POLE && (u = -u)
			}
			lam = Math.atan2(r, t);
			i = this.authlat(Math.asin(u), this.apa)
		}
		return n.x = Proj4js.common.adjust_lon(this.long0 + lam), n.y = i, n
	},
	P00: .33333333333333331,
	P01: .17222222222222222,
	P02: .10257936507936508,
	P10: .063888888888888884,
	P11: .0664021164021164,
	P20: .016415012942191543,
	authset: function(n) {
		var t, i = [];
		return i[0] = n * this.P00, t = n * n, i[0] += t * this.P01, i[1] = t * this.P10, t *= n, i[0] += t * this.P02, i[1] += t * this.P11, i[2] = t * this.P20, i
	},
	authlat: function(n, t) {
		var i = n + n;
		return n + t[0] * Math.sin(i) + t[1] * Math.sin(i + i) + t[2] * Math.sin(i + i + i)
	}
};
Proj4js.Proj.aeqd = {
	init: function() {
		this.sin_p12 = Math.sin(this.lat0);
		this.cos_p12 = Math.cos(this.lat0)
	},
	forward: function(n) {
		var s = n.x,
			h = n.y,
			t, f = Math.sin(n.y),
			i = Math.cos(n.y),
			e = Proj4js.common.adjust_lon(s - this.long0),
			o = Math.cos(e),
			r = this.sin_p12 * f + this.cos_p12 * i * o,
			u;
		if (Math.abs(Math.abs(r) - 1) < Proj4js.common.EPSLN) {
			if (t = 1, r < 0) {
				Proj4js.reportError("aeqd:Fwd:PointError");
				return
			}
		} else u = Math.acos(r), t = u / Math.sin(u);
		return n.x = this.x0 + this.a * t * i * Math.sin(e), n.y = this.y0 + this.a * t * (this.cos_p12 * f - this.sin_p12 * i * o), n
	},
	inverse: function(n) {
		var t, i, s;
		if (n.x -= this.x0, n.y -= this.y0, t = Math.sqrt(n.x * n.x + n.y * n.y), t > 2 * Proj4js.common.HALF_PI * this.a) {
			Proj4js.reportError("aeqdInvDataError");
			return
		}
		var e = t / this.a,
			u = Math.sin(e),
			o = Math.cos(e),
			f = this.long0,
			r;
		return Math.abs(t) <= Proj4js.common.EPSLN ? r = this.lat0 : (r = Proj4js.common.asinz(o * this.sin_p12 + n.y * u * this.cos_p12 / t), i = Math.abs(this.lat0) - Proj4js.common.HALF_PI, Math.abs(i) <= Proj4js.common.EPSLN ? f = lat0 >= 0 ? Proj4js.common.adjust_lon(this.long0 + Math.atan2(n.x, -n.y)) : Proj4js.common.adjust_lon(this.long0 - Math.atan2(-n.x, n.y)) : (i = o - this.sin_p12 * Math.sin(r), Math.abs(i) < Proj4js.common.EPSLN && Math.abs(n.x) < Proj4js.common.EPSLN || (s = Math.atan2(n.x * u * this.cos_p12, i * t), f = Proj4js.common.adjust_lon(this.long0 + Math.atan2(n.x * u * this.cos_p12, i * t))))), n.x = f, n.y = r, n
	}
};
Proj4js.Proj.moll = {
	init: function() {},
	forward: function(n) {
		for (var r, e, o, s = n.x, i = n.y, u = Proj4js.common.adjust_lon(s - this.long0), t = i, h = Proj4js.common.PI * Math.sin(i), f = 0;; f++) {
			if (r = -(t + Math.sin(t) - h) / (1 + Math.cos(t)), t += r, Math.abs(r) < Proj4js.common.EPSLN) break;
			f >= 50 && Proj4js.reportError("moll:Fwd:IterationError")
		}
		return t /= 2, Proj4js.common.PI / 2 - Math.abs(i) < Proj4js.common.EPSLN && (u = 0), e = .900316316158 * this.a * u * Math.cos(t) + this.x0, o = 1.4142135623731 * this.a * Math.sin(t) + this.y0, n.x = e, n.y = o, n
	},
	inverse: function(n) {
		var t, r, i, u;
		return n.x -= this.x0, t = n.y / (1.4142135623731 * this.a), Math.abs(t) > .999999999999 && (t = .999999999999), r = Math.asin(t), i = Proj4js.common.adjust_lon(this.long0 + n.x / (.900316316158 * this.a * Math.cos(r))), i < -Proj4js.common.PI && (i = -Proj4js.common.PI), i > Proj4js.common.PI && (i = Proj4js.common.PI), t = (2 * r + Math.sin(2 * r)) / Proj4js.common.PI, Math.abs(t) > 1 && (t = 1), u = Math.asin(t), n.x = i, n.y = u, n
	}
};
