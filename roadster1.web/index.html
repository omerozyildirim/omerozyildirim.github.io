<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Roadster demonstration</title>
  <script src="main.js"></script>
</head>
<body>
  <h3>ROADSTER DEMONSTRATION</H3>
  <p>Click on the canvas to define the control points. Set the precision.</p>
  <p>Click "Draw" to draw the curve, "Clear" to clear the canvas.</p>
  <p>
    <canvas width="640" height="512" id="myCanvas" style="border:1px solid #000000;">
      Your browser does not support canvases.
    </canvas>
  </p>
  <script>
    function getMousePos(canvas, evt) {
      var rect = canvas.getBoundingClientRect();
      return {x: evt.clientX - rect.left, y: evt.clientY - rect.top};
    }
    var canvas = document.getElementById('myCanvas');
    var context = canvas.getContext('2d');
    canvas.addEventListener('mouseup', function(evt) {
      var mousePos = getMousePos(canvas, evt);
      add_point(mousePos.x, mousePos.y);
      plot_on_canvas(mousePos.x, mousePos.y);
    }, false);
  </script>
  <p>
    Precision: <input type="number" id="precbox" onchange="replot()" min="1" max="100" value="10">
    <button onclick="replot()">Draw</button>
    <button onclick="clear_canvas(); clear_all();">Clear</button>
  </p>
  </body>
</html>
